function learndash_course_edit_page_billing_cycle_javascript(){if(jQuery(".sfwd_options select[name=course_price_billing_t3]").length)var e=jQuery(".sfwd_options select[name=course_price_billing_t3]");else if(jQuery(".sfwd_options select[name=group_price_billing_t3]").length)e=jQuery(".sfwd_options select[name=group_price_billing_t3]");if(void 0!==e){var t=e.parent(),s=e.val();function n(){switch(s){case"D":message=sfwd_data.valid_recurring_paypal_day_range,max_value=sfwd_data.valid_recurring_paypal_day_max;break;case"W":message=sfwd_data.valid_recurring_paypal_week_range,max_value=sfwd_data.valid_recurring_paypal_week_max;break;case"M":message=sfwd_data.valid_recurring_paypal_month_range,max_value=sfwd_data.valid_recurring_paypal_month_max;break;case"Y":message=sfwd_data.valid_recurring_paypal_year_range,max_value=sfwd_data.valid_recurring_paypal_year_max;break;default:message="",max_value=0}t.append(function(e){return'<div id="learndash_price_billing_cycle_instructions"><label class="sfwd_help_text">'+e+"</label></div>"}(message));const e=t.find('input[name="course_price_billing_p3"');e.val()>max_value&&e.val(max_value),e.prop("max",max_value)}n(),e.on("change",(function(t){s=e.val(),jQuery("#learndash_price_billing_cycle_instructions").remove(),n()}))}jQuery("table.learndash-settings-table-sortable").length&&jQuery("table.learndash-settings-table-sortable tbody").sortable()}function learndash_get_base_select2_args(){return{theme:"learndash",ajax:null,allowClear:!0,width:"resolve",dir:window.isRtl?"rtl":"",dropdownAutoWidth:!0,language:{loadingMore:function(){return void 0!==learndash_admin_settings_data.selec2_language.loadingMore?learndash_admin_settings_data.selec2_language.loadingMore:"Loading more results…"},noResults:function(){return void 0!==learndash_admin_settings_data.selec2_language.noResults?learndash_admin_settings_data.selec2_language.noResults:"No results found"},searching:function(){return void 0!==learndash_admin_settings_data.selec2_language.searching?learndash_admin_settings_data.selec2_language.searching:"Searching…"},removeAllItems:function(){return void 0!==learndash_admin_settings_data.selec2_language.removeAllItems?learndash_admin_settings_data.selec2_language.removeAllItems:"Remove all items"},removeItem:function(){return void 0!==learndash_admin_settings_data.selec2_language.removeItem?learndash_admin_settings_data.selec2_language.removeItem:"Remove item"}}}}function learndash_settings_select2_ajax(e){var t=jQuery(e).data("select2-query-data");return void 0===t||""===t?null:(jQuery(e).on("select2:unselect",(function(t){jQuery(e).trigger("change")})),{url:learndash_admin_settings_data.ajaxurl,dataType:"json",method:"post",delay:1500,cache:!0,data:function(e){return{action:"learndash_settings_select2_query",query_data:t||"",search:e.term||"",page:e.page||1}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:t.page<e.total_pages}}}})}"undefined"!=typeof learndash_admin_settings_data&&void 0!==learndash_admin_settings_data.json?(learndash_admin_settings_data=learndash_admin_settings_data.json.replace(/&quot;/g,'"'),learndash_admin_settings_data=jQuery.parseJSON(learndash_admin_settings_data)):learndash_admin_settings_data={},jQuery((function(){learndash_course_edit_page_billing_cycle_javascript(),jQuery('.sfwd_options .sfwd_option_input select[data-ld-select2="1"]').length&&jQuery('.sfwd_options .sfwd_option_input select[data-ld-select2="1"]').each((function(e,t){var s=jQuery(t).parent("span.ld-select");void 0!==s&&jQuery(s).addClass("ld-select2");var n=learndash_get_base_select2_args(),a=jQuery(t).attr("placeholder");void 0!==a&&""!==a||(a=jQuery("option[value='']",t).text()),void 0!==a&&""!==a||(a="Select an option"),n.placeholder=a,n.ajax=learndash_settings_select2_ajax(t),jQuery(t).select2(n)})),jQuery('body.edit-php .tablenav.top select[data-ld-select2="1"], body.users-php .tablenav.top select[data-ld-select2="1"]').length&&jQuery('body.edit-php .tablenav.top select[data-ld-select2="1"], body.users-php .tablenav.top select[data-ld-select2="1"]').each((function(e,t){var s=learndash_get_base_select2_args(),n=jQuery(t).attr("placeholder");void 0!==n&&""!==n||(n=jQuery("option[value='']",t).text()),void 0!==n&&""!==n||(n="Select an option"),s.placeholder=n,s.ajax=function(e){var t=jQuery("#ld-listing-nonce").data("ld-listing-nonce");if(void 0===t||""===t)return null;var s=jQuery(e).data("ld-selector-query-data");if(void 0===s||""===s)return null;if(void 0===s.selector_key||""===s.selector_key)return null;return jQuery(e).on("select2:unselect",(function(t){jQuery(e).trigger("change")})),{url:learndash_admin_settings_data.ajaxurl,dataType:"json",method:"post",delay:1500,cache:!0,data:function(e){var n={};return n.selector_key=s.selector_key,n.selector_filters={},void 0!==s.selector_filters&&jQuery.each(s.selector_filters,(function(e,t){if(""!==t&&jQuery('body.edit-php .tablenav.top select[data-ld-selector-nonce="'+t+'"], body.users-php .tablenav.top select[data-ld-selector-nonce="'+t+'"]').length){var s=jQuery('body.edit-php .tablenav.top select[data-ld-selector-nonce="'+t+'"], body.users-php .tablenav.top select[data-ld-selector-nonce="'+t+'"]').val();n.selector_filters[t]=s}})),{action:"learndash_listing_select2_query",listing_nonce:t,query_data:n||"",search:e.term||"",page:e.page||1}},processResults:function(e,t){return t.page=t.page||1,{results:e.items,pagination:{more:t.page<e.total_pages}}}}}(t),jQuery(t).select2(s)})),jQuery(".sfwd_input_type_colorpicker .learndash-section-field-colorpicker").length&&jQuery(".sfwd_input_type_colorpicker .learndash-section-field-colorpicker").wpColorPicker(),jQuery(".sfwd_options .sfwd_input_type_select-edit-delete").length&&jQuery(".sfwd_options .sfwd_input_type_select-edit-delete").each((function(e,t){var s=jQuery(t).find(".spinner");s.css("float","none"),jQuery(t).find("select").on("change",(function(e){var s=jQuery(t).find("select").val();if(jQuery(t).find(".message").hide(),s.length){var n=jQuery(t).find("select option:selected").text();jQuery(t).find('input[type="text"]').val(n),jQuery(t).find('input[type="text"]').attr("disabled",!1),jQuery(t).find('input[type="button"]').attr("disabled",!1)}else jQuery(t).find('input[type="text"]').val(""),jQuery(t).find('input[type="button"]').attr("disabled",!0),jQuery(t).find('input[type="text"]').attr("disabled",!0)})),jQuery(t).find('input[type="button"]').on("click",(function(e){var n=jQuery(e.currentTarget).data("action"),a=jQuery(t).find("select").val(),i=jQuery(t).find('input[type="text"]').val(),r=jQuery(t).find(".ajax_data").data("ajax");void 0!==r&&(r.field_action=n,r.field_value=a,r.field_text=i,s.css("visibility","visible"),jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",cache:!1,data:r,error:function(e,t,s){},success:function(e){s.css("visibility","hidden"),void 0!==e.status&&!0===e.status&&("update"==n?jQuery(t).find('select option[value="'+a+'"]').text(i):"delete"==n&&jQuery(t).find('select option[value="'+a+'"]').remove(),jQuery(t).find("select").val(""),jQuery(t).find('input[type="text"]').val("")),void 0!==e.message&&(jQuery(t).find(".message").html(e.message),jQuery(t).find(".message").show().fadeOut(3e3))}}))}))})),jQuery(".sfwd_options .learndash-section-field-media-upload_wrapper").length&&jQuery(".sfwd_options .learndash-section-field-media-upload_wrapper").each((function(e,t){var s=jQuery(t).find(".learndash-section-field-media-upload"),n=jQuery(t).find("img.image-preview");jQuery(t).find('input[type="button"].image-upload-button').on("click",(function(e){var t;e.preventDefault(),t||(t=wp.media.frames.file_frame=wp.media({title:"Select a image to upload",button:{text:"Use this image"},multiple:!1})).on("select",(function(){attachment=t.state().get("selection").first().toJSON(),jQuery(n).attr("src",attachment.url).css("width","auto"),jQuery(s).val(attachment.id)})),t.open()})),jQuery(t).find('input[type="button"].image-remove-button').on("click",(function(e){e.preventDefault(),jQuery(s).val("");var t=jQuery(n).data("default");void 0!==t?jQuery(n).attr("src",t):jQuery(n).attr("src","")}))})),jQuery("body.post-type-sfwd-courses #sfwd-courses.postbox .inside .sfwd_input").length||jQuery("body.post-type-sfwd-courses #sfwd-courses.postbox").remove(),jQuery("body.post-type-sfwd-lessons #sfwd-lessons.postbox .inside .sfwd_input").length||jQuery("body.post-type-sfwd-lessons #sfwd-lessons.postbox").remove(),jQuery("body.post-type-sfwd-topic #sfwd-topic.postbox .inside .sfwd_input").length||jQuery("body.post-type-sfwd-topic #sfwd-topic.postbox").remove(),jQuery("body.post-type-sfwd-quiz #sfwd-quiz.postbox .inside .sfwd_input").length||jQuery("body.post-type-sfwd-quiz #sfwd-quiz.postbox").remove(),jQuery("body.post-type-sfwd-question #sfwd-question.postbox .inside .sfwd_input").length||jQuery("body.post-type-sfwd-question #sfwd-question.postbox").remove(),jQuery(".sfwd_options").on("ld_setting_switch_changed_early",(function(e){if(jQuery(e.ld_trigger_data.element).hasClass("learndash-section-field-checkbox-switch")){var t=jQuery(e.ld_trigger_data.element).parents(".ld-switch-wrapper");if(void 0!==t&&jQuery("span.label-text-multple",t).length)if(jQuery("span.label-text-multple",t).find(".ld-label-text").hide(),"checked"===e.ld_trigger_data.state){var s=jQuery(e.ld_trigger_data.element).val();jQuery("span.label-text-multple",t).find(".ld-label-text-"+s).show()}else jQuery("span.label-text-multple",t).find("span.ld-label-text-").show()}})),jQuery(".sfwd_options input.learndash-section-field-checkbox-switch").length&&jQuery(".sfwd_options input.learndash-section-field-checkbox-switch").each((function(e,t){jQuery(t).on("click",(function(e){const t=1===jQuery(e.currentTarget).data("inverted");checked_state=t?"checked":"unchecked",jQuery(e.currentTarget).is(":checked")&&(checked_state=t?"unchecked":"checked");var s={type:"ld_setting_switch_changed_early",element:e.currentTarget,class:n,state:checked_state};jQuery(".sfwd_options").trigger({type:"ld_setting_switch_changed_early",ld_trigger_data:s});var n=jQuery(e.currentTarget).data("settings-sub-trigger");void 0!==n&&jQuery(".sfwd_options ."+n).length&&(s.type="ld_setting_switch_sub_changed_late","checked"===checked_state?jQuery(".sfwd_options ."+n).slideDown(500,(function(){jQuery(".sfwd_options ."+n).removeClass("ld-settings-sub-state-closed"),jQuery(".sfwd_options ."+n).addClass("ld-settings-sub-state-open"),jQuery(".sfwd_options").trigger({type:s.type,ld_trigger_data:s})})):jQuery(".sfwd_options ."+n).slideUp(400,(function(){jQuery(".sfwd_options ."+n).addClass("ld-settings-sub-state-closed"),jQuery(".sfwd_options ."+n).removeClass("ld-settings-sub-state-open"),jQuery(".sfwd_options").trigger({type:s.type,ld_trigger_data:s})})));var a=jQuery(e.currentTarget).data("settings-inner-trigger");void 0!==a&&jQuery(".sfwd_options ."+a).length&&(s.type="ld_setting_switch_inner_changed_late","checked"===checked_state?jQuery(".sfwd_options ."+a).slideDown(500,(function(){jQuery(".sfwd_options ."+a).removeClass("ld-settings-inner-state-closed"),jQuery(".sfwd_options ."+a).addClass("ld-settings-inner-state-open"),jQuery(".sfwd_options").trigger({type:s.type,ld_trigger_data:s})})):jQuery(".sfwd_options ."+a).slideUp(400,(function(){jQuery(".sfwd_options ."+a).addClass("ld-settings-inner-state-closed"),jQuery(".sfwd_options ."+a).removeClass("ld-settings-inner-state-open"),jQuery(".sfwd_options").trigger({type:s.type,ld_trigger_data:s})}))),e.stopPropagation()}))})),jQuery(".sfwd_options select.learndash-section-field-select").length&&jQuery(".sfwd_options select.learndash-section-field-select").each((function(e,t){jQuery(t).on("change",(function(e){var t=jQuery(e.currentTarget).val();void 0!==t&&"-1"!=t||(t="");var s={element:e.currentTarget,state:"open",value:t},n=jQuery(e.currentTarget).data("settings-sub-trigger");void 0!==n&&""!==n&&(s.class=a,s.type="ld_setting_select_sub_changed_early",jQuery(".sfwd_options ."+n).length&&(s.state="closed",jQuery(".sfwd_options ."+n).each((function(e,t){jQuery(t).slideUp("fast",(function(){jQuery(t).removeClass("ld-settings-sub-state-open"),jQuery(t).addClass("ld-settings-sub-state-closed"),jQuery(".sfwd_options").trigger({type:s.type,ld_trigger_data:s})}))}))),""!==t&&jQuery(".sfwd_options ."+n).length&&(s.class=n,jQuery(".sfwd_options").trigger({type:s.type,ld_trigger_data:s}),s.type="ld_setting_switch_sub_changed_late",s.state="open",jQuery(".sfwd_options ."+n).slideDown(500,(function(){jQuery(".sfwd_options ."+n).removeClass("ld-settings-sub-state-closed"),jQuery(".sfwd_options ."+n).addClass("ld-settings-sub-state-open"),jQuery(".sfwd_options").trigger({type:s.type,ld_trigger_data:s})}))));var a=jQuery(e.currentTarget).data("settings-inner-trigger");if(void 0!==a&&""!==a){s.class=a;var i=jQuery(e.currentTarget).parents(".sfwd_option_div")[0];void 0!==i&&jQuery(".ld-settings-inner-state-open",i).each((function(e,t){jQuery(t).slideUp("fast",(function(){jQuery(t).removeClass("ld-settings-inner-state-open"),jQuery(t).addClass("ld-settings-inner-state-closed"),s.type="ld_setting_switch_sub_changed_late",s.state="closed",jQuery(".sfwd_options").trigger({type:"ld_setting_select_changed_early",ld_trigger_data:s})}))})),a=a+"_"+t,jQuery(".sfwd_options ."+a).length&&(s.type="ld_setting_switch_inner_changed_early",s.state="open",jQuery(".sfwd_options").trigger({type:s.type,ld_trigger_data:s}),s.type="ld_setting_switch_inner_changed_late",jQuery(".sfwd_options ."+a).slideDown(500,(function(){jQuery(".sfwd_options ."+a).removeClass("ld-settings-inner-state-closed"),jQuery(".sfwd_options ."+a).addClass("ld-settings-inner-state-open"),jQuery(".sfwd_options").trigger({type:s.type,ld_trigger_data:s})})))}e.stopPropagation()}))})),jQuery(".sfwd_options input.learndash-section-field-radio").length&&jQuery(".sfwd_options input.learndash-section-field-radio").each((function(e,t){jQuery(t).on("click",(function(e){var s=jQuery(e.currentTarget).parents("fieldset")[0];void 0!==s&&jQuery(".ld-settings-inner-state-open",s).each((function(e,t){jQuery(t).slideUp("fast",(function(){jQuery(t).removeClass("ld-settings-inner-state-open"),jQuery(t).addClass("ld-settings-inner-state-closed"),jQuery(".sfwd_options").trigger({type:"ld_setting_radio_changed_early",ld_trigger_data:{type:"ld_setting_changed",element:t,class:"",state:"unchecked"}})}))}));var n=jQuery(t).data("settings-inner-trigger");if(void 0!==n&&jQuery(".sfwd_options ."+n).length){checked_state="unchecked",jQuery(e.currentTarget).is(":checked")&&(checked_state="checked");var a={type:"ld_setting_radio_inner_changed_early",element:e.currentTarget,class:n,state:checked_state};jQuery(".sfwd_options").trigger({type:"ld_setting_changed_early",ld_trigger_data:a}),a.type="ld_setting_radio_inner_changed_later","checked"===checked_state?jQuery(".sfwd_options ."+n).slideDown(500,(function(){jQuery(".sfwd_options ."+n).removeClass("ld-settings-inner-state-closed"),jQuery(".sfwd_options ."+n).addClass("ld-settings-inner-state-open"),jQuery(".sfwd_options").trigger({type:a.type,ld_trigger_data:a})})):jQuery(".sfwd_options ."+n).slideUp(400,(function(){jQuery(".sfwd_options ."+n).removeClass("ld-settings-inner-state-open"),jQuery(".sfwd_options ."+n).addClass("ld-settings-inner-state-closed"),jQuery(".sfwd_options").trigger({type:a.type,ld_trigger_data:a})}))}e.stopPropagation()}))})),jQuery(".sfwd_options #resultList li .expand-arrow").length&&jQuery(".sfwd_options #resultList li .expand-arrow").each((function(e,t){jQuery(t).on("click",(function(e){var t=jQuery(e.currentTarget).parents("li");if(void 0!==t){var s=jQuery(".resultEditor",t);void 0!==s&&(jQuery(e.currentTarget).hasClass("expand-arrow-down")?(jQuery(e.currentTarget).addClass("expand-arrow-up"),jQuery(e.currentTarget).removeClass("expand-arrow-down"),jQuery(s).slideDown(400)):(jQuery(e.currentTarget).addClass("expand-arrow-down"),jQuery(e.currentTarget).removeClass("expand-arrow-up"),jQuery(s).slideUp(500)))}}))}));var e={};if(jQuery("body.post-type-sfwd-lessons .sfwd_options").length&&(e={"learndash-lesson-display-content-settings_lesson_video_enabled":"","learndash-lesson-display-content-settings_lesson_assignment_upload":"","learndash-lesson-display-content-settings_forced_lesson_time_enabled":""},t()),jQuery("body.post-type-sfwd-topic .sfwd_options").length){e={"learndash-topic-display-content-settings_lesson_video_enabled":"","learndash-topic-display-content-settings_lesson_assignment_upload":"","learndash-topic-display-content-settings_forced_lesson_time_enabled":""};t()}function t(){var t=0;jQuery.isEmptyObject(e)||(jQuery.each(e,(function(s,n){jQuery(".sfwd_options input#"+s).length&&(jQuery(".sfwd_options input#"+s).is(":checked")?(e[s]=!0,t+=1):e[s]=!1)})),t>0?jQuery.each(e,(function(e,t){!0!==t&&(jQuery("#"+e).attr("disabled","disabled"),jQuery("#"+e).parent(".ld-switch").addClass("-disabled"))})):jQuery.each(e,(function(e,t){!0!==t&&(jQuery("#"+e).attr("disabled",!1),jQuery("#"+e).parent(".ld-switch").removeClass("-disabled"))})))}if(jQuery(".sfwd_options").on("ld_setting_switch_changed_early",(function(e){t()})),jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_course").on("change",(function(){null==window.sfwd_topic_lesson&&(window.sfwd_topic_lesson=jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").val());var e=jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_course").val();if(null==e||""===e)return jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").html(""),null;var t={action:"select_a_lesson",course_id:jQuery(this).val()};if(jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").length&&""!=window.sfwd_topic_lesson){var s=jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").data("ld_selector_nonce");void 0!==s&&(t.ld_selector_nonce=s);var n=jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").data("ld_selector_default");void 0!==n&&(t.ld_selector_default=n),jQuery.post(ajaxurl,t,(function(e){window.response=e,html="",jQuery.each(e.opt,(function(e,t){""!=t.key&&"0"!=t.key&&(selected=t.key==window.sfwd_topic_lesson?"selected=selected":"",html+="<option value='"+t.key+"' "+selected+">"+t.value+"</option>")})),jQuery("body.post-type-sfwd-topic .sfwd_options select#learndash-topic-access-settings_lesson").html(html)}),"json")}})),jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_course").on("change",(function(){null==window.sfwd_quiz_lesson&&(window.sfwd_quiz_lesson=jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").val());var e=jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_course").val();if(null==e||""===e)return jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").html(""),null;var t={action:"select_a_lesson_or_topic",course_id:jQuery(this).val()};if(jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").length){var s=jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").data("ld_selector_nonce");void 0!==s&&(t.ld_selector_nonce=s);var n=jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").data("ld_selector_default");void 0!==n&&(t.ld_selector_default=n),jQuery.post(ajaxurl,t,(function(e){window.response=e,html="",jQuery.each(e.opt,(function(e,t){""!=t.key&&"0"!=t.key&&(selected=t.key==window.sfwd_quiz_lesson?"selected=selected":"",html+="<option value='"+t.key+"' "+selected+">"+t.value+"</option>")})),jQuery("body.post-type-sfwd-quiz .sfwd_options select#learndash-quiz-access-settings_lesson").html(html)}),"json")}})),jQuery("select#learndash-quiz-progress-settings_quizRunOnceType").length&&(jQuery("select#learndash-quiz-progress-settings_quizRunOnceType").on("change",(function(){var e=jQuery(this).val();jQuery("#learndash-quiz-progress-settings_quizRunOnceCookie_field").hide(),2==e?jQuery("#learndash-quiz-progress-settings_quiz_reset_cookies_field").hide():jQuery("#learndash-quiz-progress-settings_quiz_reset_cookies_field").show()})),jQuery("select#learndash-quiz-progress-settings_quizRunOnceType").change()),jQuery(".sfwd_options select#learndash_settings_courses_themes_active_theme").length&&jQuery(".sfwd_options select#learndash_settings_courses_themes_active_theme").each((function(e,t){jQuery(t).on("change",(function(e){var t=jQuery(e.currentTarget).val();jQuery(".sfwd_options .ld-theme-settings-section-state-open").slideUp(500,(function(){jQuery(this).removeClass("ld-theme-settings-section-state-open"),jQuery(this).addClass("ld-theme-settings-section-state-closed")})),""!==t&&jQuery(".sfwd_options .ld-theme-settings-section-"+t).slideDown(500,(function(){jQuery(this).removeClass("ld-theme-settings-section-state-closed"),jQuery(this).addClass("ld-theme-settings-section-state-open")})),e.stopPropagation()}))})),jQuery('.sfwd_options input[name="templateLoad"]').length){if(jQuery('.sfwd_options select[name="templateLoadId"] option').length<2){var s=jQuery('.sfwd_options input[name="templateLoad"]').parents(".sfwd_input");void 0!==s&&jQuery(s).hide()}jQuery('.sfwd_options input[name="templateLoad"]').on("click",(function(){if(jQuery('.sfwd_options select[name="templateLoadId"]').length){var e=jQuery('.sfwd_options select[name="templateLoadId"]').val();if(""!=e&&"-1"!=e){if(jQuery('.sfwd_options input[name="templateLoadReplaceCourse"]').length&&jQuery('.sfwd_options input[name="templateLoadReplaceCourse"]').checked){var t=jQuery('.sfwd_options input[name="templateLoadReplaceCourse"]').val();void 0!==t&&""!==t&&(e=e+"&templateLoadReplaceCourse="+t)}window.location.href=e}}return!1}))}var n={};function a(e,t,s){if(jQuery(e).length&&void 0!==e.type){var a=e.type,i=jQuery(e).parents(".sfwd_input");if(void 0!==i){var r=jQuery(i).attr("id"),d="";if(!0===t){if(void 0!==s&&void 0!==learndash_admin_settings_data.settings_fields_errors&&void 0!==learndash_admin_settings_data.settings_fields_errors[a]&&void 0!==learndash_admin_settings_data.settings_fields_errors[a][s]&&(d=learndash_admin_settings_data.settings_fields_errors[a][s]),void 0===n[r]){var l=jQuery(".sfwd_option_label label",i).html();if(void 0!==l){n[r]=l.trim();var o=jQuery(e).next(".learndash-section-field-error").html();void 0!==o&&(n[r]+=" - "+o),d&&(n[r]+=" : "+d)}}jQuery(i).addClass("learndash_settings_field_invalid"),jQuery(i).find(".learndash-section-field-error").show()}else void 0!==n[r]&&delete n[r],jQuery(i).removeClass("learndash_settings_field_invalid"),jQuery(i).find(".learndash-section-field-error").hide()}}!function(){if(!jQuery("#learndash-settings-fields-notice-errors").length){if(void 0===learndash_admin_settings_data.admin_notice_settings_fields_errors_container)return;jQuery(learndash_admin_settings_data.admin_notice_settings_fields_errors_container).insertAfter("hr.wp-header-end")}if(jQuery("#learndash-settings-fields-notice-errors").length){for(var e=jQuery("#learndash-settings-fields-notice-errors"),t=Object.keys(n),s="",a=0;a<t.length;a++){var i=t[a],r=n[i];""!==r&&(s+="<li>"+r+"</li>")}jQuery("ul.errors-list",e).html(s),t.length>0?e.show():e.hide()}}()}jQuery('.sfwd_options input[type="number"]').length&&jQuery('.sfwd_options input[type="number"]').each((function(e,t){jQuery(t).on("invalid",(function(e){jQuery(e.currentTarget).length&&(a(e.currentTarget,!0),e.preventDefault())})),jQuery(t).on("input",(function(e){if(jQuery(e.currentTarget).length){var t=function(e){var t=e.data("input-config");if(void 0===t){if((t={}).input_min=e.attr("min"),void 0===t.input_min&&(t.input_min=""),t.input_max=e.attr("max"),void 0===t.input_max&&(t.input_max=""),t.input_step=e.attr("step"),void 0===t.input_step&&(t.input_step=""),t.can_decimal=e.attr("can_decimal"),void 0!==t.can_decimal&&""!==t.can_decimal?("true"===t.can_decimal?t.can_decimal=2:t.can_decimal=parseInt(t.can_decimal.toString()),""===t.can_decimal&&(t.can_decimal=!1)):t.can_decimal=!1,t.can_empty=e.attr("can_empty"),void 0===t.can_empty||"true"!==t.can_empty&&"1"!==t.can_empty?t.can_empty=!1:t.can_empty=!0,""===t.input_step&&""===t.input_min&&""===t.input_max)return!1;t.can_decimals>0?(""!==t.input_min&&(t.input_min=parseFloat(t.input_min)),""!==t.input_max&&(t.input_max=parseFloat(t.input_max)),""!==t.input_step&&(t.input_step=parseFloat(t.input_step))):(""!==t.input_min&&(t.input_min=parseInt(t.input_min)),""!==t.input_max&&(t.input_max=parseInt(t.input_max)),""!==t.input_step&&(t.input_step=parseInt(t.input_step))),e.data("input-config",t)}return t}(jQuery(e.currentTarget));if(!1===t)return;var s=e.currentTarget.valueAsNumber;if(void 0===s)return a(e.currentTarget,!0,"invalid"),!1;if(t.can_empty&&isNaN(s))return a(e.currentTarget,!1,"invalid"),!0;if(isNaN(s))return a(e.currentTarget,!0,"empty"),!1;if(void 0!==t.input_max&&""!==t.input_max&&s>t.input_max)return a(e.currentTarget,!0,"maximum"),!1;if(void 0!==t.input_min&&""!==t.input_min&&s<t.input_min)return a(e.currentTarget,!0,"minimum"),!1;if(input_value_current_split=s.toString().split("."),input_value_current_split.length>1){if(!t.can_decimal)return a(e.currentTarget,!0,"decimal"),!1;if(input_value_current_split[1].length>t.can_decimal){var n=s.toFixed(t.can_decimal);n!==s&&jQuery(e.currentTarget).val(n)}}a(e.currentTarget,!1)}}))})),jQuery("form#ld_data_remove_form").on("submit",(function(e){var t=jQuery("input#ld_data_remove_verify").val(),s=jQuery("input#ld_data_remove_verify").data("confirm");void 0!==t&&void 0!==s&&""!==(t=t.trim())&&""!==s&&confirm(s)||e.preventDefault()}))})),jQuery("body.plugins-php table.wp-list-table.plugins .ld-plugin-update-notice").length&&jQuery("body.plugins-php table.wp-list-table.plugins .ld-plugin-update-notice").each((function(e,t){var s=jQuery(t).parents(".update-message.notice-warning");void 0!==s&&(jQuery(s).removeClass("notice-warning"),jQuery(s).addClass("notice-error"))})),jQuery(".learndash-updates-disabled-dismissible").length&&jQuery(".learndash-updates-disabled-dismissible").on("click",".notice-dismiss",(function(e,t){var s=jQuery(e.currentTarget).parent(".learndash-updates-disabled-dismissible").data("notice-dismiss-nonce");post_data={action:"learndash_license_notice_dismissed",learndash_license_notice_dismissed_nonce:s},jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",cache:!1,data:post_data,error:function(e,t,s){},success:function(e){}})})),jQuery(".learndash_hub_upgrade_dismiss").length&&jQuery(".learndash_hub_upgrade_dismiss").on("click",".notice-dismiss",(function(e,t){var s=jQuery(e.currentTarget).parent(".learndash_hub_upgrade_dismiss").data("notice-dismiss-nonce");post_data={action:"learndash_hub_upgrade_dismissed",learndash_hub_upgrade_dismissed_nonce:s},jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",cache:!1,data:post_data,error:function(e,t,s){},success:function(e){}})})),jQuery(".ld-plugin-other-plugins-notice").length&&jQuery(".ld-plugin-other-plugins-notice").on("click",".notice-dismiss",(function(e,t){var s=jQuery(e.currentTarget).parent(".ld-plugin-other-plugins-notice").data("notice-dismiss-nonce");post_data={action:"learndash_other_plugins_notice_dismissed",learndash_other_plugins_notice_dismissed_nonce:s},jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",cache:!1,data:post_data,error:function(e,t,s){},success:function(e){}})})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".ld-metabox-description");Array.prototype.forEach.call(e,(e=>{e.parentNode.previousElementSibling.appendChild(e)}))})),jQuery((function(e){function t(t){let s=[];return t.find(".bulk-edit-filter").each((function(){const t=e(this).find(".learndash-filter"),n=["radio","checkbox"].includes(t.attr("type"))?e(this).find(".learndash-filter:checked").val():t.val();s.push({enabled:e(this).find(".bulk-edit-display-switcher").is(":checked"),name:t.attr("name"),value:n})})),s}function s(t){let s=[];return t.find(".bulk-edit-field").each((function(){const t=e(this).find(".bulk-edit-display-switcher"),n=t.data("field-name"),a=e('[name="'+n+'"]'),i=["radio","checkbox"].includes(a.attr("type"))?e('[name="'+n+'"]:checked').val()||"":a.val();s.push({name:n,value:i,enabled:t.is(":checked")}),e(this).find(".bulk-edit-child-display-switcher-container").each((function(){const t=e(this).find(".bulk-edit-child-display-switcher").is(":checked");e(this).next().find(".sfwd_option_div input, .sfwd_option_div select").each((function(){const n=["radio","checkbox"].includes(e(this).attr("type"))?e('[name="'+e(this).attr("name")+'"]:checked').val()||"":e(this).val();s.push({name:e(this).attr("name"),value:n,enabled:t})}))}))})),s}function n(e){let t=e.find(".bulk-edit-button");const s=e.find(".bulk-edit-fields .bulk-edit-display-switcher:checked").length,n=parseInt(t.find(".posts-number").html())||0;t.attr("disabled",0===s||0===n)}function a(s){e.post({url:learndash_admin_settings_data.ajaxurl,data:{action:s.data("action-get-affected-posts-number"),nonce:s.data("action-get-affected-posts-number-nonce"),filters:t(s)},success:function(e){e.success?(s.find(".posts-number").html(e.data.posts_number),n(s)):alert(e.data.message)}})}e(".view-learndash-assignment").on("click",(function(t){t.preventDefault();const s='<img src="'+e(this).attr("href")+'" />';e("#learndash-admin-table-modal").html(s).dialog({modal:!0,draggable:!1,resizable:!1,width:"70%",title:e(this).data("title")})})),e(".view-learndash-essay").on("click",(function(t){t.preventDefault(),e.ajax({url:e(this).attr("href"),method:"POST",success:function(t){t.success&&e("#learndash-admin-table-modal").html(t.data.content).dialog({modal:!0,draggable:!1,resizable:!1,width:"70%",title:t.data.title})}})})),e("#learndash-bulk-edit .sfwd_input").each((function(){const t=e(this).find("label"),s=t.html(),n=t.attr("for")+"-switcher";let a="";a+='<div class="sfwd_input bulk-edit-child-display-switcher-container">',a+='<input type="checkbox" id="'+n+'" class="bulk-edit-child-display-switcher" autocomplete="off">',a+='<label for="'+n+'">'+s+"</label>",a+="</div>",e(this).before(a).hide()})),e("#learndash-bulk-edit .tabs .tab").on("click",(function(){e(this).addClass("selected").siblings().removeClass("selected"),e(e(this).data("target-id")).show().siblings().hide()})),e("#learndash-bulk-edit .bulk-edit-display-switcher").on("change",(function(){e(e(this).data("target-id")).toggle(),n(e(this).closest(".tab-content"))})),e("#learndash-bulk-edit").on("change",".bulk-edit-child-display-switcher",(function(){e(this).parent().next().toggle()})),e("#learndash-bulk-edit .bulk-edit-button").on("click",(function(n){n.preventDefault();const a=e(this).closest(".tab-content");e.post({url:learndash_admin_settings_data.ajaxurl,data:{action:a.data("action-update-posts"),nonce:a.data("action-update-posts-nonce"),filters:t(a),fields:s(a)},success:function(e){e.success&&alert(e.data.message)}})})),e("#learndash-bulk-edit .bulk-edit-filters .learndash-filter, #learndash-bulk-edit .bulk-edit-filters .bulk-edit-display-switcher").on("change",(function(){a(e(this).closest(".tab-content"))})),e("#learndash-bulk-edit .tab-content").each((function(){a(e(this))})),e("#learndash-export-all").on("click",(function(){e(".learndash-export-items").hide()})),e("#learndash-export-selected").on("click",(function(){e(".learndash-export-items").fadeIn()})),e("#learndash-export-button").on("click",(function(t){t.preventDefault();const s=e("#learndash-export-container");let n={};s.find(".learndash-export-input").serializeArray().map((function(e){void 0===n[e.name]&&(n[e.name]=[]),n[e.name].push(e.value)})),e(".notice").hide(),e.post({url:learndash_admin_settings_data.ajaxurl,data:{action:s.data("action-name"),nonce:s.data("action-nonce"),type:s.find(".learndash-export-type:checked").val(),options:n},success:function(t){if(t.success)e("#learndash-export-info").fadeIn(),e("#learndash-export-button").text(e("#learndash-export-button").text()+learndash_admin_settings_data.in_progress_label).attr("disabled",!0);else{const s=e("#learndash-export-error");s.find("p").html(t.data.message),s.fadeIn()}}})})),e("#learndash-import-button").on("click",(function(t){t.preventDefault();const s=e(this),n=e("#learndash-import-container"),a=e("#learndash-import-file")[0];if(0===a.files.length||0===a.files[0].size)return alert(learndash_admin_settings_data.import_file_empty),void s.attr("disabled",!1).text(r);if(a.files[0].size>learndash_admin_settings_data.import_file_size_limit)return alert(learndash_admin_settings_data.import_file_size_limit_exceeded),void s.attr("disabled",!1).text(r);let i=new FormData;i.append("action",n.data("action-name")),i.append("nonce",n.data("action-nonce")),i.append("file",a.files[0]),e(".notice").hide();let r=s.text();s.attr("disabled",!0).text(learndash_admin_settings_data.uploading_label),e.post({url:learndash_admin_settings_data.ajaxurl,data:i,processData:!1,contentType:!1,success:function(t){if(t.success)e("#learndash-import-info").fadeIn(),e("#learndash-import-button").text(r+learndash_admin_settings_data.in_progress_label);else{const n=e("#learndash-import-error");n.find("p").html(t.data.message),n.fadeIn(),s.attr("disabled",!1).text(r)}}})}))}));