const{_n:_n}=wp.i18n;function learnDashPaymentsShowFormSubmittedSuccessfullyMessage(e){const t=jQuery(".ld-registration-order__heading"),a=jQuery(".ld-registration-order"),n=jQuery(".order-heading"),r=jQuery("#learndash-registration-wrapper");let s=learndash_payments.payment_form_redirect_alert_countdown,o=null,l=null;if(t.length>0)o=t,l=a;else{if(!(n.length>0))return void e();o=n,l=r}o.after(learndash_payments.payment_form_submitted_alert).focus();const d=jQuery("#ld-payments-redirect-alert-countdown-value"),i=jQuery("#ld-payments-redirect-alert-countdown-unit-label");d.text(s),i.text(_n("second","seconds",s,"learndash"));const u=setInterval((()=>{s--,d.text(s),i.text(_n("second","seconds",s,"learndash")),s<=0&&(clearInterval(u),l.find(".ld-alert").remove(),e())}),1e3)}jQuery(document).ready((function(e){"use strict";e(".learndash-payment-gateway-form-paypal").on("submit.paypal",(function(t){t.preventDefault(),e(this).off("submit.paypal"),learnDashPaymentsShowFormSubmittedSuccessfullyMessage((function(){e("#btn-join").click()}))})),e(".learndash-payment-gateway-form-razorpay").on("submit.razorpay",(function(t){t.preventDefault();const a=e(this),n=e(this).find('button[type="submit"]');a.addClass("ld-loading"),n.attr("disabled",!0),e.ajax({type:"POST",url:learndash_payments.ajaxurl,dataType:"json",data:e(this).data()}).done((function(e){if(a.removeClass("ld-loading"),n.removeAttr("disabled"),e.success){const t=function(){const t=e.data.options;t.handler=function(){alert(learndash_payments.messages.successful_transaction),window.location.replace(e.data.redirect_url)};const a=new Razorpay(t);a.on("payment.failed",(function(e){alert(e.error.description)})),a.open()};learnDashPaymentsShowFormSubmittedSuccessfullyMessage(t)}else alert(e.data.message)}))}))}));