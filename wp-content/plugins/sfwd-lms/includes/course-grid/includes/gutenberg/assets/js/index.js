(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,a=window.wp.i18n,l=window.wp.blocks,n=window.wp.blockEditor,r=window.wp.element,o=window.wp.components,s=window.wp.serverSideRender;var i=e.n(s);class d extends r.Component{constructor(e){super(e)}render(){const{context:e,course_grid_id:l,search:n,taxonomies:r,price:s,price_min:i,price_max:d,setAttributes:c}=this.props;let _="search",h="taxonomies",u="price",m="price_min",p="price_max";"page"==e&&(_="filter_search",h="filter_taxonomies",u="filter_price",m="filter_price_min",p="filter_price_max");const b=LearnDash_Course_Grid_Block_Editor.taxonomies;return(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Filter","learndash"),initialOpen:"page"!=e},"widget"===e&&(0,t.createElement)(o.TextControl,{label:(0,a.__)("Course Grid ID","learndash"),help:(0,a.__)("Course grid ID the filter is for.","learndash"),value:l||"",type:"text",onChange:e=>c({course_grid_id:e})}),(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Search","learndash"),checked:n,onChange:e=>{c({[_]:e})}}),(0,t.createElement)(o.BaseControl,null,(0,t.createElement)(o.SelectControl,{multiple:!0,label:(0,a.__)("Taxonomies","learndash"),help:(0,a.__)("Hold ctrl on Windows or cmd on Mac to select multiple values.","learndash"),options:b,value:r||[],onChange:e=>{c({[h]:e})}})),(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Price","learndash"),checked:s,onChange:e=>{c({[u]:e})}}),(0,t.createElement)(o.BaseControl,null,(0,t.createElement)(o.TextControl,{label:(0,a.__)("Price Min","learndash"),className:"left",value:i||0,type:"number",onChange:e=>{c({[m]:e})}}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Price Max","learndash"),className:"right",value:d||0,type:"number",onChange:e=>{c({[p]:e})}}),(0,t.createElement)("div",{style:{clear:"both"}})))}}const c=d;class _ extends r.Component{constructor(e){super(e)}render(){const{name:e,value:l,label:n,display_state:r,setAttributes:s}=this.props;return(0,t.createElement)(o.BaseControl,{className:void 0===r[e]||r[e]?"show color-picker":"hide color-picker",label:n},(0,t.createElement)("div",{className:"color-wrapper"},(0,t.createElement)(o.ColorPalette,{colors:[],value:l||"",onChange:t=>{s({[e]:t})},clearable:!1}),(0,t.createElement)(o.Button,{className:"clear-button",variant:"tertiary",onClick:()=>{s({[e]:null})}},(0,a.__)("Clear","learndash")),(0,t.createElement)("div",{className:"clear"})))}}const h=_,u=window.wp.data;function m(){return"ld-cg-"+(Date.now().toString(36)+Math.random().toString(36).substr(2)).substr(0,"10")}(0,l.registerBlockType)("learndash/ld-course-grid",{title:(0,a.__)("LearnDash Course Grid","learndash"),description:(0,a.__)("Build LearnDash course grid easily.","learndash"),icon:"grid-view",category:"learndash-blocks",supports:{customClassName:!0},attributes:{post_type:{type:"string",default:LearnDash_Course_Grid_Block_Editor.is_learndash_active?"sfwd-courses":"post"},per_page:{type:"string",default:9},orderby:{type:"string",default:"ID"},order:{type:"string",default:"DESC"},taxonomies:{type:"string",default:""},enrollment_status:{type:"string",default:""},progress_status:{type:"string",default:""},thumbnail:{type:"boolean",default:1},thumbnail_size:{type:"string",default:"course-thumbnail"},ribbon:{type:"boolean",default:1},content:{type:"boolean",default:1},title:{type:"boolean",default:1},title_clickable:{type:"boolean",default:1},description:{type:"boolean",default:1},description_char_max:{type:"string",default:120},post_meta:{type:"boolean",default:1},button:{type:"boolean",default:1},pagination:{type:"string",default:"button"},grid_height_equal:{type:"boolean",default:0},progress_bar:{type:"boolean",default:0},filter:{type:"boolean",default:1},skin:{type:"string",default:"grid"},card:{type:"string",default:"grid-1"},columns:{type:"string",default:3},min_column_width:{type:"string",default:250},items_per_row:{type:"string",default:5},font_family_title:{type:"string"},font_family_description:{type:"string",default:""},font_size_title:{type:"string",default:""},font_size_description:{type:"string",default:""},font_color_title:{type:"string",default:""},font_color_description:{type:"string",default:""},background_color_title:{type:"string",default:""},background_color_description:{type:"string",default:""},background_color_ribbon:{type:"string",default:""},font_color_ribbon:{type:"string",default:""},background_color_icon:{type:"string",default:""},font_color_icon:{type:"string",default:""},background_color_button:{type:"string",default:""},font_color_button:{type:"string",default:""},id:{type:"string",default:""},preview_show:{type:"boolean",default:1},display_state:{type:"object",default:{}},filter_search:{type:"boolean",default:1},filter_taxonomies:{type:"array",default:["category","post_tag"]},filter_price:{type:"boolean",default:1},filter_price_min:{type:"string",default:0},filter_price_max:{type:"string",default:1e3}},edit:e=>{const{attributes:{post_type:l,per_page:s,orderby:d,order:_,taxonomies:p,enrollment_status:b,progress_status:g,thumbnail:f,thumbnail_size:y,ribbon:C,content:E,title:v,title_clickable:w,description:k,description_char_max:x,post_meta:O,button:N,pagination:B,grid_height_equal:T,progress_bar:P,filter:D,skin:S,card:A,columns:F,min_column_width:z,items_per_row:G,font_family_title:I,font_family_description:L,font_size_title:j,font_size_description:M,font_color_title:q,font_color_description:H,background_color_title:R,background_color_description:W,background_color_ribbon:Q,font_color_ribbon:U,background_color_icon:J,font_color_icon:K,background_color_button:V,font_color_button:X,id:Y,display_state:Z,preview_show:$,filter_search:ee,filter_taxonomies:te,filter_price:ae,filter_price_min:le,filter_price_max:ne},className:re,clientId:oe,setAttributes:se}=e;if(Y&&""!==Y){if(function(e,t){return(0,u.select)("core/block-editor").getClientIdsWithDescendants().some((a=>{const{id:l}=(0,u.select)("core/block-editor").getBlockAttributes(a);return t!==a&&e===l}))}(Y,oe)){const e=m();se({id:e})}}else{const e=m();se({id:e})}const ie=LearnDash_Course_Grid_Block_Editor.post_types,de=LearnDash_Course_Grid_Block_Editor.paginations,ce=LearnDash_Course_Grid_Block_Editor.skins,_e=LearnDash_Course_Grid_Block_Editor.cards,he=[],ue={};for(const e in ce)if(Object.hasOwnProperty.call(ce,e)){const t={label:ce[e].label,value:ce[e].slug};he.push(t),Object.hasOwnProperty.call(ce[e],"disable")&&(ue[ce[e].slug]=ce[e].disable)}const me=[],pe=[],be={},ge={};for(const e in _e)if(Object.hasOwnProperty.call(_e,e)&&(Object.hasOwnProperty.call(_e[e],"disable")&&(ge[_e[e]]=_e[e].disable),Object.hasOwnProperty.call(_e[e],"skins")&&_e[e].skins.forEach((function(t){be[t]=be[t]||[],be[t].push(e)})),void 0!==_e[e].skins&&_e[e].skins.indexOf(S)>-1)){const t={label:_e[e].label,value:e};me.push(t),pe.push(e)}const fe=LearnDash_Course_Grid_Block_Editor.image_sizes,ye=LearnDash_Course_Grid_Block_Editor.orderby,Ce=[{label:(0,a.__)("Ascending","learndash"),value:"ASC"},{label:(0,a.__)("Descending","learndash"),value:"DESC"}],Ee=[{value:"",label:(0,a.__)("All","learndash")},{value:"enrolled",label:(0,a.__)("Enrolled","learndash")},{value:"not-enrolled",label:(0,a.__)("Not Enrolled","learndash")}],ve=[{value:"",label:(0,a.__)("All","learndash")},{value:"completed",label:(0,a.__)("Completed","learndash")},{value:"in_progress",label:(0,a.__)("In Progress","learndash")},{value:"not_started",label:(0,a.__)("Not Started","learndash")}];ke(e);const we=(0,t.createElement)(r.Fragment,{key:"learndash-course-grid-settings"},(0,t.createElement)(n.InspectorControls,{key:"controls"},(0,t.createElement)(o.Panel,{className:"learndash-course-grid-panel"},(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Template","learndash"),initialOpen:!0},(0,t.createElement)(o.BaseControl,{className:void 0===Z.skin||Z.skin?"show":"hide"},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Skin","learndash"),options:he,value:S||"",onChange:t=>{se({skin:t}),ke(e)}})),(0,t.createElement)(o.BaseControl,{className:void 0===Z.card||Z.card?"show":"hide"},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Card","learndash"),options:me,value:A||"",onChange:e=>{se({card:e})}})),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Columns","learndash"),value:F||"",type:"number",onChange:e=>se({columns:e}),className:void 0===Z.columns||Z.columns?"show":"hide"}),["grid","masonry"].indexOf(S)>-1&&(0,t.createElement)(o.TextControl,{label:(0,a.__)("Min Column Width (in pixel)","learndash"),value:z,type:"number",help:(0,a.__)("If column width reach value lower than this, the grid columns number will automatically be adjusted on display.","learndash"),onChange:e=>se({min_column_width:e}),className:void 0===Z.min_column_width||Z.min_column_width?"show":"hide"}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Items Per Row","learndash"),help:(0,a.__)("Number of items per row. Certain skins use this to customize the design.","learndash"),value:G||"",type:"number",onChange:e=>se({items_per_row:e}),className:void 0===Z.items_per_row||Z.items_per_row?"show":"hide"})),(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Query","learndash"),initialOpen:!1},(0,t.createElement)(o.BaseControl,{className:void 0===Z.post_type||Z.post_type?"show":"hide"},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Post Type","learndash"),options:ie,value:l||"",onChange:e=>se({post_type:e})})),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Posts per page","learndash"),help:(0,a.__)("Enter 0 show all items.","learndash"),value:s||"",type:"number",onChange:e=>se({per_page:e}),className:void 0===Z.per_page||Z.per_page?"show":"hide"}),(0,t.createElement)(o.BaseControl,{className:void 0===Z.orderby||Z.orderby?"show":"hide"},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Order By","learndash"),options:ye,value:d||"",onChange:e=>se({orderby:e})})),(0,t.createElement)(o.BaseControl,{className:void 0===Z.order||Z.order?"show":"hide"},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Order","learndash"),options:Ce,value:_||"",onChange:e=>se({order:e})})),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Taxonomies","learndash"),help:(0,a.__)("Format:","learndash")+" taxonomy1:term1,term2; taxonomy2:term1,term2;",value:p||"",onChange:e=>se({taxonomies:e}),className:void 0===Z.taxonomies||Z.taxonomies?"show taxonomies":"hide"}),["sfwd-courses","groups"].indexOf(l)>-1&&(0,t.createElement)(o.BaseControl,{className:void 0===Z.enrollment_status||Z.enrollment_status?"show":"hide"},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Enrollment Status","learndash"),options:Ee,value:b,onChange:e=>se({enrollment_status:e})})),["sfwd-courses"].indexOf(l)>-1&&"enrolled"==b&&(0,t.createElement)(o.BaseControl,{className:void 0===Z.progress_status||Z.progress_status?"show":"hide"},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Progress Status","learndash"),options:ve,value:g,onChange:e=>se({progress_status:e})}))),(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Elements","learndash"),initialOpen:!1},_e[A].elements.indexOf("thumbnail")>-1&&(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Thumbnail","learndash"),checked:f,onChange:e=>se({thumbnail:e}),className:void 0===Z.thumbnail||Z.thumbnail?"show":"hide"}),_e[A].elements.indexOf("thumbnail")>-1&&f&&(0,t.createElement)(o.BaseControl,{className:void 0===Z.thumbnail_size||Z.thumbnail_size?"show":"hide"},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Thumbnail Size","learndash"),options:fe,value:y||"",onChange:e=>se({thumbnail_size:e})})),_e[A].elements.indexOf("ribbon")>-1&&(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Ribbon","learndash"),checked:C,onChange:e=>se({ribbon:e}),className:void 0===Z.ribbon||Z.ribbon?"show":"hide"}),_e[A].elements.indexOf("content")>-1&&(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Content","learndash"),help:(0,a.__)("Content includes elements in the area outside of the thumbnail.","learndash"),checked:E,onChange:e=>se({content:e}),className:void 0===Z.content||Z.content?"show":"hide"}),_e[A].elements.indexOf("title")>-1&&(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Title","learndash"),checked:v,onChange:e=>se({title:e}),className:void 0===Z.title||Z.title?"show":"hide"}),_e[A].elements.indexOf("title")>-1&&v&&(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Clickable Title","learndash"),checked:w,onChange:e=>se({title_clickable:e}),className:void 0===Z.title_clickable||Z.title_clickable?"show":"hide"}),_e[A].elements.indexOf("description")>-1&&(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Description","learndash"),checked:k,onChange:e=>se({description:e}),className:void 0===Z.description||Z.description?"show":"hide"}),_e[A].elements.indexOf("description")>-1&&k&&(0,t.createElement)(o.TextControl,{label:(0,a.__)("Max Description Character Count","learndash"),value:x||"",type:"number",onChange:e=>{se({description_char_max:e})}}),_e[A].elements.indexOf("post_meta")>-1&&(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Meta","learndash"),checked:O,onChange:e=>se({post_meta:e}),className:void 0===Z.post_meta||Z.post_meta?"show":"hide"}),_e[A].elements.indexOf("button")>-1&&(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Button","learndash"),checked:N,onChange:e=>se({button:e}),className:void 0===Z.button||Z.button?"show":"hide"}),(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Progress Bar","learndash"),help:(0,a.__)("Available for LearnDash course and group.","learndash"),checked:P,onChange:e=>se({progress_bar:e}),className:void 0===Z.progress_bar||Z.progress_bar?"show":"hide"}),(0,t.createElement)(o.BaseControl,{className:void 0===Z.pagination||Z.pagination?"show":"hide"},(0,t.createElement)(o.SelectControl,{label:(0,a.__)("Pagination","learndash"),options:de,value:B||"",onChange:e=>se({pagination:e})})),(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Filter","learndash"),checked:D,onChange:e=>{se({filter:e})},className:void 0===Z.filter||Z.filter?"show":"hide"})),D&&(0,t.createElement)(c,{context:"page",course_grid_id:Y,search:ee,taxonomies:te,price:ae,price_min:le,price_max:ne,setAttributes:se}),(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Styles","learndash"),initialOpen:!1},"grid"===S&&(0,t.createElement)("div",{className:"grid-style"},(0,t.createElement)("h3",null,(0,a.__)("Grid","learndash")),(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Equal Grid Height","learndash"),checked:T,onChange:e=>se({grid_height_equal:e}),className:void 0===Z.grid_height_equal||Z.grid_height_equal?"show":"hide"})),_e[A].elements.indexOf("title")>-1&&v&&(0,t.createElement)(r.Fragment,{key:"title-styles"},(0,t.createElement)("h3",null,(0,a.__)("Heading","learndash")),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Heading Font Family","learndash"),value:I||"",onChange:e=>se({font_family_title:e}),className:void 0===Z.font_family_title||Z.font_family_title?"show":"hide"}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Heading Font Size","learndash"),help:(0,a.__)("Accepts full format, e.g. 18px, 2rem","learndash"),value:j||"",onChange:e=>se({font_size_title:e}),className:void 0===Z.font_size_title||Z.font_size_title?"show":"hide"}),(0,t.createElement)(h,{name:"font_color_title",value:q,label:(0,a.__)("Heading Font Color","learndash"),display_state:Z,setAttributes:se}),(0,t.createElement)(h,{name:"background_color_title",value:R,label:(0,a.__)("Heading Background Color","learndash"),display_state:Z,setAttributes:se})),_e[A].elements.indexOf("description")>-1&&k&&(0,t.createElement)(r.Fragment,{key:"description-styles"},(0,t.createElement)("h3",null,(0,a.__)("Description","learndash")),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Description Font Family","learndash"),value:L||"",onChange:e=>se({font_family_description:e}),className:void 0===Z.font_family_description||Z.font_family_description?"show":"hide"}),(0,t.createElement)(o.TextControl,{label:(0,a.__)("Description Font Size","learndash"),help:(0,a.__)("Accepts full format, e.g. 18px, 2rem","learndash"),value:M||"",onChange:e=>se({font_size_description:e}),className:void 0===Z.font_size_description||Z.font_size_description?"show":"hide"}),(0,t.createElement)(h,{name:"font_color_description",value:H,label:(0,a.__)("Description Font Color","learndash"),display_state:Z,setAttributes:se}),(0,t.createElement)(h,{name:"background_color_description",value:W,label:(0,a.__)("Description Background Color","learndash"),display_state:Z,setAttributes:se})),(0,t.createElement)("h3",null,(0,a.__)("Elements","learndash")),_e[A].elements.indexOf("ribbon")>-1&&C&&(0,t.createElement)(r.Fragment,{key:"ribbon-styles"},(0,t.createElement)(h,{name:"font_color_ribbon",value:U,label:(0,a.__)("Ribbon Font Color","learndash"),display_state:Z,setAttributes:se}),(0,t.createElement)(h,{name:"background_color_ribbon",value:Q,label:(0,a.__)("Ribbon Background Color","learndash"),display_state:Z,setAttributes:se})),_e[A].elements.indexOf("icon")>-1&&(0,t.createElement)(r.Fragment,{key:"icon-styles"},(0,t.createElement)(h,{name:"font_color_icon",value:K,label:(0,a.__)("Icon Color","learndash"),display_state:Z,setAttributes:se}),(0,t.createElement)(h,{name:"background_color_icon",value:J,label:(0,a.__)("Icon Background Color","learndash"),display_state:Z,setAttributes:se})),_e[A].elements.indexOf("button")>-1&&N&&(0,t.createElement)(r.Fragment,{key:"button-styles"},(0,t.createElement)(h,{name:"font_color_button",value:X,label:(0,a.__)("Button Font Color","learndash"),display_state:Z,setAttributes:se}),(0,t.createElement)(h,{name:"background_color_button",value:V,label:(0,a.__)("Button Background Color","learndash"),display_state:Z,setAttributes:se}))),(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Preview","learndash"),initialOpen:!1},(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Show Preview","learndash"),checked:!!$,onChange:e=>se({preview_show:e})})))),(0,t.createElement)(n.InspectorAdvancedControls,null,(0,t.createElement)(o.TextControl,{label:(0,a.__)("ID"),help:(0,a.__)("Unique ID for CSS styling purpose.","learndash"),value:Y||"",onChange:e=>se({id:e}),className:void 0===Z.id||Z.id?"show":"hide"})));function ke(e){const{attributes:t={skin:S,card:A,display_state:Z},setAttributes:a}=e;let l=[];if(void 0!==ue[S]&&(l=ue[S]),LearnDash_Course_Grid_Block_Editor.editor_fields.forEach((e=>{const t=Z;t[e]=!0,a({display_state:t})})),l.forEach((e=>{const t=Z;t[e]=!1,a({display_state:t})})),-1==pe.indexOf(A)&&Object.prototype.hasOwnProperty.call(be,"skin")&&Object.prototype.hasOwnProperty.call(be[S],0)){let e=A;e=be[S][0],a({card:e})}}return[we,(xe=e.attributes,1==xe.preview_show?(0,t.createElement)(i(),{block:"learndash/ld-course-grid",attributes:xe,key:"learndash/ld-course-grid"}):(0,a.__)("[learndash_course_grid] shortcode output shown here","learndash"))];var xe},save:e=>{}}),(0,l.registerBlockType)("learndash/ld-course-grid-filter",{title:(0,a.__)("LearnDash Course Grid Filter","learndash"),description:(0,a.__)("LearnDash course grid filter widget.","learndash"),icon:"filter",category:"learndash-blocks",supports:{customClassName:!1},attributes:{course_grid_id:{type:"string",default:""},search:{type:"boolean",default:1},taxonomies:{type:"array",default:["category","post_tag"]},price:{type:"boolean",default:1},price_min:{type:"string",default:0},price_max:{type:"string",default:1e3},preview_show:{type:"boolean",default:1}},edit:e=>{const{attributes:{course_grid_id:l,search:s,taxonomies:d,price:_,price_min:h,price_max:u,preview_show:m},setAttributes:p}=e,b=(LearnDash_Course_Grid_Block_Editor.taxonomies,(0,t.createElement)(r.Fragment,{key:"learndash-course-grid-filter-settings"},(0,t.createElement)(n.InspectorControls,{key:"controls"},(0,t.createElement)(o.Panel,{className:"learndash-course-grid-filter-panel"},(0,t.createElement)(c,{context:"widget",course_grid_id:l,search:s,taxonomies:d,price:_,price_min:h,price_max:u,setAttributes:p}),(0,t.createElement)(o.PanelBody,{title:(0,a.__)("Preview","learndash"),initialOpen:!1},(0,t.createElement)(o.ToggleControl,{label:(0,a.__)("Show Preview","learndash"),checked:!!m,onChange:e=>p({preview_show:e})}))))));return[b,(g=e.attributes,1==g.preview_show?(0,t.createElement)(i(),{block:"learndash/ld-course-grid-filter",attributes:g,key:"learndash/ld-course-grid-filter"}):(0,a.__)("[learndash_course_grid_filter] shortcode output shown here","learndash"))];var g},save:e=>{}})})();