@mixin trustedlogin-auth( $namespace ) {
	.tl-#{$namespace}-auth {

		min-width: $container-width-min;
		max-width: $container-width-max;
		display: block;
		margin: ($gutter-width * 3) auto;
		font-size: 1em;
		text-align: center;
		zoom: 1;

		section {
			background: #fff;
			box-shadow: 0 1px 3px rgba(0, 0, 0, 0.13);
			border-radius: $border-radius-base;
			overflow: hidden;
			padding: 40px 5% $gutter-width;
			border-bottom: 1px solid $color-light-grey-900;

			* {
				text-align: left;
			}
		}

		&.tl-#{$namespace}-grant-access section > div {
			width: 90%;
			margin-left: auto;
			margin-right: auto;
		}

		.tl-#{$namespace}-auth__details {

			box-sizing: border-box;

			> div {
				margin-bottom: $vertical-spacing;
			}
		}

		.tl-#{$namespace}-auth__ref p {
			text-align: center;
			font-family: Consolas, Monaco, monospace; // WP .code CSS class
		}

		.tl-#{$namespace}-auth__actions {
			margin-bottom: $vertical-spacing;
			padding-top: 0;
			text-align: center;
		}

		.tl-#{$namespace}-auth__tos p {
			text-align: center;
			padding: 0;
			margin: 0;
			margin-top: ( $vertical-spacing / 2 ) * -1;
			margin-bottom: $vertical-spacing;
			color: $color-666;
		}

		.tl-#{$namespace}-auth__checkbox--large {
			transform: scale(1.2);
		}

		.dashicons--small,
		.dashicons--medium {
			height: $small-icon-size;
			width: $small-icon-size;
			font-size: $small-icon-size;
			vertical-align: text-top;
		}

		.dashicons--medium {
			vertical-align: text-bottom;
			line-height: 1.2;
		}

		.dashicons--large {
			font-size: $large-icon-size;
			height: $large-icon-size;
			width: $large-icon-size;
			vertical-align: bottom;
		}

		.dashicons--help {
			color: $color-888;
			cursor: help;
		}

		.tl-#{$namespace}-auth__response {
			text-align: center;
			font-size: 18px;
			line-height: 1.375;
			font-weight: bold;
			transition: padding 1s;

			/** Simulate a stroke */
			text-shadow: -1px -1px 0 $color-light-grey-200,
			1px -1px 0 $color-light-grey-200,
			-1px 1px 0 $color-light-grey-200,
			1px 1px 0 $color-light-grey-200,
			0 0 3px $color-light-grey-200;
		}

		.tl-#{$namespace}-auth__response_pending {
			padding: 140px 40px ($vertical-spacing / 2) 40px; // Related to the size of the progress indicator
			vertical-align: top;
			background: url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20250%20250%22%20style%3D%22background-image%3Anone%22%3E%3Cg%20style%3D%22transform-origin%3A50%25%2050%25%3Btransform%3Arotate(0deg)%20scale(.78%2C.78)%22%20class%3D%22ldl-scale%22%3E%3Cg%20class%3D%22ldl-ani%22%20style%3D%22transform-origin%3A125px%20125px%3Btransform%3Atranslate(0%2C0)%3Banimation%3AbounceAlt-9b7dc74a-bae5-4c7c-b52c-d4d8b13aaba1%201.1627906976744187s%20linear%200s%20infinite%20normal%20forwards%22%3E%3Cpath%20fill%3D%22%231099D6%22%20d%3D%22M-444.6%2014.7c-26.5%200-48.1%2021.6-48.1%2048.1v39.8h20.6V62.8c0-15.2%2012.3-27.5%2027.5-27.5%2015.1%200%2027.5%2012.3%2027.5%2027.5v39.8h20.6V62.8c0-26.6-21.6-48.1-48.1-48.1z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%231B2B59%22%20d%3D%22M-444.6%2090c-38.5%200-69.7%204.8-69.7%2010.8v79.8c0%2038.5%2047.5%2054.8%2069.7%2054.8s69.7-16.3%2069.7-54.8v-79.8c-.1-6-31.3-10.8-69.7-10.8z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M-444.6%20110.2c-23%200-42.5%2015.3-48.9%2036.2h14.8c5.8-13.1%2018.9-22.3%2034.1-22.3%2020.5%200%2037.2%2016.7%2037.2%2037.2s-16.7%2037.2-37.2%2037.2c-15.2%200-28.3-9.2-34.1-22.3h-14.8c6.4%2020.9%2025.9%2036.2%2048.9%2036.2%2028.2%200%2051.1-22.9%2051.1-51.1-.1-28.2-23-51.1-51.1-51.1z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M-425%20159l-28.3-16.4c-2.2-1.3-4-.2-4%202.3v9.8h-56.9v13h56.9v9.8c0%202.5%201.8%203.6%204%202.3l28.3-16.4c2.2-1.1%202.2-3.1%200-4.4z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%231099D6%22%20d%3D%22M125%202.1c-29.5%200-53.6%2024-53.6%2053.6v44.4h23V55.7c0-16.9%2013.7-30.6%2030.6-30.6s30.6%2013.7%2030.6%2030.6v44.4h23V55.7c0-29.5-24.1-53.6-53.6-53.6z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%231B2B59%22%20d%3D%22M125%2086c-42.8%200-77.6%205.4-77.6%2012v88.8c0%2042.8%2052.9%2061%2077.6%2061s77.6-18.2%2077.6-61V98c0-6.6-34.8-12-77.6-12z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M125%20108.5c-25.6%200-47.3%2017-54.4%2040.3H87c6.4-14.6%2021-24.9%2038-24.9%2022.8%200%2041.4%2018.6%2041.4%2041.4s-18.6%2041.4-41.4%2041.4c-17%200-31.6-10.2-38-24.9H70.6c7.1%2023.3%2028.8%2040.3%2054.4%2040.3%2031.4%200%2056.9-25.5%2056.9-56.9%200-31.1-25.5-56.7-56.9-56.7z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M146.8%20162.9l-31.6-18.2c-2.4-1.4-4.4-.3-4.4%202.6v11H47.4v14.5h63.4v11c0%202.8%202%204%204.4%202.6l31.6-18.2c2.5-1.6%202.5-3.9%200-5.3z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%231099D6%22%20d%3D%22M-540.7%20472.6c-26.5%200-48.1%2021.6-48.1%2048.1v39.8h20.6v-39.8c0-15.2%2012.3-27.5%2027.5-27.5%2015.1%200%2027.5%2012.3%2027.5%2027.5v39.8h20.6v-39.8c0-26.5-21.6-48.1-48.1-48.1z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%231B2B59%22%20d%3D%22M-540.7%20547.9c-38.5%200-69.7%204.8-69.7%2010.8v79.8c0%2038.5%2047.5%2054.8%2069.7%2054.8S-471%20677-471%20638.5v-79.8c-.1-6-31.3-10.8-69.7-10.8z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M-540.7%20568.1c-23%200-42.5%2015.3-48.9%2036.2h14.8c5.8-13.1%2018.9-22.3%2034.1-22.3%2020.5%200%2037.2%2016.7%2037.2%2037.2s-16.7%2037.2-37.2%2037.2c-15.2%200-28.3-9.2-34.1-22.3h-14.8c6.4%2020.9%2025.9%2036.2%2048.9%2036.2%2028.2%200%2051.1-22.9%2051.1-51.1-.1-28.2-23-51.1-51.1-51.1z%22%20class%3D%22%22%2F%3E%3Cpath%20fill%3D%22%23FFF%22%20d%3D%22M-521.1%20616.9l-28.3-16.4c-2.2-1.3-4-.2-4%202.3v9.8h-56.9v13h56.9v9.8c0%202.5%201.8%203.6%204%202.3l28.3-16.4c2.2-1.1%202.2-3.1%200-4.4z%22%20class%3D%22%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3Cstyle%20id%3D%22bounceAlt-9b7dc74a-bae5-4c7c-b52c-d4d8b13aaba1%22%3E%40keyframes%20bounceAlt-9b7dc74a-bae5-4c7c-b52c-d4d8b13aaba1%7B0%25%7Banimation-timing-function%3Acubic-bezier(.1348%2C.3256%2C.2495%2C.8687)%3Btransform%3Atranslate(0%2C0)%7D51%25%7Banimation-timing-function%3Acubic-bezier(.7426%2C.1782%2C.8523%2C.6514)%3Btransform%3Atranslate(0%2C-14px)%7D%7D%3C%2Fstyle%3E%3C%2Fsvg%3E") center top no-repeat;
			background-size: contain;

			@media (prefers-reduced-motion: reduce) {
				& {
					background-image: url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%20250%20250%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M-444.6%2014.7c-26.5%200-48.1%2021.6-48.1%2048.1v39.8h20.6V62.8c0-15.2%2012.3-27.5%2027.5-27.5%2015.1%200%2027.5%2012.3%2027.5%2027.5v39.8h20.6V62.8c0-26.6-21.6-48.1-48.1-48.1z%22%20fill%3D%22%231099d6%22%2F%3E%3Cpath%20d%3D%22M-444.6%2090c-38.5%200-69.7%204.8-69.7%2010.8v79.8c0%2038.5%2047.5%2054.8%2069.7%2054.8s69.7-16.3%2069.7-54.8v-79.8c-.1-6-31.3-10.8-69.7-10.8z%22%20fill%3D%22%231b2b59%22%2F%3E%3Cpath%20d%3D%22M-444.6%20110.2c-23%200-42.5%2015.3-48.9%2036.2h14.8c5.8-13.1%2018.9-22.3%2034.1-22.3%2020.5%200%2037.2%2016.7%2037.2%2037.2s-16.7%2037.2-37.2%2037.2c-15.2%200-28.3-9.2-34.1-22.3h-14.8c6.4%2020.9%2025.9%2036.2%2048.9%2036.2%2028.2%200%2051.1-22.9%2051.1-51.1-.1-28.2-23-51.1-51.1-51.1z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M-425%20159l-28.3-16.4c-2.2-1.3-4-.2-4%202.3v9.8h-56.9v13h56.9v9.8c0%202.5%201.8%203.6%204%202.3l28.3-16.4c2.2-1.1%202.2-3.1%200-4.4z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M125%202.1c-29.5%200-53.6%2024-53.6%2053.6v44.4h23V55.7c0-16.9%2013.7-30.6%2030.6-30.6s30.6%2013.7%2030.6%2030.6v44.4h23V55.7c0-29.5-24.1-53.6-53.6-53.6z%22%20fill%3D%22%231099d6%22%2F%3E%3Cpath%20d%3D%22M125%2086c-42.8%200-77.6%205.4-77.6%2012v88.8c0%2042.8%2052.9%2061%2077.6%2061s77.6-18.2%2077.6-61V98c0-6.6-34.8-12-77.6-12z%22%20fill%3D%22%231b2b59%22%2F%3E%3Cpath%20d%3D%22M125%20108.5c-25.6%200-47.3%2017-54.4%2040.3H87c6.4-14.6%2021-24.9%2038-24.9%2022.8%200%2041.4%2018.6%2041.4%2041.4s-18.6%2041.4-41.4%2041.4c-17%200-31.6-10.2-38-24.9H70.6c7.1%2023.3%2028.8%2040.3%2054.4%2040.3%2031.4%200%2056.9-25.5%2056.9-56.9%200-31.1-25.5-56.7-56.9-56.7z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M146.8%20162.9l-31.6-18.2c-2.4-1.4-4.4-.3-4.4%202.6v11H47.4v14.5h63.4v11c0%202.8%202%204%204.4%202.6l31.6-18.2c2.5-1.6%202.5-3.9%200-5.3z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M-540.7%20472.6c-26.5%200-48.1%2021.6-48.1%2048.1v39.8h20.6v-39.8c0-15.2%2012.3-27.5%2027.5-27.5%2015.1%200%2027.5%2012.3%2027.5%2027.5v39.8h20.6v-39.8c0-26.5-21.6-48.1-48.1-48.1z%22%20fill%3D%22%231099d6%22%2F%3E%3Cpath%20d%3D%22M-540.7%20547.9c-38.5%200-69.7%204.8-69.7%2010.8v79.8c0%2038.5%2047.5%2054.8%2069.7%2054.8S-471%20677-471%20638.5v-79.8c-.1-6-31.3-10.8-69.7-10.8z%22%20fill%3D%22%231b2b59%22%2F%3E%3Cpath%20d%3D%22M-540.7%20568.1c-23%200-42.5%2015.3-48.9%2036.2h14.8c5.8-13.1%2018.9-22.3%2034.1-22.3%2020.5%200%2037.2%2016.7%2037.2%2037.2s-16.7%2037.2-37.2%2037.2c-15.2%200-28.3-9.2-34.1-22.3h-14.8c6.4%2020.9%2025.9%2036.2%2048.9%2036.2%2028.2%200%2051.1-22.9%2051.1-51.1-.1-28.2-23-51.1-51.1-51.1z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M-521.1%20616.9l-28.3-16.4c-2.2-1.3-4-.2-4%202.3v9.8h-56.9v13h56.9v9.8c0%202.5%201.8%203.6%204%202.3l28.3-16.4c2.2-1.1%202.2-3.1%200-4.4z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E");
				}
			}
		}

		.tl-#{$namespace}-auth__response_error {
			padding: 20px;
			margin-bottom: $vertical-spacing / 2;
			color: #23282D;
			font-weight: 500;
			vertical-align: top;
			border: 2px solid #f9a87e;
			background-color: #fef1ea;
			border-radius: $border-radius-large;
		}

		.tl-#{$namespace}-toggle {
			cursor: pointer;
		}

		.tl-#{$namespace}-auth__roles {

			.tl-#{$namespace}-toggle .dashicons {
				margin-left: 0;
				vertical-align: middle;
			}

			.tl-#{$namespace}-auth__role-container {
				margin-top: $vertical-spacing/2;
				margin-bottom: 0;
				border-bottom: 1px solid $color-light-grey-500;
				padding: 0 $gutter-width $vertical-spacing/2;

				&.hidden {
					display: none;
				}

				h3 {
					margin-top: $vertical-spacing;
				}
			}

			li {
				color: $color-555;
				margin-bottom: $vertical-spacing / 2;

				.dashicons {
					margin-right: $gutter-width;
					vertical-align: middle;
				}

				.dashicons-yes-alt {
					color: $color-green;
				}

				.dashicons-no {
					color: $color-red;
				}

				.code {
					display: inline-block;
					margin-bottom: .25em;
					font-size: 13px;
				}

				small {
					display: block;
					line-height: 1.375;
					font-size: 14px;
					margin-left: $small-icon-size + $gutter-width;
				}
			}

			&:after {
				content: '';
				display: block;
				clear: both;
			}
		}

		h1, h2, h3, table {
			color: $color-555;
			border: 0;
			clear: none;
			margin: 0 0 $vertical-spacing;
			padding: 0;
		}

		table {
			margin-bottom: $vertical-spacing;
		}

		h1 {
			font-size: 1.8em;
			font-weight: 300;
		}

		h2 {
			font-size: 1.25em;
			line-height: 1.7;
			font-weight: 400;
			margin: 0;

			.dashicons--large {
				padding-right: $gutter-width;
			}

			small {
				display: block;
				color: $color-666;
				font-size: 14px;
				padding-left: $large-icon-size + $gutter-width;
			}

			&.tl-#{$namespace}-auth__intro {
				text-align: center;
				font-size: 2em;
				line-height: 1.375;
				padding: $gutter-width $gutter-width * 3;
			}
		}

		&.tl-#{$namespace}-grant-access .tl-#{$namespace}-auth__roles {
			margin-top: $vertical-spacing / 2;
			padding: ($vertical-spacing / 2) 0 0 0;
		}

		//&.tl-#{$namespace}-grant-access .tl-#{$namespace}-auth__expire, // When the expiration has an expanding section, uncomment this line.
		&.tl-#{$namespace}-has-access .tl-#{$namespace}-auth__content {
			margin-top: $vertical-spacing / 2;
			padding: ($vertical-spacing / 2) $gutter-width;
			border: 1px solid $color-light-grey-600;
			border-radius: $border-radius-base;
		}

		&.tl-#{$namespace}-has-access .tl-#{$namespace}-auth__content {
			padding: 0;
		}

		&.tl-#{$namespace}-has-access .tl-#{$namespace}-auth__header {
			padding: $vertical-spacing ($gutter-width * 2);
			margin-bottom: $vertical-spacing;
			border-radius: $border-radius-small $border-radius-small 0 0;
			background: $color-light-grey-100;
			border-bottom: 1px solid $color-light-grey-600;

			h3 {
				text-transform: none;
				font-size: 1.4em;
			}

			.tl-#{$namespace}-auth__meta {
				color: $color-666;
			}
		}

		.tl-#{$namespace}-auth__intro,
		.tl-#{$namespace}-auth__details {
			padding: ($vertical-spacing / 2) $gutter-width * 2;
		}

		.tl-#{$namespace}-ticket__fields {
			margin-top: ($vertical-spacing / 2);

			textarea {
				padding: ($vertical-spacing / 3) $gutter-width;
				font-size: 17px;
				line-height: 1.375;
			}
		}

		.button-danger {
			border: 1px solid $color-light-grey-900;
			background: #fff;
			color: $color-red;
			padding: ($vertical-spacing / 4) $vertical-spacing;

			&:active,
			&:hover {
				border: 1px solid $color-red;
				background: $color-red;
				color: #fff;
				-webkit-box-shadow: inset 0 2px 5px -3px opacify($color-red, .5);
				box-shadow: inset 0 2px 5px -3px opacify($color-red, .5);
				text-shadow: none !important
			}
		}

		h3 {
			font-size: 1em;
			text-transform: uppercase;
			margin-bottom: $vertical-spacing / 2;
			font-weight: 600;
		}

		p, ul {
			color: $color-555;
			font-size: 1.1em;
			line-height: 1.7;
			margin: 0 0 $vertical-spacing / 2;
		}

		input.code {
			border: none;
			padding: 0;
			font-size: 11.5px;
			width: 100%;
			min-height: $large-icon-size; // copy button height
			background: transparent;
			margin: 0; // Override WP login screen issues
		}

		.tl-#{$namespace}-auth__secured_by {
			text-align: center;
			font-size: 1.1em;
			word-spacing: -.1em;
			margin: ($vertical-spacing / 2) auto $vertical-spacing;
			line-height: 36px; // Height of the medium TL logo
			color: $color-555;
		}

		.tl-#{$namespace}-auth__accesskey_wrapper {
			padding: $gutter-width;
			background: $color-light-grey-100;
			border: 1px solid $color-light-grey-600;
			border-radius: $border-radius-small;
			position: relative;
			box-sizing: border-box;

			&:after {
				display: block;
				content: '';
				clear: both;
			}
		}

		.tl-#{$namespace}-auth__accesskey_copy.button {
			position: absolute;
			top: $gutter-width / 2;
			right: $gutter-width;
			height: $large-icon-size + $gutter-width;
			color: $color-555;
			font-size: 1.1em;
			border: 1px solid transparent;
			background: transparent;
			padding: 0 $gutter-width 0 ($gutter-width / 2); // The copy icon looks a bit skewed if centered exactly

			&:hover,
			&.tl-#{$namespace}-auth__copied {
				background: $color-light-grey-100;
				border: 1px solid $color-light-grey-900;
			}

			&:active {
				border: 1px solid $color-555;

				&:after {
					color: $color-555;
				}
			}

			&.tl-#{$namespace}-auth__copied {
				padding-left: $gutter-width;
				background: $color-light-grey-200;
				box-shadow: 0 1px 3px rgba(0, 0, 0, 0.065);
				font-weight: bold;
			}

			&:after {
				color: $color-666;
				text-decoration: none;
				font-family: Dashicons;
				font-size: $medium-icon-size;
				height: $medium-icon-size;
				width: $medium-icon-size;
				line-height: $medium-icon-size;
				padding-left: $medium-icon-size / 4;
				margin-top: -3px;
				display: inline-block;
				content: "\f105";
				vertical-align: middle;
			}
		}

		p {
			padding: 0;
		}

		a {
			&:hover, &:focus {
				color: $color-111;
			}
		}

		.notice {
			margin: 0 ($gutter-width * 2) ($vertical-spacing / 2);

			h3 {
				font-size: 1.2em;
				line-height: 1.375;
				margin: 12px 0 $vertical-spacing / 2;
			}

			p {
				font-size: 1em;
				margin: 12px 0;
			}
		}

		.tl-#{$namespace}-auth__logo {
			border: 0;
			margin: 0 0 $vertical-spacing;
			padding: 0;
			text-align: center;

			img {
				max-width: 50%;
				max-height: 120px;
			}

			a:after {
				content: ''; // Remove external icon
			}
		}

		.tl-#{$namespace}-auth__admin_debugging {
			text-align: left;
			max-height: 25vh;
			overflow-y: auto;
		}

		footer {
			padding: $vertical-spacing / 2;

			ul {
				list-style: none;
				text-align: center;
			}

			li {
				display: inline-block;

				&:after {
					color: lighten($color-555, 20%); // #wp-footer color
					content: '•';
					padding: 0 .75rem;
				}

				&:last-child:after {
					content: '';
					padding: 0;
				}
			}
		}
	}
}
