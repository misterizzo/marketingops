(window.webpackJsonp=window.webpackJsonp||[]).push([[150],{155:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=259200},412:function(e,t,a){e.exports=a.p+"images/ef104cbfbb5c270f6a19262e20ef5c0a.jpg"},413:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return y});var n=a(62),r=a.n(n),s=a(8),i=a(35),c=3,o=5,l=7,u=9,d=11,m=12,p={2:"stateInit",3:"stateErrorInit",4:"stateInstalling",5:"stateErrorInstalling",6:"stateActivating",7:"stateErrorActivating",8:"stateDB",9:"stateErrorDB",10:"stateDeactivating",11:"stateErrorDeactivating",12:"stateDone"},g=function(){return{"Content-Type":"application/json","X-WP-Nonce":Object(i.c)()}},b=function(t){return function(){return e(Object(i.b)()+"wc/v1/connect/migration-flag",{method:"POST",headers:g(),body:JSON.stringify({migration_state:t})})}},f=function(e){return function(){return b(e)()}},h=function(e){return r()(regeneratorRuntime.mark(function t(){var a,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(!((a=t.sent).status>=400)){t.next=8;break}return t.next=6,a.json();case 6:throw n=t.sent,new Error(n.message||Object(s.translate)("Failed to setup WooCommerce Shipping. Please try again."));case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}},t)}))},v={stateInit:{success:"stateInstalling",fail:"stateInit",callback:h(b(2))},stateErrorInit:{success:"stateInit",fail:"stateErrorInit",callback:f(c)},stateInstalling:{success:"stateActivating",fail:"stateErrorInstalling",callback:h(function(){return e(Object(i.b)()+"wc-admin/plugins/install",{method:"POST",headers:g(),body:JSON.stringify({plugins:"woocommerce-shipping"})})})},stateErrorInstalling:{success:"stateInstalling",fail:"stateErrorInstalling",callback:f(o)},stateActivating:{success:"stateDone",fail:"stateErrorActivating",callback:h(function(){return e(Object(i.b)()+"wc-admin/plugins/activate",{method:"POST",headers:g(),body:JSON.stringify({plugins:"woocommerce-shipping"})})})},stateErrorActivating:{success:"stateActivating",fail:"stateErrorActivating",callback:f(l)},stateDB:{success:"stateDeactivating",fail:"stateErrorDB",callback:new Promise(function(e){return e({status:200})})},stateErrorDB:{success:"stateDBMigrating",fail:"stateErrorDB",callback:f(u)},stateDeactivating:{success:"stateDone",fail:"stateErrorDeactivating",callback:h(function(){return e(Object(i.b)()+"wp/v2/plugins/woocommerce-services/woocommerce-services",{method:"POST",headers:g(),body:JSON.stringify({status:"inactive"})})})},stateErrorDeactivating:{success:"stateDeactivating",fail:"stateErrorDeactivating",callback:f(d)},stateDone:{success:null,fail:null,callback:f(m)}},E=function(e){if(!v[e])throw new Error("Migration state ["+e+"] not found");return v[e]},k=["stateDone","stateErrorInstalling","stateErrorActivating","stateErrorDB","stateErrorDeactivating"],y=function(){var e=r()(regeneratorRuntime.mark(function e(t){var a,n,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){var e=r()(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=E(t),n="",e.prev=4,e.next=7,a.callback();case 7:n=a.success,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),n=a.fail;case 13:return e.prev=13,e.abrupt("return",n);case 16:case"end":return e.stop()}},e,null,[[4,10,13,16]])}));return function(t){return e.apply(this,arguments)}}(),n=function(){return t?E(p[t]).success:p[2]}(),s=0,i=Object.keys(v).length;case 5:if(!(s++<i)){e.next=15;break}return e.next=8,a(n);case 8:if(n=e.sent,!k.includes(n)){e.next=13;break}return e.next=12,a(n);case 12:return e.abrupt("break",15);case 13:e.next=5;break;case 15:window.location=window.wcsPluginData.adminPluginPath;case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}).call(this,a(154))},422:function(e,t,a){"use strict";var n=a(62),r=a.n(n),s=a(53),i=a.n(s),c=a(2),o=a.n(c),l=a(670),u=a(668),d=a(414),m=a(431),p=a(159),g=a(61),b=a(36),f=a(8),h=a(412),v=a.n(h),E=function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},o.a.createElement("path",{d:"M15.8751 8.31934C16.2338 8.52644 16.3567 8.98514 16.1496 9.34385L12.6496 15.406C12.4425 15.7648 11.9838 15.8877 11.6251 15.6806C11.2664 15.4734 11.1435 15.0148 11.3506 14.656L14.8506 8.59385C15.0577 8.23514 15.5164 8.11223 15.8751 8.31934Z",fill:"#1E1E1E"}),o.a.createElement("path",{d:"M7.31285 10.8816C6.95413 10.6745 6.49544 10.7974 6.28833 11.1561C6.08122 11.5149 6.20413 11.9736 6.56285 12.1807L6.99586 12.4307C7.35458 12.6378 7.81327 12.5149 8.02038 12.1561C8.22749 11.7974 8.10458 11.3387 7.74586 11.1316L7.31285 10.8816Z",fill:"#1E1E1E"}),o.a.createElement("path",{d:"M8.53135 8.31946C8.89007 8.11235 9.34877 8.23526 9.55587 8.59398L9.80587 9.02699C10.013 9.38571 9.89007 9.8444 9.53135 10.0515C9.17264 10.2586 8.71394 10.1357 8.50684 9.77699L8.25684 9.34398C8.04973 8.98526 8.17264 8.52656 8.53135 8.31946Z",fill:"#1E1E1E"}),o.a.createElement("path",{d:"M12.75 7.75C12.75 7.33579 12.4142 7 12 7C11.5858 7 11.25 7.33579 11.25 7.75V8.25C11.25 8.66421 11.5858 9 12 9C12.4142 9 12.75 8.66421 12.75 8.25V7.75Z",fill:"#1E1E1E"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.25 13C3.25 8.16751 7.16751 4.25 12 4.25C16.8325 4.25 20.75 8.16751 20.75 13C20.75 14.824 20.1911 16.5197 19.2351 17.9224L19.0118 18.25H4.98822L4.76493 17.9224C3.80893 16.5197 3.25 14.824 3.25 13ZM12 5.75C7.99594 5.75 4.75 8.99594 4.75 13C4.75 14.3736 5.1313 15.6562 5.79378 16.75H18.2062C18.8687 15.6562 19.25 14.3736 19.25 13C19.25 8.99594 16.0041 5.75 12 5.75Z",fill:"#1E1E1E"}))},k=function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},o.a.createElement("rect",{width:"24",height:"24",rx:"2",fill:"white"}),o.a.createElement("path",{d:"M18 4H6C4.9 4 4 4.9 4 6V18C4 19.1 4.9 20 6 20H18C19.1 20 20 19.1 20 18V6C20 4.9 19.1 4 18 4ZM18.5 18C18.5 18.3 18.3 18.5 18 18.5H6C5.7 18.5 5.5 18.3 5.5 18V6C5.5 5.7 5.7 5.5 6 5.5H18C18.3 5.5 18.5 5.7 18.5 6V18ZM7 16.5H13V15H7V16.5ZM11 12.5H17V11H11V12.5ZM9 11H7V12.5H9V11ZM15 16.5H17V15H15V16.5Z",fill:"black"}))},y=function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},o.a.createElement("rect",{width:"24",height:"24",rx:"2",fill:"white"}),o.a.createElement("path",{d:"M3 6.75C3 5.784 3.784 5 4.75 5H15V7.313L15.05 7.34L20.106 10.07L20.5 10.282V13.75C20.5 14.2141 20.3156 14.6592 19.9874 14.9874C19.6592 15.3156 19.2141 15.5 18.75 15.5H18.738C18.7729 15.8476 18.7345 16.1987 18.6254 16.5306C18.5163 16.8624 18.3388 17.1678 18.1044 17.4269C17.8701 17.6859 17.584 17.893 17.2647 18.0347C16.9453 18.1765 16.5999 18.2497 16.2505 18.2497C15.9011 18.2497 15.5557 18.1765 15.2363 18.0347C14.917 17.893 14.6309 17.6859 14.3966 17.4269C14.1622 17.1678 13.9847 16.8624 13.8756 16.5306C13.7665 16.1987 13.7281 15.8476 13.763 15.5H9.737C9.77189 15.8476 9.73354 16.1987 9.62442 16.5306C9.51529 16.8624 9.33782 17.1678 9.10344 17.4269C8.86907 17.6859 8.58299 17.893 8.26367 18.0347C7.94435 18.1765 7.59886 18.2497 7.2495 18.2497C6.90014 18.2497 6.55465 18.1765 6.23533 18.0347C5.91601 17.893 5.62993 17.6859 5.39556 17.4269C5.16118 17.1678 4.98371 16.8624 4.87458 16.5306C4.76546 16.1987 4.72711 15.8476 4.762 15.5H3V6.75ZM13.5 14V6.5H4.75C4.6837 6.5 4.62011 6.52634 4.57322 6.57322C4.52634 6.62011 4.5 6.6837 4.5 6.75V14H5.465C5.69748 13.7623 5.97516 13.5734 6.28172 13.4446C6.58827 13.3158 6.91749 13.2497 7.25 13.25C7.95 13.25 8.582 13.537 9.035 14H13.5ZM18.035 14H18.75C18.8163 14 18.8799 13.9737 18.9268 13.9268C18.9737 13.8799 19 13.8163 19 13.75V11.177L15 9.017V13.585C15.3798 13.365 15.8111 13.2494 16.25 13.25C16.95 13.25 17.582 13.537 18.035 14ZM6.282 15.5C6.24426 15.6477 6.24074 15.8021 6.27168 15.9514C6.30263 16.1007 6.36725 16.241 6.4606 16.3615C6.55395 16.4821 6.67358 16.5797 6.81038 16.647C6.94718 16.7144 7.09753 16.7496 7.25 16.75C7.43704 16.75 7.62035 16.6976 7.7791 16.5987C7.93785 16.4998 8.06567 16.3583 8.14804 16.1904C8.23042 16.0225 8.26405 15.8348 8.2451 15.6487C8.22616 15.4627 8.15541 15.2856 8.04089 15.1377C7.92637 14.9898 7.77266 14.877 7.59724 14.8121C7.42182 14.7472 7.23171 14.7328 7.04851 14.7706C6.86531 14.8083 6.69637 14.8967 6.56087 15.0256C6.42538 15.1545 6.32876 15.3189 6.282 15.5ZM15.282 15.5C15.2489 15.6273 15.2413 15.7599 15.2595 15.8902C15.2778 16.0204 15.3215 16.1458 15.3883 16.2592C15.4551 16.3725 15.5435 16.4715 15.6487 16.5506C15.7538 16.6297 15.8735 16.6873 16.0009 16.72C16.1283 16.7528 16.2609 16.7601 16.3911 16.7415C16.5213 16.7229 16.6466 16.6788 16.7597 16.6118C16.8729 16.5447 16.9717 16.456 17.0505 16.3506C17.1293 16.2453 17.1866 16.1255 17.219 15.998C17.285 15.741 17.2463 15.4683 17.1113 15.2399C16.9762 15.0115 16.756 14.846 16.499 14.78C16.242 14.714 15.9693 14.7527 15.7409 14.8877C15.5125 15.0228 15.347 15.243 15.281 15.5H15.282Z",fill:"black"}))},_=function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},o.a.createElement("path",{d:"M8.85074 4.82081L7.64702 3.92578L5.56365 6.72769L4.44959 5.89687L3.55286 7.09931L5.87107 8.82813L8.85074 4.82081Z",fill:"#1E1E1E"}),o.a.createElement("path",{d:"M20 7.74955H11.1111V6.24955H20V7.74955Z",fill:"#1E1E1E"}),o.a.createElement("path",{d:"M20 12.7496H11.1111V11.2496H20V12.7496Z",fill:"#1E1E1E"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 13.9996C7.10457 13.9996 8 13.1041 8 11.9996C8 10.895 7.10457 9.99955 6 9.99955C4.89543 9.99955 4 10.895 4 11.9996C4 13.1041 4.89543 13.9996 6 13.9996ZM6 12.9996C6.55229 12.9996 7 12.5518 7 11.9996C7 11.4473 6.55229 10.9996 6 10.9996C5.44772 10.9996 5 11.4473 5 11.9996C5 12.5518 5.44772 12.9996 6 12.9996Z",fill:"#1E1E1E"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16.9996C8 18.1041 7.10457 18.9996 6 18.9996C4.89543 18.9996 4 18.1041 4 16.9996C4 15.895 4.89543 14.9996 6 14.9996C7.10457 14.9996 8 15.895 8 16.9996ZM7 16.9996C7 17.5518 6.55229 17.9996 6 17.9996C5.44772 17.9996 5 17.5518 5 16.9996C5 16.4473 5.44772 15.9996 6 15.9996C6.55229 15.9996 7 16.4473 7 16.9996Z",fill:"#1E1E1E"}),o.a.createElement("path",{d:"M11.1111 17.7496H20V16.2496H11.1111V17.7496Z",fill:"#1E1E1E"}))},O=a(11),C=a(413),I=a(155);t.a=Object(g.b)(function(e,t){var a=t.siteId;return{isEligable:Object(O.u)(e,a),previousMigrationState:Object(O.A)(e,a)}},function(e){return Object(b.b)({},e)})(Object(f.localize)(function(e){var t=e.translate,a=e.isEligable,n=e.previousMigrationState,s=e.onClose,g=Object(c.useState)(a),b=i()(g,2),f=b[0],h=b[1],O=Object(c.useState)(!1),N=i()(O,2),j=N[0],w=N[1];Object(c.useEffect)(function(){window.wpCookies.get("wcst-wcshipping-migration-dismissed")&&parseInt(window.wpCookies.get("wcst-wcshipping-migration-dismissed"))&&h(!1)},[]);var x=function(){var e=r()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,Object(C.a)(n);case 3:w(!1);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,f&&o.a.createElement(l.a,{className:"migration__announcement-modal",shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,onRequestClose:function(){h(!1),s&&s()}},o.a.createElement(u.a,{gap:8},o.a.createElement(d.a,null,o.a.createElement(u.a,null,o.a.createElement("span",null,t("Try WooCommerce Shipping")),o.a.createElement("h2",null,t("A new WooCommerce Shipping experience is now available")),o.a.createElement("p",null,t("We'll ensure a seamless transition by allowing you to migrate all your compatible settings and shipping labels when you update.")),o.a.createElement("p",null,t("Here's what you can expect from the new shipping experience:")),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(m.a,{icon:E}),o.a.createElement("div",null,o.a.createElement("h3",null,t("A seamless transition")),o.a.createElement("p",null,t("Automatically migrate all your compatible settings and shipment history to the new extension.")))),o.a.createElement("li",null,o.a.createElement(m.a,{icon:k}),o.a.createElement("div",null,o.a.createElement("h3",null,t("Print and save")),o.a.createElement("p",null,t("Speed up label creation with a streamlined process to print and save your label preferences.")))),o.a.createElement("li",null,o.a.createElement(m.a,{icon:y}),o.a.createElement("div",null,o.a.createElement("h3",null,t("USPS and DHL Express")),o.a.createElement("p",null,t("Ship your productss using trusted shipping carriers like USPS and DHL Express at discounted rates, with more options and carriers coming soon.")))),o.a.createElement("li",null,o.a.createElement(m.a,{icon:_}),o.a.createElement("div",null,o.a.createElement("h3",null,t("Enhanced label purchase flow")),o.a.createElement("p",null,t("Experience a smoother label purchasing process with our updated interface.")))))),o.a.createElement(u.a,null,!j&&o.a.createElement(p.a,{isTertiary:!0,onClick:function(){window.wpCookies.set("wcst-wcshipping-migration-dismissed",1,I.a),h(!1),s&&s()}},t("Maybe later")),o.a.createElement(p.a,{id:"migration__announcement-update-button",isPrimary:!0,onClick:x,isBusy:j,disabled:j},t(j?"Installing WooCommerce Shipping\u2026":"Try WooCommerce Shipping now")))),o.a.createElement(d.a,{style:{background:"url(".concat(v.a,") no-repeat center center"),backgroundSize:"contain"}},"\xa0"))))}))},672:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(69),i=a.n(s),c=a(2),o=a.n(c),l=a(32),u=a.n(l);t.a=function(e){var t=e.className,a=e.children,n=i()(e,["className","children"]);return o.a.createElement("fieldset",r()({},n,{className:u()(t,"form-fieldset")}),a)}},673:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(69),i=a.n(s),c=a(2),o=a.n(c),l=a(19),u=a.n(l),d=a(32),m=a.n(d),p=a(8),g=function(e){var t=e.children,a=e.required,n=e.optional,s=e.translate,c=e.className,l=(e.moment,e.numberFormat,e.dangerouslySetInnerHTML),u=i()(e,["children","required","optional","translate","className","moment","numberFormat","dangerouslySetInnerHTML"]),d=l?null:o.a.createElement(o.a.Fragment,null,t,a&&o.a.createElement("small",{className:"form-label__required"},s("Required")),n&&o.a.createElement("small",{className:"form-label__optional"},s("Optional")));return o.a.createElement("label",r()({},u,{dangerouslySetInnerHTML:l,className:m()(c,"form-label")}),d)};g.propTypes={required:u.a.bool,optional:u.a.bool,children:u.a.node},t.a=Object(p.localize)(g)},674:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(19),i=a.n(s),c=a(32),o=a.n(c),l=a(261),u=a.n(l),d=function(e){var t=e.text,a=e.type,n=void 0===a?"input-validation":a;return r.a.createElement("div",{className:o()("field-error","field-error__".concat(n))},r.a.createElement(u.a,{size:24,icon:"notice-outline"})," ",r.a.createElement("span",null,t))};d.propTypes={text:i.a.string.isRequired,type:i.a.string},t.a=d},675:function(e,t,a){"use strict";a.d(t,"a",function(){return C});var n=a(260),r=a.n(n),s=a(52),i=a.n(s),c=a(78),o=a.n(c),l=a(90),u=a.n(l),d=a(84),m=a.n(d),p=a(91),g=a.n(p),b=a(5),f=a.n(b),h=a(2),v=a.n(h),E=a(19),k=a.n(E),y=a(32),_=a.n(y),O=a(0),C=function(e){function t(){return i()(this,t),u()(this,m()(t).apply(this,arguments))}return g()(t,e),o()(t,[{key:"render",value:function(){var e=_()(this.props.className,"form-setting-explanation",{"no-validate":this.props.noValidate,"is-indented":this.props.isIndented});return v.a.createElement("p",r()({},Object(O.omit)(this.props,"className","noValidate","isIndented"),{className:e}),this.props.children)}}]),t}(v.a.Component);f()(C,"displayName","FormSettingExplanation"),f()(C,"propTypes",{noValidate:k.a.bool,isIndented:k.a.bool,className:k.a.string}),f()(C,"defaultProps",{noValidate:!1,isIndented:!1})},676:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(69),i=a.n(s),c=a(2),o=a.n(c),l=a(32),u=a.n(l);t.a=function(e){var t=e.className,a=e.children,n=i()(e,["className","children"]);return o.a.createElement("legend",r()({},n,{className:u()(t,"form-legend")}),a)}},677:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(69),i=a.n(s),c=a(2),o=a.n(c),l=a(32),u=a.n(l);t.a=function(e){var t=e.className,a=e.children,n=i()(e,["className","children"]);return o.a.createElement("h3",r()({},n,{className:u()(t,"form-section-heading")}),a)}},678:function(e,t,a){"use strict";var n=a(52),r=a.n(n),s=a(78),i=a.n(s),c=a(90),o=a.n(c),l=a(84),u=a.n(l),d=a(92),m=a.n(d),p=a(91),g=a.n(p),b=a(5),f=a.n(b),h=a(19),v=a.n(h),E=a(2),k=a.n(E),y=a(32),_=a.n(y),O=a(0),C=a(8),I=a(261),N=a.n(I);a(682);function j(e){var t=e.children;return k.a.createElement("span",{className:"screen-reader-text"},t)}var w=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=o()(this,(e=u()(t)).call.apply(e,[this].concat(s))),f()(m()(a),"dismissTimeout",null),a}return g()(t,e),i()(t,[{key:"componentDidMount",value:function(){this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){clearTimeout(this.dismissTimeout),this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"getIcon",value:function(){var e;switch(this.props.status){case"is-info":e="info";break;case"is-success":e="checkmark";break;case"is-error":case"is-warning":e="notice";break;default:e="info"}return e}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.icon,r=e.isCompact,s=e.isLoading,i=e.onDismissClick,c=e.showDismiss,o=void 0===c?!r:c,l=e.status,u=e.text,d=e.translate,m=_()("notice",l,a,{"is-compact":r,"is-loading":s,"is-dismissable":o});return k.a.createElement("div",{className:m},k.a.createElement("span",{className:"notice__icon-wrapper"},k.a.createElement(N.a,{className:"notice__icon",icon:n||this.getIcon(),size:24})),k.a.createElement("span",{className:"notice__content"},k.a.createElement("span",{className:"notice__text"},u||t)),u?t:null,o&&k.a.createElement("span",{tabIndex:"0",className:"notice__dismiss",onClick:i,onKeyDown:i,role:"button","aria-label":d("Dismiss")},k.a.createElement(N.a,{icon:"cross",size:24}),k.a.createElement(j,null,d("Dismiss"))))}}]),t}(E.Component);f()(w,"defaultProps",{className:"",duration:0,icon:null,isCompact:!1,isLoading:!1,onDismissClick:O.noop,status:null,text:null}),f()(w,"propTypes",{className:v.a.string,duration:v.a.number,icon:v.a.string,isCompact:v.a.bool,isLoading:v.a.bool,onDismissClick:v.a.func,showDismiss:v.a.bool,status:v.a.oneOf(["is-error","is-info","is-success","is-warning","is-plain"]),text:v.a.oneOfType([v.a.arrayOf(v.a.oneOfType([v.a.string,v.a.node])),v.a.oneOfType([v.a.string,v.a.node])]),translate:v.a.func.isRequired});t.a=Object(C.localize)(w)},679:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(69),i=a.n(s),c=a(2),o=a.n(c),l=a(32),u=a.n(l);a(686);t.a=function(e){var t=e.inputRef,a=e.className,n=e.isError,s=i()(e,["inputRef","className","isError"]);return o.a.createElement("select",r()({},s,{ref:t,className:u()(a,"form-select",{"is-error":n})}))}},680:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(52),i=a.n(s),c=a(78),o=a.n(c),l=a(90),u=a.n(l),d=a(84),m=a.n(d),p=a(92),g=a.n(p),b=a(91),f=a.n(b),h=a(5),v=a.n(h),E=a(19),k=a.n(E),y=a(2),_=a.n(y),O=a(0),C=a(689),I=a(409),N=a.n(I),j=a(32),w=a.n(j),x=function(e){function t(){var e,a;i()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(r))),v()(g()(a),"_onButtonClick",function(e){e.onClick?e.onClick(a._close.bind(g()(a),e.action)):a._close(e.action)}),v()(g()(a),"_close",function(e){a.props.onDialogClose&&a.props.onDialogClose(e)}),a}return f()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.additionalClassNames,a=e.isBackdropVisible,n=e.baseClassName,r=e.isFullScreen,s=e.shouldCloseOnEsc,i=n+"__content",c=w()(n,"card",t),o=w()(n+"__backdrop",{"is-full-screen":!!r,"is-hidden":!a});return _.a.createElement(N.a,{isOpen:this.props.isVisible,onRequestClose:this._close,closeTimeoutMS:this.props.leaveTimeout,contentLabel:this.props.label,appElement:document.getElementById("wpcom"),overlayClassName:o,className:c,htmlOpenClassName:"ReactModal__Html--open",role:"dialog",shouldCloseOnEsc:s},_.a.createElement("div",{className:w()(this.props.className,i),tabIndex:"-1"},this.props.children),this._renderButtonsBar())}},{key:"_renderButtonsBar",value:function(){var e=this.props.baseClassName+"__action-buttons";return this.props.buttons?_.a.createElement("div",{className:e},this.props.buttons.map(this._renderButton,this)):null}},{key:"_renderButton",value:function(e,t){if(_.a.isValidElement(e))return _.a.cloneElement(e,{key:"dialog-button-"+t});var a=this._getButtonClasses(e),n=this._onButtonClick.bind(this,e);return _.a.createElement("button",{key:e.action,className:a,"data-e2e-button":e.action,"data-tip-target":"dialog-base-action-".concat(e.action),onClick:n,disabled:!!e.disabled},_.a.createElement("span",{className:this.props.baseClassName+"__button-label"},e.label))}},{key:"_getButtonClasses",value:function(e){var t=e.className||"button";return(e.isPrimary||1===this.props.buttons.length)&&(t+=" is-primary"),e.additionalClassNames&&(t+=" "+e.additionalClassNames),t}}]),t}(y.Component);v()(x,"propTypes",{additionalClassNames:k.a.oneOfType([k.a.object,k.a.string]),autoFocus:k.a.bool,baseClassName:k.a.string,buttons:k.a.array,className:k.a.string,isBackdropVisible:k.a.bool,isFullScreen:k.a.bool,isVisible:k.a.bool,label:k.a.string,leaveTimeout:k.a.number,onDialogClose:k.a.func,shouldCloseOnEsc:k.a.bool}),v()(x,"defaultProps",{baseClassName:"dialog",isBackdropVisible:!0,isFullScreen:!0,autoFocus:!0,label:""});var R=x,S=function(e){function t(){var e,a;i()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(r))),v()(g()(a),"checkOnClosed",function(e){null===e&&Object(O.defer)(a.props.onClosed)}),v()(g()(a),"onDialogClose",function(e){a.props.onClose&&a.props.onClose(e)}),a}return f()(t,e),o()(t,[{key:"render",value:function(){return _.a.createElement(C.a,null,_.a.createElement(R,r()({},this.props,{ref:this.checkOnClosed,key:"dialog",onDialogClose:this.onDialogClose})))}}]),t}(y.Component);v()(S,"propTypes",{isVisible:k.a.bool,baseClassName:k.a.string,leaveTimeout:k.a.number,onClose:k.a.func,onClosed:k.a.func,shouldCloseOnEsc:k.a.bool}),v()(S,"defaultProps",{isVisible:!1,leaveTimeout:200,onClosed:O.noop});t.a=S},682:function(e,t,a){},683:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(69),i=a.n(s),c=a(52),o=a.n(c),l=a(78),u=a.n(l),d=a(90),m=a.n(d),p=a(84),g=a.n(p),b=a(92),f=a.n(b),h=a(91),v=a.n(h),E=a(5),k=a.n(E),y=a(32),_=a.n(y),O=a(8),C=a(0),I=a(2),N=a.n(I),j=a(19),w=a.n(j),x=a(159),R=function(e){function t(){var e,a;o()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return a=m()(this,(e=g()(t)).call.apply(e,[this].concat(r))),k()(f()(a),"getDefaultButtonAction",function(){return a.props.isSubmitting?a.props.translate("Saving\u2026"):a.props.translate("Save Settings")}),a}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.isPrimary,s=i()(e,["children","className","isPrimary"]),c=_()(a,"form-button","button",{"is-borderless":this.props.borderless});return N.a.createElement(x.a,r()({},Object(C.omit)(s,["isSubmitting","moment","numberFormat","translate","borderless"]),{isPrimary:n,className:c}),I.Children.count(t)?t:this.getDefaultButtonAction())}}]),t}(N.a.Component);k()(R,"defaultProps",{isSubmitting:!1,isPrimary:!0,type:"submit",borderless:!1}),R.propTypes={isSubmitting:w.a.bool,isPrimary:w.a.bool,type:w.a.string,borderless:w.a.bool},t.a=Object(O.localize)(R)},684:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(19),i=a.n(s),c=a(32),o=a.n(c),l=a(759),u=a(672),d=a(674),m=a(675),p=function(e){var t=e.id,a=e.title,s=e.description,i=e.value,c=e.placeholder,p=e.updateValue,g=e.error,b=e.className,f=e.defaultValue,h=Object(n.useCallback)(function(e){return p(e,t)},[p]),v=o()("form-text-input",{"is-error":Boolean(g)});return r.a.createElement(u.a,{className:b},r.a.createElement(l.a,{label:a,name:t,placeholder:c,value:i,onChange:h,className:v,defaultValue:f}),g&&"string"===typeof g&&r.a.createElement(d.a,{text:g}),!g&&s&&r.a.createElement(m.a,null,s))};p.propTypes={id:i.a.string.isRequired,title:i.a.node,description:i.a.string,value:i.a.string,defaultValue:i.a.string,updateValue:i.a.func,error:i.a.oneOfType([i.a.string,i.a.bool]),className:i.a.string},t.a=p},686:function(e,t,a){},689:function(e,t,a){"use strict";a.d(t,"a",function(){return I});var n=a(52),r=a.n(n),s=a(78),i=a.n(s),c=a(90),o=a.n(c),l=a(84),u=a.n(l),d=a(92),m=a.n(d),p=a(91),g=a.n(p),b=a(5),f=a.n(b),h=a(112),v=a.n(h),E=a(19),k=a.n(E),y=a(2),_=a.n(y),O=a(61),C=a(181),I=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=o()(this,(e=u()(t)).call.apply(e,[this].concat(s))),f()(m()(a),"renderChildren",function(){var e;e=a.props&&(Object.keys(a.props).length>1||!a.props.children)?_.a.createElement("div",a.props,a.props.children):a.props.children,a.context.store&&(e=_.a.createElement(O.a,{store:a.context.store},_.a.createElement(C.b,null,e))),v.a.render(e,a.container)}),a}return g()(t,e),i()(t,[{key:"componentDidMount",value:function(){this.container=document.createElement("div"),document.body.appendChild(this.container),this.renderChildren()}},{key:"componentDidUpdate",value:function(){this.renderChildren()}},{key:"componentWillUnmount",value:function(){this.container&&(v.a.unmountComponentAtNode(this.container),document.body.removeChild(this.container),delete this.container)}},{key:"render",value:function(){return null}}]),t}(_.a.Component);f()(I,"contextTypes",{store:k.a.object})},690:function(e,t,a){"use strict";var n=a(52),r=a.n(n),s=a(78),i=a.n(s),c=a(90),o=a.n(c),l=a(84),u=a.n(l),d=a(92),m=a.n(d),p=a(91),g=a.n(p),b=a(5),f=a.n(b),h=a(19),v=a.n(h),E=a(2),k=a.n(E),y=a(32),_=a.n(y),O=a(8),C=a(0),I=a(703),N=a(846),j=a(261),w=a.n(j),x=(a(701),function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=o()(this,(e=u()(t)).call.apply(e,[this].concat(s))),f()(m()(a),"state",{expanded:a.props.expanded}),f()(m()(a),"onClick",function(){a.props.children&&a.setState({expanded:!a.state.expanded}),a.props.onClick&&a.props.onClick(),a.state.expanded?a.props.onClose(a.props.cardKey):a.props.onOpen(a.props.cardKey)}),a}return g()(t,e),i()(t,[{key:"componentWillReceiveProps",value:function(e){e.expanded!==this.props.expanded&&this.setState({expanded:e.expanded})}},{key:"getClickAction",value:function(){if(!this.props.disabled)return this.onClick}},{key:"getActionButton",value:function(){return this.state.expanded&&this.props.actionButtonExpanded||this.props.actionButton}},{key:"renderActionButton",value:function(){var e=this.props.clickableHeader?null:this.getClickAction();if(this.props.actionButton)return k.a.createElement("div",{className:"foldable-card__action",role:"presentation",onClick:e},this.getActionButton());if(this.props.children){var t=this.props.screenReaderText||this.props.translate("More");return k.a.createElement("button",{disabled:this.props.disabled,type:"button",className:"foldable-card__action foldable-card__expand",onClick:e},k.a.createElement(I.a,null,t),k.a.createElement(w.a,{icon:this.props.icon,size:24}))}}},{key:"renderContent",value:function(){return k.a.createElement("div",{className:"foldable-card__content"},this.props.children)}},{key:"renderHeader",value:function(){var e=this.props.summary?k.a.createElement("span",{className:"foldable-card__summary"},this.props.summary," "):null,t=this.props.expandedSummary?k.a.createElement("span",{className:"foldable-card__summary-expanded"},this.props.expandedSummary," "):null,a=this.props.clickableHeader?this.getClickAction():null,n=_()("foldable-card__header",{"is-clickable":!!this.props.clickableHeader,"has-border":!!this.props.summary});return k.a.createElement("div",{className:n,role:"presentation",onClick:a},k.a.createElement("span",{className:"foldable-card__main"},this.props.header," "),k.a.createElement("span",{className:"foldable-card__secondary"},e,t,this.renderActionButton()))}},{key:"render",value:function(){var e=_()("foldable-card","card",this.props.className,{"is-disabled":!!this.props.disabled,"is-expanded":!!this.state.expanded,"has-expanded-summary":!!this.props.expandedSummary,"is-compact":!!this.props.compact});return k.a.createElement(N.a,{className:e},this.renderHeader(),this.state.expanded&&this.renderContent())}}]),t}(E.Component));f()(x,"displayName","FoldableCard"),f()(x,"propTypes",{actionButton:v.a.element,actionButtonExpanded:v.a.element,cardKey:v.a.string,compact:v.a.bool,disabled:v.a.bool,expandedSummary:v.a.oneOfType([v.a.string,v.a.element]),expanded:v.a.bool,icon:v.a.string,onClick:v.a.func,onClose:v.a.func,onOpen:v.a.func,screenReaderText:v.a.oneOfType([v.a.string,v.a.bool]),summary:v.a.oneOfType([v.a.string,v.a.element])}),f()(x,"defaultProps",{onOpen:C.noop,onClose:C.noop,cardKey:"",icon:"chevron-down",expanded:!1,screenReaderText:!1}),t.a=Object(O.localize)(x)},692:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(69),i=a.n(s),c=a(52),o=a.n(c),l=a(78),u=a.n(l),d=a(90),m=a.n(d),p=a(84),g=a.n(p),b=a(91),f=a.n(b),h=a(2),v=a.n(h),E=a(19),k=a.n(E),y=a(712),_=a(32),O=a.n(_),C=function(e){function t(e){var a;return o()(this,t),(a=m()(this,g()(t).call(this,e))).state={isFocused:!1},a}return f()(t,e),u()(t,[{key:"handleFocusOutside",value:function(){this.setState({isFocused:!1})}},{key:"handleOnClick",value:function(e,t){this.setState({isFocused:!0}),"function"===typeof t&&t(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.value,s=t.help,c=t.className,o=t.instanceId,l=t.onChange,u=t.onClick,d=t.prefix,m=t.suffix,p=t.type,g=t.disabled,b=i()(t,["label","value","help","className","instanceId","onChange","onClick","prefix","suffix","type","disabled"]),f=this.state.isFocused,h="inspector-text-control-with-affixes-".concat(o),E=[];s&&E.push("".concat(h,"__help")),d&&E.push("".concat(h,"__prefix")),m&&E.push("".concat(h,"__suffix"));var k=O()(c,{"with-value":""!==n,empty:""===n,active:f&&!g}),_=O()("text-control-with-affixes",{"text-control-with-prefix":d,"text-control-with-suffix":m,disabled:g});return v.a.createElement(y.a,{label:a,id:h,help:s,className:k,onClick:function(t){return e.handleOnClick(t,u)}},v.a.createElement("div",{className:_},d&&v.a.createElement("span",{id:"".concat(h,"__prefix"),className:"text-control-with-affixes__prefix"},d),v.a.createElement("input",r()({className:"components-text-control__input",type:p,id:h,value:n,onChange:function(e){return l(e.target.value)},"aria-describedby":E.join(" "),disabled:g,onFocus:function(){return e.setState({isFocused:!0})}},b)),m&&v.a.createElement("span",{id:"".concat(h,"__suffix"),className:"text-control-with-affixes__suffix"},m)))}}]),t}(h.Component);C.defaultProps={type:"text"},C.propTypes={label:k.a.string,help:k.a.string,type:k.a.string,value:k.a.oneOfType([k.a.string,k.a.number]).isRequired,className:k.a.string,onChange:k.a.func.isRequired,prefix:k.a.node,suffix:k.a.node,disabled:k.a.bool},t.a=C},693:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(19),i=a.n(s),c=a(672),o=a(679),l=a(676),u=a(674),d=a(675),m=function(e){var t=e.id,a=e.valuesMap,s=e.title,i=e.description,m=e.value,p=e.updateValue,g=e.error,b=e.disabled,f=e.className,h=Object(n.useCallback)(function(e){return p(e.target.value,e)},[p]);return r.a.createElement(c.a,{className:f},r.a.createElement(l.a,null,s),r.a.createElement(o.a,{id:t,name:t,value:m,onChange:h,disabled:Boolean(b),isError:Boolean(g)},Object.keys(a).map(function(e){return r.a.createElement("option",{key:e,value:e},a[e])})),g&&"string"===typeof g&&r.a.createElement(u.a,{text:g}),!g&&i&&r.a.createElement(d.a,null,i))};m.propTypes={id:i.a.string.isRequired,valuesMap:i.a.object.isRequired,title:i.a.node,description:i.a.string,value:i.a.string.isRequired,updateValue:i.a.func.isRequired,error:i.a.oneOfType([i.a.string,i.a.bool]),disabled:i.a.bool,className:i.a.string},t.a=m},700:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(2),i=a.n(s),c=a(19),o=a.n(c),l=a(32),u=a.n(l),d=a(261),m=a.n(d),p=a(0),g=function(e){var t=e.className,a=e.disabled,n=e.checked,s=e.partialChecked,c=Object(p.omit)(e,["className","partialChecked"]);return i.a.createElement("span",{className:u()(t,"form-checkbox",{"is-disabled":a})},i.a.createElement("input",r()({},c,{type:"checkbox"})),n&&i.a.createElement(m.a,{icon:"checkmark",size:14}),!n&&s&&i.a.createElement(m.a,{icon:"minus-small",size:16}))};g.propTypes={checked:o.a.bool.isRequired,partialChecked:o.a.bool,onChange:o.a.func.isRequired,className:o.a.string},t.a=g},701:function(e,t,a){},711:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(19),i=a.n(s),c=a(733),o=a.n(c),l=a(734),u=a.n(l),d=a(735),m=a.n(d),p={ups:o.a,usps:u.a,dhlexpress:m.a,dhlecommerce:m.a,dhlecommerceasia:m.a},g=function(e){var t=e.carrier,a=e.size;if(!t||!p[t.toLowerCase()])return r.a.createElement("span",null);var n="".concat(function(e){switch(e){case"small":return 24;case"big":return 40;case"medium":default:return 30}}(a),"px");return r.a.createElement("div",{style:{width:n},className:"carrier-icon"},r.a.createElement("img",{src:p[t.toLowerCase()],alt:t,className:"carrier-icon__logo"}))};g.propTypes={carrier:i.a.string.isRequired,size:i.a.number},t.a=g},714:function(e,t,a){"use strict";var n=a(260),r=a.n(n),s=a(69),i=a.n(s),c=a(2),o=a.n(c),l=a(32),u=a.n(l);t.a=function(e){var t=e.className,a=i()(e,["className"]);return o.a.createElement("input",r()({},a,{type:"radio",className:u()(t,"form-radio")}))}},718:function(e,t,a){"use strict";var n=a(2),r=a.n(n),s=a(19),i=a.n(s),c=a(8),o=a(0),l=a(261),u=a.n(l),d=a(32),m=a.n(d),p=function(e){var t=e.isPlaceholder,a=e.data,n=e.dimensionUnit,s=e.prefixActions,i=(e.hasError,e.children),c=e.translate;if(t)return r.a.createElement("div",{className:"packages__packages-row placeholder"},r.a.createElement("div",{className:"packages__packages-row-icon"},r.a.createElement(u.a,{icon:"product",size:18})),r.a.createElement("div",{className:"packages__packages-row-details"},r.a.createElement("div",{className:"packages__packages-row-details-name"},r.a.createElement("span",null))),r.a.createElement("div",{className:"packages__packages-row-dimensions"},r.a.createElement("span",null)),r.a.createElement("div",{className:"packages__packages-row-actions"},i));var l,d=function(){return r.a.createElement("div",{className:"packages__packages-row-actions"},i)};return r.a.createElement("div",{className:m()("packages__packages-row",{prefixed:s})},s?d():null,r.a.createElement("div",{className:"packages__packages-row-icon"},function(e){var t=e?"mail":"product";return r.a.createElement(u.a,{icon:t,size:18})}(a.is_letter)),r.a.createElement("div",{className:"packages__packages-row-details"},r.a.createElement("div",{className:"packages__packages-row-details-name"},(l=a.name)&&""!==Object(o.trim)(l)?l:c("Untitled"))),r.a.createElement("div",{className:"packages__packages-row-dimensions"},a.inner_dimensions," ",n),s?null:d())};p.propTypes={siteId:i.a.number.isRequired,isPlaceholder:i.a.bool,data:i.a.shape({name:i.a.string,is_letter:i.a.bool,inner_dimensions:i.a.string}).isRequired,prefixActions:i.a.bool,dimensionUnit:i.a.string},t.a=Object(c.localize)(p)},719:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(6);function r(e,t,a){return{type:n.L,successAction:e,failureAction:t,onlyPackages:a||!1}}},733:function(e,t,a){e.exports=a.p+"images/881843a7135b8abd4794bd2d33dc8b3c.png"},734:function(e,t,a){e.exports=a.p+"images/41c6838923ebde874f7fc71db18dcae5.png"},735:function(e,t,a){e.exports=a.p+"images/224d57e46d3ace2d89e5c790bd828d32.png"},736:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(2),i=a.n(s),c=a(19),o=a.n(c),l=a(61),u=a(8),d=a(0),m=a(261),p=a.n(m),g=a(5),b=a.n(g),f=a(759),h=a(32),v=a.n(h),E=a(52),k=a.n(E),y=a(78),_=a.n(y),O=a(90),C=a.n(O),I=a(84),N=a.n(I),j=a(91),w=a.n(j),x=a(36);function R(e){return Object(d.get)(e,["currentUser","id"])}function S(e){var t=R(e);return t?function(e,t){return e.users.items[t]}(e,t):null}var q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(a){var n=S(a);return Object(d.get)(n,e,t)}};q("localeSlug"),q("localeVariant"),q("user_ip_country_code");q("date"),q("username"),q("email");q("email_verified",!1);var P=a(4),T=a(128);function z(e){var t=Object(P.a)(e);return t||1!==function(e){var t=S(e);return t?t.site_count||0:null}(e)||(t=function(e){var t=S(e);return Object(d.get)(t,"primary_blog",null)}(e)),Object(T.a)(e,t)}var D=a(39),A=function(e,t){return Object(d.get)(e,["extensions","woocommerce","sites",t,"settings","products"])},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(P.a)(e);return Object(d.isArray)(A(e,t))},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(P.a)(e);return D.b===A(e,t)};function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(P.a)(e),a=A(e,t);return Object(d.find)(a,function(e){return"woocommerce_dimension_unit"===e.id})||{}}var U=a(93),H=a(111),B=a(6),F=function(e){return function(t,a){if(!M(a(),e)&&!V(a(),e)){var n={type:B.N,siteId:e};return t(n),Object(U.a)(e).get("settings/products").then(function(a){t({type:B.O,siteId:e,data:a})}).catch(function(a){t(Object(H.a)(e,n,a))})}}},W=a(692),Z=function(e){function t(){return k()(this,t),C()(this,N()(t).apply(this,arguments))}return w()(t,e),_()(t,[{key:"componentDidMount",value:function(){var e=this.props.siteId;e&&this.props.fetchSettingsProducts(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.siteId!==this.props.siteId&&this.props.fetchSettingsProducts(e.siteId)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.noWrap,n=e.dimensions,r=e.onChange,s=e.translate,c=e.dimensionsUnit,o=v()("form-dimensions-input",t,{"no-wrap":a});return i.a.createElement("div",{className:o},i.a.createElement(f.a,{name:"length",placeholder:s("L",{comment:"Length placeholder for dimensions input"}),type:"number",value:n&&n.length||"",onChange:function(e){return r(e,"length")},className:"form-dimensions-input__length"}),i.a.createElement(f.a,{name:"width",placeholder:s("W",{comment:"Width placeholder for dimensions input"}),type:"number",value:n&&n.width||"",onChange:function(e){return r(e,"width")},className:"form-dimensions-input__width"}),i.a.createElement(W.a,{name:"height",placeholder:s("H",{comment:"Height placeholder for dimensions input"}),suffix:c,type:"number",value:n&&n.height||"",onChange:function(e){return r(e,"height")},className:"form-dimensions-input__height"}))}}]),t}(s.Component);b()(Z,"propTypes",{className:o.a.string,dimensions:o.a.shape({width:o.a.string,height:o.a.string,length:o.a.string}),dimensionsUnit:o.a.string,onChange:o.a.func.isRequired,noWrap:o.a.bool}),b()(Z,"defaultProps",{value:"",className:"",onChange:d.noop,noWrap:!1});var Y=Object(l.b)(function(e,t){var a=t.dimensionsUnit,n=z(e);if(!a){var r=n&&L(e,n.ID);a=r&&r.value||"in"}return{siteId:n&&n.ID,dimensionsUnit:a}},function(e){return Object(x.b)({fetchSettingsProducts:F},e)})(Object(u.localize)(Z)),G=a(672),K=a(673),Q=a(679),J=a(674),$=/^\.\d+$/,X=/^\d+\.$/,ee=function(e){return e=Object(d.trim)(e),$.test(e)?e="0"+e:X.test(e)&&(e=e.slice(0,e.length-1)),e},te=/^\s*(\S+)\s*x\s*(\S+)\s*x\s*(\S+)\s*$/,ae=/^\s*(\S+)?\s*x\s*(\S+)?\s*x\s*(\S+)?\s*$/,ne=function(e){return isNaN(e)?"":0>e?"":e},re=function(e){var t="",a="",n="",r=ae.exec(e);return r&&4===r.length&&(t=ne(r[1]),a=ne(r[2]),n=ne(r[3])),{length:t,width:a,height:n}},se=function(e){return Object(d.trim)(e)},ie=ee,ce=function(e){var t=te.exec(e);return t?[t[1],t[2],t[3]].map(ee).join(" x "):e},oe=re,le=function(e){var t=re(e),a=t.length,n=t.width,r=t.height;return 0<a&&0<n&&0<r},ue=function(e){var t=e.siteId,a=e.form,n=e.setModalErrors,r=e.updatePackagesField,s=e.translate,c=a.mode,o=a.modalErrors,l=a.dimensionUnit,u=a.weightUnit,m=a.packageData,p=m.name,g=m.inner_dimensions,h=m.box_weight,E=m.is_letter,k=function(e,a){n(t,Object(d.omit)(o,e)),r(t,b()({},e,a))},y=function(e,t){k(t,e)},_=function(e,t){var a=t||s("Invalid value."),n=""===Object(d.trim)(m[e])?s("This field is required."):a;return o[e]?i.a.createElement(J.a,{text:n}):null},O=function(e){r(t,{is_letter:"envelope"===e.target.value})};return i.a.createElement("div",{className:"packages__properties-group"},"add-custom"===c?i.a.createElement(G.a,null,i.a.createElement(K.a,{htmlFor:"package_type"},s("Type of package")),i.a.createElement(Q.a,{id:"package_type",onChange:O,value:E?"envelope":"box"},i.a.createElement("option",{value:"box"},s("Box")),i.a.createElement("option",{value:"envelope"},s("Envelope")))):null,i.a.createElement(G.a,null,i.a.createElement(K.a,{htmlFor:"name"},s("Package name")),i.a.createElement(f.a,{id:"name",name:"name",placeholder:s("Unique package name"),value:p||"",onChange:function(e){return y(e,"name")},className:o.name?"is-error":""}),_("name",s("This field must be unique"))),i.a.createElement(G.a,{className:"packages__add-package-weight-group"},i.a.createElement("div",{className:"packages__add-package-weight"},i.a.createElement(K.a,null,s("Dimensions (L x W x H)")),function(e,t,a,n){var r=oe(t),s=r.length,c=r.width,o=r.height;return i.a.createElement(Y,{dimensionsUnit:a,dimensions:{width:c,height:o,length:s},onChange:function(t,a){n(e,["length"===a?t:s,"width"===a?t:c,"height"===a?t:o].join(" x "))}})}("inner_dimensions",g,l,k),_("inner_dimensions")),i.a.createElement("div",{className:"packages__add-package-weight"},i.a.createElement(K.a,{htmlFor:"box_weight"},s("Weight of empty package")),i.a.createElement(W.a,{id:"box_weight",name:"box_weight",placeholder:s("0.0"),value:h||"",onChange:function(e){return y(e,"box_weight")},className:v()("form-dimensions-input__box_weight",{"is-error":o.box_weight}),type:"number",suffix:u}),_("box_weight"))))};ue.propTypes={siteId:o.a.number.isRequired,form:o.a.object.isRequired,updatePackagesField:o.a.func.isRequired,packageData:o.a.shape({name:o.a.string.isRequired,inner_dimensions:o.a.string.isRequired,box_weight:o.a.number.isRequired,is_user_defined:o.a.bool.isRequired,is_letter:o.a.bool.isRequired}),setModalErrors:o.a.func.isRequired};var de=Object(u.localize)(ue),me=a(89),pe=a.n(me),ge=Object(d.memoize)(function(e){return pe()(e,{greedy:!0})}),be=function(e){return e&&""!==Object(d.trim)(e)?e:null},fe=function(e,t){return e=be(e),Object(d.some)(t,function(t){return t===e})?null:e},he=/^\d+(\.\d+)?$/,ve=function(e){return he.test(e)?Number.parseFloat(e):null},Ee=function(e,t,a){var n,r=ge(a);return r(function(e,t){var a=ve(e.box_weight),n=ve(e.max_weight);a&&n&&n<=a&&(n=null);var r={name:fe(e.name,t),inner_dimensions:e.inner_dimensions,outer_dimensions:be(e.outer_dimensions),box_weight:a,max_weight:n};return Object(d.omitBy)(r,function(e){return null===e})}(e,t)),n=r.errors,Object(d.reduce)(n,function(e,t){if(t.field){var a,n=t.field.replace("data.","");Object.assign(e,(a={},b()(a,n,!0),b()(a,"any",!0),a))}return e},{})},ke=a(680),ye=a(677),_e=a(683),Oe=a(848),Ce=function(e){var t=e.className,a=e.disabled,n=e.id,r=e.onToggle,s=e.readOnly,c=e.selectedElements,o=e.totalElements,l=c&&c===o,u=c&&c<o,d=v()("bulk-select__box",{"is-checked":l}),m=v()("bulk-select__some-checked-icon",{"is-disabled":a}),g=v()("bulk-select",t);return i.a.createElement("span",{className:g},i.a.createElement("span",{className:"bulk-select__container"},i.a.createElement("input",{id:n,type:"checkbox",className:d,onChange:function(e){s||r(!(u||l),e)},checked:l,disabled:a}),u?i.a.createElement(p.a,{className:m,icon:"minus-small",size:18}):null))};Ce.propTypes={totalElements:o.a.number.isRequired,selectedElements:o.a.number.isRequired,onToggle:o.a.func,readOnly:o.a.bool,className:o.a.string,disabled:o.a.bool};var Ie=Ce,Ne=a(690),je=a(718),we=a(70),xe=function(e){var t=e.siteId,a=e.form,n=e.toggleAll,r=e.togglePackage,s=e.currentlyEditingPredefinedPackages,c=e.translate,o=a.dimensionUnit,l=function(e){var a="group-".concat(e.serviceId,"-").concat(e.groupId);return i.a.createElement("div",{className:"packages__group-header"},i.a.createElement("label",{htmlFor:a,onClick:function(e){return e.stopPropagation()}},i.a.createElement(Ie,{id:a,totalElements:e.total,selectedElements:e.selected,onToggle:function(a,r){r.stopPropagation(),n(t,e.serviceId,e.groupId,r.target.checked)},className:"packages__group-header-checkbox"}),e.title))};return i.a.createElement("div",null,function(){var e=[];return Object(d.forEach)(s,function(a,n){var s,u,d=(s=a.selected,u=a.total,s===u?c("All packages selected"):c("%(selectedCount)d package selected","%(selectedCount)d packages selected",{count:s,args:{selectedCount:s}}));e.push(i.a.createElement(Ne.a,{className:"packages__predefined-packages",key:n,header:l(a),summary:d,expandedSummary:d,clickableHeader:!0,expanded:!1,screenReaderText:c("Expand Services"),icon:"chevron-down"},function(e){return e.packages.map(function(e,a){return i.a.createElement(je.a,{key:a,siteId:t,data:e,dimensionUnit:o,prefixActions:!0},i.a.createElement(Oe.a,{className:"form-checkbox packages__packages-row-actions",checked:e.selected,onChange:function(){return r(t,e.serviceId,e.id)}}))})}(a)))}),e}())};xe.propTypes={siteId:o.a.number.isRequired,toggleAll:o.a.func.isRequired,togglePackage:o.a.func.isRequired,form:o.a.shape({dimensionUnit:o.a.string}).isRequired};var Re=Object(l.b)(function(e){return{currentlyEditingPredefinedPackages:Object(we.c)(e)}})(Object(u.localize)(xe)),Se=a(92),qe=a.n(Se),Pe=function(e){function t(){var e,a;k()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return a=C()(this,(e=N()(t)).call.apply(e,[this].concat(r))),b()(qe()(a),"handleKeyEvent",function(e){switch(e.keyCode){case 13:case 32:e.preventDefault(),document.activeElement.click()}}),a}return w()(t,e),_()(t,[{key:"render",value:function(){var e=v()({"segmented-control__item":!0,"is-selected":this.props.selected}),t=v()("segmented-control__link",b()({},"item-index-".concat(this.props.index),null!=this.props.index));return i.a.createElement("li",{className:e},i.a.createElement("a",{href:this.props.path,className:t,onClick:this.props.onClick,title:this.props.title,"data-e2e-value":this.props.value,role:"radio",tabIndex:0,"aria-checked":this.props.selected,onKeyDown:this.handleKeyEvent},i.a.createElement("span",{className:"segmented-control__text"},this.props.children)))}}]),t}(i.a.Component);b()(Pe,"propTypes",{children:o.a.node.isRequired,path:o.a.string,selected:o.a.bool,title:o.a.string,value:o.a.string,onClick:o.a.func,index:o.a.number}),b()(Pe,"defaultProps",{selected:!1});var Te=Pe,ze=function(e){function t(){var e,a;k()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return a=C()(this,(e=N()(t)).call.apply(e,[this].concat(r))),b()(qe()(a),"state",{selected:a.props.initialSelected||a.props.options[0].value}),a}return w()(t,e),_()(t,[{key:"renderOptions",value:function(){var e=this;return this.props.options.map(function(t,a){return i.a.createElement(Te,{index:a,key:a,onClick:function(){e.setState({selected:t.value}),e.props.onSelect&&e.props.onSelect(t)},path:t.path,selected:e.state.selected===t.value,value:t.value},t.label)})}},{key:"render",value:function(){var e={"is-compact":this.props.compact,"is-primary":this.props.primary};return i.a.createElement("ul",{className:v()("segmented-control",e,this.props.className),style:this.props.style,role:"radiogroup"},this.renderOptions())}}]),t}(i.a.Component);b()(ze,"propTypes",{className:o.a.string,compact:o.a.bool,initialSelected:o.a.string,onSelect:o.a.func,options:o.a.arrayOf(o.a.shape({value:o.a.string.isRequired,label:o.a.string.isRequired,path:o.a.string})).isRequired,style:o.a.object});var De=a(719),Ae=a(24),Me=a(262),Ve=function(e){var t,a=e.siteId,n=e.form,r=e.predefinedPackagesSummary,s=e.setModalErrors,c=e.savePackage,o=e.savePredefinedPackages,l=e.dismissModal,u=e.removePackage,m=e.setAddMode,g=e.updatePackagesField,b=e.translate,f=n.showModal,h=n.mode,v=n.packages,E=n.packageSchema,k=n.predefinedSchema,y=n.packageData,_=y.index,O=v.custom,C="edit"===h,I="add-custom"===h,N="add-predefined"===h,j=function(){var t={duration:5e3};e.createWcsShippingSaveActionList(function(){return"function"===typeof e.onSaveSuccess&&"name"in y&&e.onSaveSuccess(y.name),e.successNotice(b("Your shipping packages have been saved."),t)},function(){return e.errorNotice(b("Unable to save your shipping packages. Please try again."),t)},!0)},w=function(){l(a)},x=b(C?"Edit package":"Add a package"),R=I||N,S=I||C,q=N;t=I||N&&0===r.removed?b("Add package","Add packages",{count:I?1:r.added}):b("Done");var P=[i.a.createElement(_e.a,{onClick:function(){if(N)return o(a),void(e.persistOnSave&&j());var t="number"===typeof y.index?O[y.index].name:null,n=Object(d.concat)(Object(d.difference)(O.map(function(e){return e.name}),[t]),Object(d.flatten)(Object(d.map)(k,function(e){return Object(d.map)(e,function(e){return e.definitions})})),["individual"]),r=Object.assign({},y,{name:se(y.name),inner_dimensions:ce(y.inner_dimensions),outer_dimensions:ce(y.outer_dimensions),box_weight:ie(y.box_weight),max_weight:0}),i=Ee(r,n,E);if(le(r.inner_dimensions)||(i.any=!0,i.inner_dimensions=!0),i.any)return g(a,r),void s(a,i);c(a,r),e.persistOnSave&&j()}},t),i.a.createElement(_e.a,{onClick:w,isPrimary:!1},b("Cancel"))];return C&&P.unshift({action:"delete",label:i.a.createElement("span",null,b("{{icon/}} Delete this package",{components:{icon:i.a.createElement(p.a,{icon:"trash"})}})),onClick:function(){return u(a,_)},additionalClassNames:"packages__delete is-scary is-borderless"}),i.a.createElement(ke.a,{isVisible:f,additionalClassNames:"packages__add-edit-dialog woocommerce wcc-root",onClose:w,buttons:P},i.a.createElement(ye.a,{className:"packages__add-edit-title"},x),R&&i.a.createElement(ze,{primary:!0,className:"packages__mode-select",initialSelected:h,onSelect:function(e){m(a,e.value)},options:[{value:"add-custom",label:"Custom package"},{value:"add-predefined",label:"Service package"}]}),S&&i.a.createElement(de,e),q&&i.a.createElement(Re,e))};Ve.propTypes={siteId:o.a.number.isRequired,dismissModal:o.a.func.isRequired,form:o.a.object.isRequired,updatePackagesField:o.a.func.isRequired,savePackage:o.a.func.isRequired,packageData:o.a.shape({index:o.a.number.isRequired}),setModalErrors:o.a.func.isRequired,removePackage:o.a.func.isRequired,setAddMode:o.a.func.isRequired};t.a=Object(l.b)(function(e){return{predefinedPackagesSummary:Object(we.f)(e)}},function(e){return Object(x.b)(r()({createWcsShippingSaveActionList:De.a,errorNotice:Ae.a,successNotice:Ae.d},Me),e)})(Object(u.localize)(Ve))},833:function(e,t,a){},834:function(e,t,a){},842:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),s=a(19),i=a.n(s),c=a(61),o=a(36),l=a(8),u=a.n(l),d=a(670),m=a(1),p=a.n(m),g=a(260),b=a.n(g),f=a(0),h=a(5),v=a.n(h),E=a(684),k=a(678),y=a(683),_=a(693),O=a(54),C=a(32),I=a.n(C),N=a(673),j=a(714),w=function(e){var t=e.values,a=e.originalValues,n=e.countryNames,s=e.stateNames,i=e.expandStateName,c=void 0!==i&&i;a=a||{};var o=t.state,l=t.country,u="";o&&(u=(c&&s||{})[o]||o);var d=n[l]||l,m=function(e){var n=t[e];if(!n)return"";var s=a[e],i=s&&s.toLowerCase()!==n.toLowerCase(),c=n;switch(e){case"state":c=u;break;case"country":c=d}return r.a.createElement("span",{key:e,className:i?"highlight":""},c)},p=""!==m("company")?r.a.createElement("p",null,m("company")):"",g=m("state"),b=Object(f.filter)([m("city"),g?", ":"",g," ",m("postcode")]);return r.a.createElement("div",{className:"address-step__summary"},r.a.createElement("p",null,m("name")),p,r.a.createElement("p",null,m("address")," ",m("address_2")),r.a.createElement("p",null,b),r.a.createElement("p",null,m("country")))},x=function(e){return r.a.createElement(N.a,{className:I()("address-step__suggestion",{"is-selected":e.checked})},r.a.createElement(j.a,Object(f.omit)(e,"children")),e.children)},R=function(e){var t=e.values,a=e.normalized,n=e.selectNormalized,s=e.selectNormalizedAddress,i=e.editAddress,c=e.confirmAddressSuggestion,o=e.countryNames,l=e.translate,u=function(e){return function(){return s(e)}};return r.a.createElement("div",null,r.a.createElement(k.a,{className:"error-notice",status:"is-info",showDismiss:!1},l("We have slightly modified the address entered. If correct, please use the suggested address to ensure accurate delivery.")),r.a.createElement("div",{className:"address-step__suggestion-container"},r.a.createElement(x,{checked:!n,onChange:u(!1)},r.a.createElement("span",{className:"address-step__suggestion-title"},l("Address entered")),r.a.createElement(w,{values:t,countryNames:o})),r.a.createElement(x,{checked:n,onChange:u(!0)},r.a.createElement("span",{className:"address-step__suggestion-title"},l("Suggested address")),r.a.createElement(w,{values:a,originalValues:t,countryNames:o}))),r.a.createElement("div",{className:"address-step__actions"},r.a.createElement(y.a,{type:"button",onClick:c},l("Use selected address")),r.a.createElement(y.a,{type:"button",onClick:i,borderless:!0},l("Edit address"))))};R.propTypes={values:i.a.object.isRequired,normalized:i.a.object,selectNormalized:i.a.bool.isRequired,selectNormalizedAddress:i.a.func.isRequired,confirmAddressSuggestion:i.a.func.isRequired,editAddress:i.a.func.isRequired,countryNames:i.a.object.isRequired};var S=Object(l.localize)(R),q=a(827),P=a.n(q),T=a(836),z=a(60),D=function(e){var t=e.values,a=e.countryNames,n=e.editUnverifiableAddress,s=e.confirmAddressSuggestion,i=e.translate,c=e.fieldErrors,o=z.a.includes(t.country)?P.a.format({scheme:"https",hostname:"tools.usps.com",pathname:"/zip-code-lookup.htm",query:{mode:"byAddress",companyName:t.company,address1:t.address,address2:t.address_2,city:t.city,state:"US"===t.country?t.state:t.country,zip:t.postcode}}):null,l=Object(f.invokeMap)([t.address+" "+t.address_2,t.city,t.state+" "+t.postcode],"trim").join(", "),u={scheme:"https",hostname:"www.google.com",pathname:"/maps/place/"+encodeURIComponent(l)},d=P.a.format(u);return r.a.createElement("div",null,function(){var e=function(){if(c.general)return c.general;for(var e in c)return c[e];return!1}();return e?r.a.createElement(k.a,{status:"is-error",showDismiss:!1},i("We were unable to automatically verify the address \u2014 %(error)s.",{args:{error:e}})):r.a.createElement(k.a,{status:"is-error",showDismiss:!1},i("We were unable to automatically verify the address."))}(),r.a.createElement("div",{className:"address-step__unverifiable-container"},r.a.createElement("div",{className:"address-step__unverifiable-info"},r.a.createElement("span",{className:"address-step__unverifiable-title"},i("Address entered")),r.a.createElement(w,{values:t,countryNames:a})),r.a.createElement("div",{className:"address-step__unverifiable-info"},r.a.createElement("p",null,i("Automatic verification failed for this address. It may still be a valid address \u2014 use the tools below to manually verify.")),o&&r.a.createElement(T.a,{href:o},i("Verify with USPS")),r.a.createElement(T.a,{href:d},i("View on Google Maps")))),r.a.createElement("div",{className:"address-step__actions"},r.a.createElement(y.a,{type:"button",onClick:n},i("Edit address")),r.a.createElement(y.a,{type:"button",onClick:s,borderless:!0},i("Use address as entered"))))};D.propTypes={values:i.a.object.isRequired,confirmAddressSuggestion:i.a.func.isRequired,editUnverifiableAddress:i.a.func.isRequired,countryNames:i.a.object.isRequired};var A=Object(l.localize)(D),M=a(152),V=a(127),L=a(11),U=a(48),H=function(e){var t=e.siteId,a=e.orderId,n=e.values,s=e.isNormalized,i=e.normalized,c=e.selectNormalized,o=e.normalizationInProgress,l=e.allowChangeCountry,u=e.group,d=e.countryNames,m=e.stateNames,g=e.errors,b=e.isUsable,h=e.translate,v=Object(f.isObject)(g)?g:{},C=function(){return e.confirmAddressSuggestion(a,t,u)};if(s&&!v.phone){if(i&&!Object(f.isEqual)(i,n)){return r.a.createElement(S,{values:n,normalized:i,selectNormalized:c,selectNormalizedAddress:function(n){return e.selectNormalizedAddress(a,t,u,n)},confirmAddressSuggestion:C,editAddress:function(){return e.editAddress(a,t,u)},countryNames:d})}if(0<Object(f.size)(v)){return r.a.createElement(A,{values:n,confirmAddressSuggestion:C,editUnverifiableAddress:function(){return e.editUnverifiableAddress(a,t,u)},countryNames:d,fieldErrors:v})}}var I=v.general&&1===Object(f.size)(v),N=function(e){return u+"_"+e},j=function(e){return n[e]?Object(M.a)(n[e]):""},w=function(n){return function(r){return e.updateAddressValue(a,t,u,n,r)}};return r.a.createElement("div",null,r.a.createElement(E.a,{id:N("name"),title:h("Name"),value:j("name"),updateValue:w("name"),error:v.name}),r.a.createElement("div",{className:"address-step__company-phone"},r.a.createElement(E.a,{id:N("company"),title:h("Company"),value:j("company"),updateValue:w("company"),className:"address-step__company",error:v.company}),r.a.createElement(E.a,{id:N("phone"),title:h("Phone"),value:j("phone"),updateValue:w("phone"),className:"address-step__phone",error:v.phone})),I&&r.a.createElement(k.a,{status:"is-error",showDismiss:!1},h("%(message)s. Please modify the address and try again.",{args:{message:v.general}})),r.a.createElement(E.a,{id:N("address"),title:h("Address"),value:j("address"),updateValue:w("address"),className:"address-step__address-1",error:v.address||I}),r.a.createElement(E.a,{id:N("address_2"),value:j("address_2"),updateValue:w("address_2"),error:v.address_2||I}),r.a.createElement("div",{className:"address-step__city-state-postal-code"},r.a.createElement(E.a,{id:N("city"),title:h("City"),value:j("city"),updateValue:w("city"),className:"address-step__city",error:v.city||I}),m?r.a.createElement(_.a,{id:N("state"),title:h("State"),value:j("state"),valuesMap:p()({"":e.translate("Select one\u2026")},m),updateValue:w("state"),className:"address-step__state",error:v.state||I}):r.a.createElement(E.a,{id:N("state"),title:h("State"),value:j("state"),updateValue:w("state"),className:"address-step__state",error:v.state||I}),r.a.createElement(E.a,{id:N("postcode"),title:h("ZIP/Postal code"),value:j("postcode"),updateValue:w("postcode"),className:"address-step__postal-code",error:v.postcode||I})),r.a.createElement(_.a,{id:N("country"),title:h("Country"),value:j("country"),disabled:!l,valuesMap:d,updateValue:w("country"),error:v.country||I}),r.a.createElement("div",{className:"address-step__actions"},r.a.createElement(y.a,{type:"button",disabled:Object(O.a)(g)||o,onClick:function(){return e.submitAddressForNormalization(a,t,u)}},h("Verify address")),r.a.createElement(y.a,{type:"button",disabled:!b,onClick:C,borderless:!0},h("Use address as entered"))))};H.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,values:i.a.object.isRequired,isNormalized:i.a.bool.isRequired,normalized:i.a.object,selectNormalized:i.a.bool.isRequired,allowChangeCountry:i.a.bool.isRequired,errors:i.a.oneOfType([i.a.object,i.a.bool]).isRequired,group:i.a.string.isRequired,countryNames:i.a.object.isRequired,stateNames:i.a.object};var B=Object(c.b)(function(e,t){var a=t.group,n=t.orderId,r=t.siteId,s=Object(L.x)(e,n,r),i=Object(L.k)(e,n,r).form[a],c="origin"===a?Object(L.i)(e,r):Object(L.c)(e,r);return c[i.values.country]||(c=p()(v()({},i.values.country,Object(U.g)(e,i.values.country,r)),c)),p()({},i,{errors:s&&Object(L.f)(e,n,r)[a],isUsable:s&&Object(L.r)(e,n,a,r),countryNames:c,stateNames:Object(L.m)(e,i.values.country,r)})},function(e){return Object(o.b)({selectNormalizedAddress:V.C,confirmAddressSuggestion:V.g,editAddress:V.m,editUnverifiableAddress:V.n,updateAddressValue:V.X,submitAddressForNormalization:V.V},e)})(Object(l.localize)(H)),F=a(261),W=a.n(F),Z=a(52),Y=a.n(Z),G=a(78),K=a.n(G),Q=a(90),J=a.n(Q),$=a(84),X=a.n($),ee=a(91),te=a.n(ee),ae=(a(833),function(e){function t(){return Y()(this,t),J()(this,X()(t).apply(this,arguments))}return te()(t,e),K()(t,[{key:"render",value:function(){var e=I()("spinner",this.props.className),t={width:this.props.size,height:this.props.size,fontSize:this.props.size};return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"spinner__outer",style:t},r.a.createElement("div",{className:"spinner__inner"})))}}]),t}(n.PureComponent));v()(ae,"propTypes",{className:i.a.string,size:i.a.number}),v()(ae,"defaultProps",{size:20});var ne=a(690),re=function(e){var t=e.isSuccess,a=e.isWarning,n=e.isError,s=e.isProgress,i=e.title,c=e.summary,o=e.children,l=e.expanded,u=e.toggleStep,d=e.translate,m=I()({"is-success":t,"is-warning":a,"is-error":n});c=r.a.createElement("span",{className:m},r.a.createElement("span",null,c),r.a.createElement("div",{className:"label-purchase-modal__step-status"},s?r.a.createElement(ae,{size:18}):r.a.createElement(W.a,{icon:t?"checkmark-circle":a?"notice-outline":n?"notice-outline":"",className:m,size:18})));var p=r.a.createElement("div",null,r.a.createElement("div",{className:"label-purchase-modal__step-title"},i));return r.a.createElement(ne.a,{header:p,summary:c,expandedSummary:c,clickableHeader:!0,compact:!0,screenReaderText:d("Expand"),expanded:l,onClick:u},o)};re.propTypes={isSuccess:i.a.bool,isWarning:i.a.bool,isError:i.a.bool,isProgress:i.a.bool,title:i.a.string.isRequired,summary:i.a.string,expanded:i.a.bool};var se=Object(l.localize)(re),ie=a(55),ce=function(e,t,a,n,r,s){var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=e.isNormalized,o=e.normalizationInProgress,l=e.normalized;if(o)return r("Validating address\u2026");if(Object(O.a)(n)||c&&!l)return n&&n.general||r("Invalid address");if(!c)return r("You've edited the address, please revalidate it for accurate rates");var u=Object(ie.a)(e);if(!le(u))return r("One of the address data has non-roman character(s) that might not be printed properly!");var d=Object(ie.a)(e),m=d.city,p=d.postcode,g=d.state,b=d.country,f=m+", ";g&&(f+=(i?Object(U.i)(t,b,g,a):g)+"\xa0 ");return f+="US"===b?p.split("-")[0]:p,s&&(f+=", "+Object(U.g)(t,b,a)),f},oe=function(e){var t=e.normalizationInProgress,a=e.errors,n=e.isNormalized,r=e.values,s=e.normalized;return t?{isProgress:!0}:Object(O.a)(a)||n&&!s||!n?{isError:!0}:le(r)?n?Object(f.isEqual)(r,s)?{isSuccess:!0}:{isWarning:!0}:{}:{isWarning:!0}},le=function(e){for(var t in e)if(a=e[t],/[^\u0000-\u007f]/.test(a))return!1;var a;return!0},ue=function(e){return r.a.createElement(se,b()({title:e.title,summary:e.summary,expanded:e.expanded,toggleStep:function(){return e.toggleStep(e.orderId,e.siteId,e.type)}},e.normalizationStatus),r.a.createElement(B,{group:e.type,siteId:e.siteId,orderId:e.orderId}))};ue.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,type:i.a.string.isRequired,title:i.a.string.isRequired,summary:i.a.string.isRequired,expanded:i.a.bool,normalizationStatus:i.a.object.isRequired,toggleStep:i.a.func.isRequired};var de=Object(l.localize)(Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=t.type,s=t.translate,i=Object(L.x)(e,a,n),c=Object(L.k)(e,a,n),o=c.form[r],l=i&&Object(L.f)(e,a,n)[r],u="destination"===r&&c.form.origin.values.country!==o.values.country;return{errors:l,form:o,expanded:o.expanded,normalizationStatus:oe(p()({},o,{errors:l})),summary:ce(o,e,n,l,s,u)}},function(e){return Object(o.b)({toggleStep:V.W},e)})(ue)),me=a(159),pe=function(e,t,a){var n=0;return Object(f.mapValues)(e,function(e){if("individual"===e.box_id)return e.items[0].name;n++;var r=t[e.box_id],s=r&&r.is_letter,i=!(!a||!r)&&r.name;return s?i?Object(l.translate)("Envelope %(packageNum)d: %(packageName)s",{args:{packageNum:n,packageName:i}}):Object(l.translate)("Envelope %(packageNum)d",{args:{packageNum:n}}):i?Object(l.translate)("Package %(packageNum)d: %(packageName)s",{args:{packageNum:n,packageName:i}}):Object(l.translate)("Package %(packageNum)d",{args:{packageNum:n}})})},ge=a(70),be=function(e){var t,a,n=e.orderId,s=e.siteId,i=e.selected,c=e.all,o=e.errors,l=e.packageId,u=e.translate,d=function(t,a,i){var c=0<Object.keys(o[t]||{}).length;return r.a.createElement("div",{className:"packages-step__list-item",key:t},r.a.createElement(me.a,{className:I()("packages-step__list-package","is-borderless",{"is-selected":l===t}),onClick:function(){return e.openPackage(n,s,t)}},r.a.createElement("span",{className:"packages-step__list-package-name"},a),function(e,t){return e?r.a.createElement(W.a,{icon:"notice-outline",className:"is-error",size:18}):void 0===t?null:r.a.createElement("span",{className:"packages-step__list-package-count"},t)}(c,i)))},m=pe(i,c,!1),p=[],g=[];return Object.keys(i).forEach(function(e){var t=i[e];"individual"===t.box_id?g.push(d(e,t.items[0].name)):p.push(d(e,m[e],t.items.length))}),(p.length||g.length)&&p.unshift((t="boxed-header",a=u("Packages to be Shipped"),r.a.createElement("div",{className:"packages-step__list-item packages-step__list-header",key:t},a))),r.a.createElement("div",{className:"packages-step__list"},p,g)};be.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,selected:i.a.object.isRequired,all:i.a.object.isRequired,packageId:i.a.string.isRequired,errors:i.a.object,openPackage:i.a.func.isRequired};var fe=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n);return{errors:r&&Object(L.f)(e,a,n).packages,packageId:s.openedPackageId,selected:s.form.packages.selected,all:Object(ge.a)(e,n)}},function(e){return Object(o.b)({openPackage:V.w},e)})(Object(l.localize)(be)),he=a(674),ve=a(676),Ee=a(692),ke=a(128),ye=function(e){var t=e.orderId,a=e.siteId,n=e.item,s=e.itemIndex,i=e.translate,c=function(){return e.openItemMove(t,a,s)},o=n.url?r.a.createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer"},n.name):n.name;return r.a.createElement("div",{key:s,className:"packages-step__item"},r.a.createElement("div",{className:"packages-step__item-name"},r.a.createElement("span",null,o),"attributes"in n?r.a.createElement("p",null,n.attributes):""),r.a.createElement("div",{className:"packages-step__item-weight"},"weight"in n?r.a.createElement("p",null,n.weight):""),r.a.createElement("div",{className:"packages-step__item-qty"},"quantity"in n?r.a.createElement("p",null,n.quantity):""),r.a.createElement("div",{className:"packages-step__item-move"},r.a.createElement("a",{href:"#",onClick:c},i("Move"))))};ye.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,item:i.a.object.isRequired,itemIndex:i.a.number.isRequired,openItemMove:i.a.func.isRequired};var _e=Object(c.b)(function(e,t){var a=t.siteId;return{site:Object(ke.a)(e,a)}},function(e){return Object(o.b)({openItemMove:V.v},e)})(Object(l.localize)(ye)),Oe=a(679),Ce=a(424),Ie=a(736),Ne=a(262),je=function(e,t){return[e.length,e.width,e.height].map(function(e){return"".concat(e," ").concat(t)}).join(" x ")},we=function(e){var t=e.siteId,a=e.orderId,n=e.packageId,s=e.pckg,i=e.dimensionUnit,c=e.packageGroups,o=e.translate,l=e.pckgErrors,u=e.isIndividualPackage,d=function(e){var t=Object(Ce.a)(e),a=e.id||e.name;return r.a.createElement("option",{value:a,key:a},e.name," - ",je(t,i))};if(!n)return null;if(u){var m=I()({"is-error":l.dimensions});return r.a.createElement("div",null,r.a.createElement("div",{className:"packages-step__package-items-header"},r.a.createElement(ve.a,null,o("Individually Shipped Item"))),r.a.createElement("span",{className:"packages-step__package-item-description"},o("Item Dimensions")," -"," "),r.a.createElement("span",{className:m},je(s,i)),l.dimensions&&r.a.createElement(he.a,{text:l.dimensions}))}var p=Object(f.reduce)(c,function(e,t){return e+t.definitions.length},0);return r.a.createElement("div",null,r.a.createElement("div",{className:"packages-step__package-items-header packages-step__package-details-header"},r.a.createElement(ve.a,null,o("Package details")),0!==p?r.a.createElement("a",{href:"#",onClick:function(){return e.addPackage(t)}},o("Add package")):null),0===p?r.a.createElement("div",{className:"packages-step__no-packages"},r.a.createElement(W.a,{icon:"product",size:18}),r.a.createElement("a",{href:"#",onClick:function(){return e.addPackage(t)}},o("Select a package type"))):r.a.createElement("div",{className:"packages-step__with-packages"},r.a.createElement(Oe.a,{onChange:function(r){e.setPackageType(a,t,n,r.target.value)},value:s.box_id,isError:l.box_id||l.dimensions},r.a.createElement("option",{value:"not_selected",key:"not_selected"},o("Please select a package"))," ",Object(f.map)(c,function(e,t){return Object(f.isEmpty)(e.definitions)?null:r.a.createElement("optgroup",{label:e.title,key:t},Object(f.map)(e.definitions,d))}))),r.a.createElement(Ie.a,b()({persistOnSave:!0},e,{onSaveSuccess:function(r){e.setPackageType(a,t,n,r)}})))};we.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,packageId:i.a.string.isRequired,pckgErrors:i.a.object.isRequired,pckg:i.a.object.isRequired};var xe=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n),i=r?s.storeOptions:{},c=Object(ge.e)(e,n)||{};return{dimensionUnit:i.dimension_unit,packageGroups:Object(ge.d)(e,a,n),form:c}},function(e){return Object(o.b)({setPackageType:V.R,addPackage:Ne.addPackage},e)})(Object(l.localize)(we)),Re=a(42),Se=function(e){var t=e.siteId,a=e.orderId,n=e.packageId,s=e.selected,i=e.weightUnit,c=e.errors,o=e.translate,l=e.userMeta,u=e.children,d=c[n]||{};if(!n)return null;var m=s[n],p="individual"===m.box_id,g=function(e,s){return r.a.createElement(_e,{siteId:t,orderId:a,key:s,item:e,itemIndex:s,packageId:n,showRemove:!0,isIndividualPackage:p})},b=function(){return e.openAddItem(a,t)},h=function(){return p?null:r.a.createElement(me.a,{className:I()("button","is-compact","packages-step__add-item-btn"),onClick:b},o("Add items"))},v=isNaN(m.weight)?"":m.weight;return r.a.createElement("div",{className:"packages-step__package"},r.a.createElement("div",null,r.a.createElement("div",{className:"packages-step__package-items-header-name"},r.a.createElement(ve.a,null,o("Items to fulfill"))),r.a.createElement("div",{className:"packages-step__package-items-header-weight"},r.a.createElement(ve.a,null,o("Weight"))),r.a.createElement("div",{className:"packages-step__package-items-header-qty"},r.a.createElement(ve.a,null,o("QTY"))),r.a.createElement("div",{className:"packages-step__package-items-header-move"}),function(){var e=Object(f.some)(s,function(e,t){return n!==t&&e.items.length});if(!m.items.length)return r.a.createElement("div",{className:"packages-step__add-item-row"},r.a.createElement("div",{className:"packages-step__no-items-message"},o("There are no items in this package."),e?h():null));var t=m.items.map(g);return e&&t.push(r.a.createElement("div",{key:t.length,className:"packages-step__add-item-row"},h())),t}()),r.a.createElement(xe,{siteId:t,orderId:a,isIndividualPackage:p,pckgErrors:d,pckg:m,packageId:n,lastBoxId:l.last_box_id}),r.a.createElement("div",{className:"packages-step__package-weight"},r.a.createElement(N.a,{htmlFor:"weight_".concat(n)},o("Total Weight (with package)")),r.a.createElement(Ee.a,{id:"weight_".concat(n),placeholder:o("0"),value:v,onChange:function(r){e.updatePackageWeight(a,t,n,r)},className:Boolean(d.weight)?"is-error":"",type:"number",suffix:i}),d.weight&&r.a.createElement(he.a,{text:d.weight})),u)};Se.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,packageId:i.a.string.isRequired,selected:i.a.object.isRequired,updatePackageWeight:i.a.func.isRequired,dimensionUnit:i.a.string.isRequired,weightUnit:i.a.string.isRequired,errors:i.a.object.isRequired,openAddItem:i.a.func.isRequired,userMeta:i.a.object.isRequired};var qe=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n),i=r?s.storeOptions:{},c=r&&Object(L.f)(e,a,n).packages,o=r?Object(Re.j)(e,n):{};return{siteId:n,errors:c,packageId:s.openedPackageId,selected:s.form.packages.selected,dimensionUnit:i.dimension_unit,weightUnit:i.weight_unit,userMeta:o}},function(e){return Object(o.b)(p()({updatePackageWeight:V.Y,openAddItem:V.t},Ne),e)})(Object(l.localize)(Se)),Pe=a(680),Te=a(677),ze=function(e){e.site;var t=e.siteId,a=e.orderId,n=e.showItemMoveDialog,s=e.movedItemIndex,i=e.targetPackageId,c=e.openedPackageId,o=e.selected,l=e.all,u=e.translate;if(-1===s||!n)return null;var d,m,p=function(n,s){return r.a.createElement(N.a,{key:n,className:"packages-step__dialog-package-option"},r.a.createElement(j.a,{checked:n===i,onChange:function(){return e.setTargetPackage(a,t,n)}}),s)},g=o[c],b=g.items[s],f=(d=b.product_id,"post.php?post=".concat(d,"&action=edit")),h=r.a.createElement("a",{href:f,target:"_blank",rel:"noopener noreferrer"},b.name),v=pe(o,l,!0);m=""===c?u("{{itemLink/}} is currently saved for a later shipment.",{components:{itemLink:h}}):"individual"===g.box_id?u("{{itemLink/}} is currently shipped in its original packaging.",{components:{itemLink:h}}):u("{{itemLink/}} is currently in {{pckg/}}.",{components:{itemLink:h,pckg:r.a.createElement("span",{className:"packages-step__dialog-package-name"},v[c])}});var E=function(){return e.closeItemMove(a,t)},k=[{action:"cancel",label:u("Cancel"),onClick:E},{action:"move",label:u("Submit"),isPrimary:!0,disabled:i===c,onClick:function(){return e.moveItem(a,t,c,s,i)}}];return r.a.createElement(Pe.a,{isVisible:n,isFullScreen:!1,onClickOutside:E,onClose:E,buttons:k,additionalClassNames:"wcc-root woocommerce packages-step__dialog"},r.a.createElement(Te.a,null,u("Move item")),r.a.createElement("div",{className:"packages-step__dialog-body"},r.a.createElement("p",null,m),r.a.createElement("p",null,u("Where would you like to move it?")),function(){var e=[];return Object.keys(o).forEach(function(t){var a=o[t];t!==c&&"individual"!==a.box_id&&e.push(p(t,v[t]))}),e}(),p("new",u("Add to a New Package")),g&&"individual"===g.box_id?null:p("individual",u("Ship in original packaging"))))};ze.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,showItemMoveDialog:i.a.bool.isRequired,movedItemIndex:i.a.number.isRequired,targetPackageId:i.a.string,openedPackageId:i.a.string.isRequired,selected:i.a.object.isRequired,all:i.a.object.isRequired,moveItem:i.a.func.isRequired};var De=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.k)(e,a,n);return{site:Object(ke.a)(e,n),showItemMoveDialog:r.showItemMoveDialog||!1,movedItemIndex:isNaN(r.movedItemIndex)?-1:r.movedItemIndex,targetPackageId:r.targetPackageId,openedPackageId:r.openedPackageId,selected:r.form.packages.selected,all:Object(ge.a)(e,n)}},function(e){return Object(o.b)({closeItemMove:V.d,setTargetPackage:V.U,moveItem:V.s},e)})(Object(l.localize)(ze)),Ae=a(848),Me=function(e){var t=e.siteId,a=e.orderId,n=e.showAddItemDialog,s=e.addedItems,i=e.openedPackageId,c=e.selected,o=e.all,l=e.translate;if(!n)return null;var u=pe(c,o,!0),d=function(e){return r.a.createElement("span",{className:"packages-step__dialog-package-name"},u[e])},m=[];Object.keys(c).forEach(function(n){if(n!==i){var o=0;c[n].items.forEach(function(i){m.push(function(n,i,c){var o=u[n]?l("%(item)s from {{pckg/}}",{args:{item:c.name},components:{pckg:d(n)}}):c;return r.a.createElement(N.a,{key:"".concat(n,"-").concat(i),className:"packages-step__dialog-package-option"},r.a.createElement(Ae.a,{label:o,className:"form-label packages-step__dialog-package-option",checked:Object(f.includes)(s[n],i),onChange:function(r){e.setAddedItem(a,t,n,i,r)}}))}(n,o,i)),o++})}});var p=function(){return e.closeAddItem(a,t)},g=[{action:"close",label:l("Close"),onClick:p},{action:"add",label:l("Add"),isPrimary:!0,disabled:!Object(f.some)(s,f.size),onClick:function(){return e.addItems(a,t,i)}}];return r.a.createElement(Pe.a,{isVisible:n,isFullScreen:!1,onClickOutside:p,onClose:p,buttons:g,additionalClassNames:"wcc-root woocommerce packages-step__dialog"},r.a.createElement(Te.a,null,l("Add item")),r.a.createElement("div",{className:"packages-step__dialog-body"},r.a.createElement("p",null,l("Which items would you like to add to {{pckg/}}?",{components:{pckg:d(i)}})),m))};Me.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,showAddItemDialog:i.a.bool.isRequired,addedItems:i.a.object,openedPackageId:i.a.string.isRequired,selected:i.a.object.isRequired,all:i.a.object.isRequired,closeAddItem:i.a.func.isRequired,setAddedItem:i.a.func.isRequired,addItems:i.a.func.isRequired};var Ve=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.k)(e,a,n);return{showAddItemDialog:Boolean(r.showAddItemDialog),addedItems:r.addedItems,openedPackageId:r.openedPackageId,selected:r.form.packages.selected,all:Object(ge.a)(e,n)}},function(e){return Object(o.b)({closeAddItem:V.b,setAddedItem:V.E,addItems:V.a},e)})(Object(l.localize)(Me)),Le=function(e){var t=e.disabled,a=e.onClick,n=e.children;return r.a.createElement("div",{className:"step-confirmation-button"},r.a.createElement(y.a,{type:"button",onClick:a,disabled:Boolean(t),isPrimary:!0},n))};Le.propTypes={disabled:i.a.bool,onClick:i.a.func.isRequired};var Ue=Le,He=a(53),Be=a.n(He),Fe=a(839),We={AIR_ELIGIBLE_ETHANOL:"Air Eligible Ethanol Package - (authorized fragrance and hand sanitizer shipments)",CLASS_1:"Class 1 \u2013 Toy Propellant/Safety Fuse Package",CLASS_3:"Class 3 - Package (Hand sanitizer, rubbing alcohol, ethanol base products, flammable liquids etc.)",CLASS_4:"Class 4 - Package (Flammable solids)",CLASS_5:"Class 5 - Package (Oxidizers)",CLASS_6:"Class 6 - Package (Poisonous materials)",CLASS_7:"Class 7 \u2013 Radioactive Materials Package (e.g., smoke detectors, minerals, gun sights, etc.)",CLASS_8_CORROSIVE:"Class 8 \u2013 Corrosive Materials Package - Air Eligible Corrosive Materials (certain cleaning or tree/weed killing compounds, etc.)",CLASS_8_WET_BATTERY:"Class 8 \u2013 Nonspillable Wet Battery Package - Sealed lead acid batteries",CLASS_9_NEW_LITHIUM_INDIVIDUAL:"Class 9 - Lithium Battery Marked \u2013 Ground Only Package - New Individual or spare lithium batteries (marked UN3480 or UN3090)",CLASS_9_USED_LITHIUM:"Class 9 - Lithium Battery \u2013 Returns Package - Used electronic devices containing or packaged with lithium batteries (markings required)",CLASS_9_NEW_LITHIUM_DEVICE:"Class 9 - Lithium batteries, marked package - New electronic devices packaged with lithium batteries (marked UN3481 or UN3091)",CLASS_9_DRY_ICE:"Class 9 \u2013 Dry Ice Package (limited to 5 lbs. if shipped via Air)",CLASS_9_UNMARKED_LITHIUM:"Class 9 \u2013 Lithium batteries, unmarked package - New electronic devices installed or packaged with lithium batteries (no marking)",CLASS_9_MAGNETIZED:"Class 9 \u2013 Magnetized Materials Package",DIVISION_4_1:"Division 4.1 \u2013 Mailable flammable solids and Safety Matches Package - Safety/strike on box matches, book matches, mailable flammable solids",DIVISION_5_1:"Division 5.1 \u2013 Oxidizers Package - Hydrogen peroxide (8 to 20% concentration)",DIVISION_5_2:"Division 5.2 \u2013 Organic Peroxides Package",DIVISION_6_1:"Division 6.1 \u2013 Toxic Materials Package (with an LD50 of 50 mg/kg or less) - (pesticides, herbicides, etc.)",DIVISION_6_2:"Division 6.2 - Hazardous Materials - Biological Materials (e.g., lab test kits, authorized COVID test kit returns)",EXCEPTED_QUANTITY_PROVISION:"Excepted Quantity Provision Package (e.g., small volumes of flammable liquids, corrosive, toxic or environmentally hazardous materials - marking required)",GROUND_ONLY:"Ground Only Hazardous Materials (For items that are not listed, but are restricted to surface only)",ID8000:"ID8000 Consumer Commodity Package - Air Eligible ID8000 Consumer Commodity (Non-flammableaerosols, Flammable combustible liquids, Toxic Substance, Miscellaneious hazardous materials)",LIGHTERS:"Lighters Package - Authorized Lighters",LIMITED_QUANTITY:"LTD QTY Ground Package - Aerosols, spray disinfectants, spray paint, hair spray, propane, butane, cleaning products, etc. - Fragrances, nail polish, nail polish remover, solvents, hand sanitizer, rubbing alcohol, ethanol base products, etc. - Other limited quantity surface materials (cosmetics, cleaning products, paints, etc.)",SMALL_QUANTITY_PROVISION:"Small Quantity Provision Package (markings required)"},Ze=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId;return{hazmatType:Object(L.j)(e,{orderId:a,siteId:n}),isSelectingHazmat:Object(L.l)(e,a).isSelectingHazmat}},function(e){return Object(o.b)({setHazmatType:V.O,setIsSelectingHazmat:V.Q},e)})(Object(l.localize)(function(e){var t=e.translate,a=e.orderId,n=e.setHazmatType,s=e.hazmatType,i=e.setIsSelectingHazmat,c=e.isSelectingHazmat;return r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"label-purchase-modal__hazmat-section"},r.a.createElement("div",{className:"label-purchase-modal__hazmat-section-content"},r.a.createElement(Fe.a,{className:"label-purchase-modal__option-mark-shipment-has-hazmat rates-step__shipping-rate-radio-control",label:t("Are you shipping dangerous goods or hazardous materials?"),selected:c?"yes":"no",options:[{label:"No",value:"no"},{label:"Yes",value:"yes"}],onChange:function(e){i("yes"===e,a)}}),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"description"},t("Potentially hazardous material includes items such as batteries, dry ice, flammable liquids, aerosols, ammunition, fireworks, nail polish, perfume, paint, solvents, and more. Hazardous items must ship in separate packages.")),r.a.createElement("p",{className:"description"},t("Learn how to securely package, label, and ship HAZMAT through USPS{{registeredMark/}} at {{uspsHazmatTutorial/}}. Determine your product's mailability using the {{hazmatSearchTool/}}.",{components:{hazmatSearchTool:r.a.createElement(T.a,{href:"https://pe.usps.com/HAZMAT/Index"},t("USPS HAZMAT Search Tool")),registeredMark:r.a.createElement("span",{className:"registered-mark"},"\xae"),uspsHazmatTutorial:r.a.createElement(T.a,{href:"https://www.uspsdelivers.com/hazmat-shipping-safety"},"www.usps.com/hazmat")}})),r.a.createElement("p",{className:"description"},t("WooCommerce Shipping does not currently support HAZMAT shipments through {{dhlExpress/}}.",{components:{dhlExpress:r.a.createElement(T.a,{href:"https://www.dhl.com/global-en/home/our-divisions/freight/customer-service/dangerous-goods-and-prohibited-items.html"},t("DHL Express"))}})),r.a.createElement("legend",{className:"form-legend"},t("Select a category")),r.a.createElement(Oe.a,{onChange:function(e){n(e.target.value,a)},value:s},r.a.createElement("option",{value:"none",key:"not_selected"},t("Select a hazardous or dangerous material category")),Object.entries(We).map(function(e){var t=Be()(e,2),a=t[0],n=t[1];return r.a.createElement("option",{style:{maxWidth:"300px",width:"300px"},value:a,key:a},Object(f.truncate)(n,{length:120,omission:" ..."}))}))))))})),Ye={g:0,oz:1,lbs:3,kg:3},Ge=function(e){var t=e.siteId,a=e.orderId,n=e.selected,s=e.weightUnit,i=e.errors,c=e.expanded,o=e.translate,u=Object.keys(n),d=u.reduce(function(e,t){return e+n[t].items.length},0),m=u.reduce(function(e,t){return e+n[t].weight},0),p=0<u.length,g=Object.values(n).some(function(e){return e.isSelectingHazmat&&(!e.hazmatType||"none"===e.hazmatType)});return r.a.createElement(se,b()({title:o("Packaging")},function(){if(!p)return{isError:!0,summary:o("No packages selected")};var e=Object(f.find)(i,function(e){return!Object(f.isEmpty)(e)});if(e)return{isError:!0,summary:e[Object.keys(e)[0]]};var t=Object(l.numberFormat)(m,{decimals:Ye[s]});return{isSuccess:!0,summary:1===u.length&&1===d?o("1 item in 1 package: %(weight)s %(unit)s total",{args:{weight:t,unit:s}}):1===u.length?o("%(itemsCount)d items in 1 package: %(weight)s %(unit)s total",{args:{itemsCount:d,weight:t,unit:s}}):o("%(itemsCount)d items in %(packageCount)d packages: %(weight)s %(unit)s total",{args:{itemsCount:d,packageCount:u.length,weight:t,unit:s}})}}(),{expanded:c,toggleStep:function(){return e.toggleStep(a,t,"packages")}}),r.a.createElement("div",{className:"packages-step__contents"},r.a.createElement(fe,{siteId:e.siteId,orderId:e.orderId}),r.a.createElement(qe,{siteId:e.siteId,orderId:e.orderId},r.a.createElement(Ze,{siteId:t,orderId:a}))),r.a.createElement(Ue,{disabled:Object(O.a)(i)||!u.length||g,onClick:function(){return e.confirmPackages(a,t)}},o("Use these packages")),r.a.createElement(De,{siteId:e.siteId,orderId:e.orderId}),r.a.createElement(Ve,{siteId:e.siteId,orderId:e.orderId}))};Ge.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,selected:i.a.object.isRequired,weightUnit:i.a.string.isRequired,errors:i.a.object.isRequired,expanded:i.a.bool};var Ke=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n),i=r?s.storeOptions:{};return{errors:r&&Object(L.f)(e,a,n).packages,weightUnit:i.weight_unit,expanded:s.form.packages.expanded,selected:s.form.packages.selected}},function(e){return Object(o.b)({toggleStep:V.W,confirmPackages:V.i},e)})(Object(l.localize)(Ge)),Qe=a(672),Je=function(e){var t=e.id,a=e.title,n=e.value,s=e.placeholder,i=e.updateValue,c=e.error,o=e.className,l=e.weightUnit,u=I()({"is-error":Boolean(c)});return r.a.createElement(Qe.a,{className:o},r.a.createElement(N.a,{htmlFor:t},a),r.a.createElement(Ee.a,{suffix:l,id:t,name:t,type:"number",placeholder:s||"0.0",value:n,onChange:i,className:u}),c&&"string"===typeof c&&r.a.createElement(he.a,{text:c}))};Je.propTypes={weightUnit:i.a.string.isRequired,id:i.a.string.isRequired,title:i.a.node,value:i.a.oneOfType([i.a.string,i.a.number]).isRequired,placeholder:i.a.string,updateValue:i.a.func,error:i.a.oneOfType([i.a.string,i.a.bool]),className:i.a.string};var $e=Je,Xe=function(e){var t=e.id,a=e.title,n=e.value,s=e.placeholder,i=e.updateValue,c=e.error,o=e.className,l=I()({"is-error":Boolean(c)});return r.a.createElement(Qe.a,{className:o},r.a.createElement(N.a,{htmlFor:t},a),c&&"string"===typeof c&&r.a.createElement(he.a,{text:c}),r.a.createElement(Ee.a,{prefix:"$",id:t,name:t,type:"number",placeholder:s||"0.00",value:n,onChange:i,className:l}),c&&"string"===typeof c&&r.a.createElement(he.a,{text:c}))};Xe.propTypes={id:i.a.string.isRequired,title:i.a.node,value:i.a.oneOfType([i.a.string,i.a.number]).isRequired,placeholder:i.a.string,updateValue:i.a.func,error:i.a.oneOfType([i.a.string,i.a.bool]),className:i.a.string};var et=Xe,tt=a(429),at=Object(l.localize)(function(e){var t=e.togglePopoverVisible,a=e.translate;return r.a.createElement(tt.a,{onFocusOutside:t},r.a.createElement("p",null,a("When shipping to countries that follow European Union (EU) customs rules, you must provide a clear, specific description on every item.")),r.a.createElement("p",null,a("For example, if you are sending clothing, you must indicate what type of clothing (e.g. men's shirts, girl's vest, boy's jacket) for the description to be acceptable.")),r.a.createElement("p",null,a("Otherwise, shipments may be delayed or interrupted at customs.")),r.a.createElement("p",null,r.a.createElement(T.a,{href:"https://www.usps.com/international/new-eu-customs-rules.htm"},a("Learn more about customs rules"))))}),nt=Object(l.localize)(function(e){var t=e.translate,a=Object(n.useState)(!1),s=Be()(a,2),i=s[0],c=s[1],o=function(){c(function(e){return!e})};return r.a.createElement("span",null,t("Description"),r.a.createElement(me.a,{onClick:o},r.a.createElement("span",null,r.a.createElement(W.a,{icon:"info-outline",size:18}))),r.a.createElement("span",{className:"popover-container"},i&&r.a.createElement(at,{togglePopoverVisible:o})))}),rt=Object(l.localize)(function(e){var t=e.translate;return r.a.createElement("span",null,t("HS Tariff number")," (",r.a.createElement(T.a,{href:"https://docs.woocommerce.com/document/woocommerce-shipping-and-tax/woocommerce-shipping/#section-29"},t("more info")),")")}),st=Object(l.localize)(function(e){var t=e.translate,a=Object(n.useState)(!1),s=Be()(a,2),i=s[0],c=s[1],o=function(){c(function(e){return!e})};return r.a.createElement("span",null,t("Origin country"),r.a.createElement(me.a,{onClick:o},r.a.createElement("span",null,r.a.createElement(W.a,{icon:"info-outline",size:18}))),r.a.createElement("span",{className:"popover-container"},i&&r.a.createElement(tt.a,{onFocusOutside:o},r.a.createElement("p",null,t("Country where the product was manufactured or assembled.")))))}),it=function(e){var t=e.translate,a=e.weightUnit;return r.a.createElement("div",{className:"customs-step__item-rows-header"},r.a.createElement("div",{className:"customs-step__item-description-column"},r.a.createElement(nt,null)),r.a.createElement("span",{className:"customs-step__item-code-column"},r.a.createElement(rt,null)),r.a.createElement("span",{className:"customs-step__item-weight-column"},t("Weight (%s per unit)",{args:[a]})),r.a.createElement("span",{className:"customs-step__item-value-column"},t("Value ($ per unit)")),r.a.createElement("span",{className:"customs-step__item-country-column"},r.a.createElement(st,null)))};it.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,weightUnit:i.a.string.isRequired};var ct=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId;return{weightUnit:Object(L.k)(e,a,n).storeOptions.weight_unit}})(Object(l.localize)(it)),ot=function(e){var t=e.errors,a=e.packageId,n=e.productId,s=e.translate,i=e.description,c=e.defaultDescription,o=e.weight,l=e.value,u=e.tariffNumber,d=e.originCountry,m=e.TariffNumberPlaceholder,p=e.countryNames,g=e.weightUnit;return r.a.createElement("div",{className:"customs-step__item-row"},r.a.createElement(E.a,{id:a+"_"+n+"_description",className:"customs-step__item-description-column",title:r.a.createElement(nt,null),value:i,placeholder:c,updateValue:e.setCustomsItemDescription,error:t.description}),r.a.createElement(E.a,{id:a+"_"+n+"_tariffNumber",className:"customs-step__item-code-column",title:r.a.createElement(rt,null),placeholder:m,value:u,updateValue:e.setCustomsItemTariffNumber,error:t.tariffNumber}),r.a.createElement($e,{weightUnit:g,id:a+"_"+n+"_weight",className:"customs-step__item-weight-column",title:s("Weight (per unit)"),value:o,updateValue:e.setCustomsItemWeight,error:t.weight}),r.a.createElement(et,{id:a+"_"+n+"_value",className:"customs-step__item-value-column",title:s("Value (per unit)"),value:l,updateValue:e.setCustomsItemValue,error:t.value}),r.a.createElement(_.a,{id:a+"_"+n+"_originCountry",className:"customs-step__item-country-column",title:r.a.createElement(st,null),value:d,updateValue:e.setCustomsItemOriginCountry,valuesMap:p}))};ot.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,packageId:i.a.string.isRequired,productId:i.a.number.isRequired,description:i.a.string.isRequired,defaultDescription:i.a.string.isRequired,tariffNumber:i.a.string.isRequired,weight:i.a.oneOfType([i.a.string,i.a.number]).isRequired,value:i.a.oneOfType([i.a.string,i.a.number]).isRequired,originCountry:i.a.string.isRequired,TariffNumberPlaceholder:i.a.string.isRequired,errors:i.a.object,countryNames:i.a.object.isRequired,setCustomsItemDescription:i.a.func.isRequired,setCustomsItemTariffNumber:i.a.func.isRequired,setCustomsItemWeight:i.a.func.isRequired,setCustomsItemValue:i.a.func.isRequired,setCustomsItemOriginCountry:i.a.func.isRequired};var lt=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=t.productId,s=Object(L.x)(e,a,n),i=Object(L.k)(e,a,n),c=i.form.destination.values.country,o=Object(L.n)(e,c,n),l=i.form.customs.items[r];return{description:l.description,defaultDescription:l.defaultDescription,tariffNumber:l.tariffNumber||"",weight:l.weight,value:l.value,originCountry:l.originCountry,TariffNumberPlaceholder:o,errors:s?Object(L.f)(e,a,n).customs.items[r]:{},countryNames:Object(U.d)(e,n),weightUnit:i.storeOptions.weight_unit}},function(e,t){var a=t.orderId,n=t.siteId,r=t.productId;return{setCustomsItemDescription:function(t){return e(Object(V.H)(a,n,r,t))},setCustomsItemTariffNumber:function(t){return e(Object(V.J)(a,n,r,t))},setCustomsItemWeight:function(t){return e(Object(V.L)(a,n,r,t))},setCustomsItemValue:function(t){return e(Object(V.K)(a,n,r,t))},setCustomsItemOriginCountry:function(t){return e(Object(V.I)(a,n,r,t))}}})(Object(l.localize)(ot)),ut=a(700),dt=function(e){var t=e.siteId,a=e.orderId,n=e.errors,s=e.packageId,i=e.translate,c=e.contentsType,o=e.contentsExplanation,l=e.restrictionType,u=e.restrictionComments,d=e.abandonOnNonDelivery,m=e.itn,p=e.items;return r.a.createElement("div",{className:"customs-step__package"},r.a.createElement(N.a,{htmlFor:s+"_abandonOnNonDelivery",className:"customs-step__abandon-on-non-delivery"},r.a.createElement(ut.a,{id:s+"_abandonOnNonDelivery",checked:!d,onChange:function(){return e.setAbandonOnNonDelivery(!d)}}),r.a.createElement("span",null,i("Return to sender if package is unable to be delivered"))),r.a.createElement("div",{className:"customs-step__restrictions-row"},r.a.createElement("div",{className:"customs-step__contents-type"},r.a.createElement(_.a,{id:s+"_contentsType",title:i("Contents type"),value:c||"merchandise",updateValue:e.setContentsType,valuesMap:{merchandise:i("Merchandise"),documents:i("Documents"),gift:i("Gift"),sample:i("Sample"),other:i("Other\u2026")}}),"other"===c&&r.a.createElement(E.a,{id:s+"_contentsExplanation",title:i("Details"),value:o||"",updateValue:e.setContentsExplanation,error:n.contentsExplanation})),r.a.createElement("div",{className:"customs-step__restriction-type"},r.a.createElement(_.a,{id:s+"_restrictionType",title:i("Restriction type"),value:l||"none",updateValue:e.setRestrictionType,valuesMap:{none:i("None"),quarantine:i("Quarantine"),sanitary_phytosanitary_inspection:i("Sanitary / Phytosanitary inspection"),other:i("Other\u2026")}}),"other"===l&&r.a.createElement(E.a,{id:s+"_restrictionComments",title:i("Details"),value:u||"",updateValue:e.setRestrictionExplanation,error:n.restrictionComments}))),r.a.createElement(E.a,{id:s+"_itn",title:r.a.createElement("span",null,i("ITN")," (",r.a.createElement(T.a,{href:"https://pe.usps.com/text/imm/immc5_010.htm"},i("more info")),")"),value:m||"",updateValue:e.setITN,error:n.itn}),r.a.createElement("div",{className:"customs-step__item-rows"},r.a.createElement(ct,{siteId:t,orderId:a}),Object(f.uniq)(Object(f.map)(p,"product_id")).map(function(e){return r.a.createElement(lt,{key:e,productId:e,packageId:s,siteId:t,orderId:a})})))};dt.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,packageId:i.a.string.isRequired,errors:i.a.object,contentsType:i.a.oneOf(["merchandise","documents","gift","sample","other"]),contentsExplanation:i.a.string,restrictionType:i.a.oneOf(["none","quarantine","sanitary_phytosanitary_inspection","other"]),restrictionComments:i.a.string,abandonOnNonDelivery:i.a.bool,itn:i.a.string,items:i.a.arrayOf(i.a.shape({product_id:i.a.number.isRequired})).isRequired,setContentsType:i.a.func.isRequired,setContentsExplanation:i.a.func.isRequired,setRestrictionType:i.a.func.isRequired,setRestrictionExplanation:i.a.func.isRequired,setAbandonOnNonDelivery:i.a.func.isRequired,setITN:i.a.func.isRequired};var mt=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=t.packageId,s=Object(L.x)(e,a,n),i=Object(L.k)(e,a,n).form.packages.selected[r];return{contentsType:i.contentsType,contentsExplanation:i.contentsExplanation,restrictionType:i.restrictionType,restrictionComments:i.restrictionComments,abandonOnNonDelivery:i.abandonOnNonDelivery,itn:i.itn,items:i.items,errors:s?Object(L.f)(e,a,n).customs.packages[r]:{}}},function(e,t){var a=t.orderId,n=t.siteId,r=t.packageId;return{setContentsType:function(t){return e(Object(V.G)(a,n,r,t))},setContentsExplanation:function(t){return e(Object(V.F)(a,n,r,t))},setRestrictionType:function(t){return e(Object(V.T)(a,n,r,t))},setRestrictionExplanation:function(t){return e(Object(V.S)(a,n,r,t))},setAbandonOnNonDelivery:function(t){return e(Object(V.D)(a,n,r,t))},setITN:function(t){return e(Object(V.P)(a,n,r,t))}}})(Object(l.localize)(dt)),pt=function(e,t){return Object(O.a)(e)?t(e.items&&Object.values(e.items).every(function(e){return 1===Object.keys(e).length&&e.description})?"Descriptions are incomplete":"Customs information incomplete"):t("Customs information valid")},gt=function(e){var t=e.siteId,a=e.orderId,n=e.errors,s=e.expanded,i=e.translate,c=e.isSubmitted,o=e.packageDescriptions;return r.a.createElement(se,{title:i("Customs"),summary:c?pt(n,i):"",expanded:s,toggleStep:e.toggleStep,isSuccess:c&&!Object(O.a)(n),isError:c&&Object(O.a)(n)},Object.keys(o).map(function(e,n){return r.a.createElement("div",{className:"customs-step__package-container",key:e},n?r.a.createElement("hr",null):null,r.a.createElement("p",{className:"customs-step__package-name"},o[e]),r.a.createElement(mt,{packageId:e,siteId:t,orderId:a}))}),r.a.createElement(Ue,{disabled:Object(O.a)(n),onClick:e.confirmCustoms},i("Save customs form")))};gt.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,packageDescriptions:i.a.objectOf(i.a.string).isRequired,expanded:i.a.bool,isSubmitted:i.a.bool.isRequired,errors:i.a.object,toggleStep:i.a.func.isRequired,confirmCustoms:i.a.func.isRequired};var bt=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n),i=s.form.packages.selected;return{packageDescriptions:pe(i,Object(ge.a)(e,n),!0),expanded:s.form.customs.expanded,isSubmitted:Object(L.t)(e,a,n),errors:r?Object(L.f)(e,a,n).customs:{}}},function(e,t){var a=t.orderId,n=t.siteId;return{toggleStep:function(){return e(Object(V.W)(a,n,"customs"))},confirmCustoms:function(){return e(Object(V.h)(a,n))}}})(Object(l.localize)(gt)),ft=a(667),ht=a(92),vt=a.n(ht),Et=a(430),kt=a(711),yt=function(e){function t(){var e;return Y()(this,t),e=J()(this,X()(t).call(this)),v()(vt()(e),"onSignatureChecked",function(t,a,n){var r=e.props,s=r.rateObject,i=s.service_id,c=s.carrier_id,o=r.updateValue,l=t?{id:a,value:n.value,netCost:n.netCost}:null;e.setState({selectedSignature:l}),o(i,c,t?n.value:0)}),e.state={signatureOption:!1},e}return te()(t,e),K()(t,[{key:"renderServices",value:function(e,t,a){var n=[];if(a.tracking)switch(e){case"usps":n.push(Object(l.translate)("Includes USPS tracking"));break;default:n.push(Object(l.translate)("Includes tracking"))}if(a.insurance){var r=Number(a.insurance);isNaN(r)?n.push(Object(l.translate)("Insurance (%s)",{args:[a.insurance]})):r>0&&n.push(Object(l.translate)("Insurance (up to %s)",{args:[Object(ft.a)(r,"USD")]}))}return t.filter(function(e){return 0===e.netCost}).length>0&&n.push(Object(l.translate)("Signature required")),a.free_pickup&&n.push(Object(l.translate)("Eligible for free pickup")),n.join(", ")}},{key:"renderSignatureOptions",value:function(e){var t=this;return e.map(function(e,a){return r.a.createElement(Ae.a,{key:a,name:"signature_option_".concat(a),label:e.label,checked:!!t.state.selectedSignature&&t.state.selectedSignature.id===a,onChange:function(n){return t.onSignatureChecked(n,a,e)}})})}},{key:"render",value:function(){var e=this.props,t=e.rateObject,a=t.title,n=t.service_id,s=t.carrier_id,i=t.rate,c=t.delivery_days,o=t.delivery_date_guaranteed,u=t.delivery_date,d=t.tracking,m=t.insurance,p=t.free_pickup,g=e.isSelected,b=e.updateValue,h=e.currency,v=e.signatureRates,E=this.state.selectedSignature,k=Object(f.values)(Object(f.mapValues)(v,function(e,t){var a=0===e.optionNetCost?Object(l.translate)("free"):Object(l.translate)("+%s",{args:[Object(ft.a)(e.optionNetCost,"USD")]});return{label:Object(l.translate)("%(label)s (%(price)s)",{args:{label:e.label,price:a}}),value:t,netCost:e.optionNetCost}})),y="";o&&u?y=Object(l.moment)(u).format("LL").split(",")[0]:c&&(y=Object(l.translate)("%(delivery_days)s business day","%(delivery_days)s business days",{count:c,args:{delivery_days:c}}));var _=E?i+E.netCost:i,O="undefined"!=typeof h&&"USD"!==h?Object(ft.a)(_,"USD")+" USD":Object(ft.a)(_,"USD");return r.a.createElement("div",{className:"rates-step__shipping-rate-container"},r.a.createElement(Fe.a,{className:"rates-step__shipping-rate-radio-control",selected:g?n:null,options:[{label:"",value:n}],onChange:function(){b(n,s,!!E&&E.value)}}),r.a.createElement("div",{className:"rates-step__shipping-rate-information"},r.a.createElement(kt.a,{carrier:s,size:30}),r.a.createElement("div",{className:"rates-step__shipping-rate-description"},r.a.createElement("div",{className:"rates-step__shipping-rate-description-title"},a),r.a.createElement("div",{className:"rates-step__shipping-rate-description-details"},this.renderServices(s,k,{tracking:d,insurance:m,free_pickup:p}),g&&k.length>1?this.renderSignatureOptions(k):null)),r.a.createElement("div",{className:"rates-step__shipping-rate-details"},r.a.createElement("div",{className:"rates-step__shipping-rate-rate"},"ups"===s?r.a.createElement(Et.a,{position:"top left",text:Object(l.translate)("This rate is provided by your connected UPS account")},r.a.createElement("div",{className:"rates-step__shipping-rate-rate-tooltip"},r.a.createElement(W.a,{icon:"help-outline",size:18}))):null,O),r.a.createElement("div",{className:"rates-step__shipping-rate-delivery-date"},y))))}}]),t}(n.Component);yt.propTypes={rateObject:i.a.shape({rate_id:i.a.string.isRequired,title:i.a.string.isRequired,service_id:i.a.string.isRequired,carrier_id:i.a.string.isRequired,rate:i.a.number.isRequired,delivery_days:i.a.number,delivery_date_guaranteed:i.a.bool,delivery_date:i.a.string,tracking:i.a.bool,insurance:i.a.oneOfType([i.a.string,i.a.number]),free_pickup:i.a.bool}).isRequired,signatureRates:i.a.object.isRequired};var _t=yt,Ot={signature_required:u.a.translate("Signature required"),adult_signature_required:u.a.translate("Adult signature required")},Ct=function(e,t,a){var n=function(e,t,a){var n=Object(f.find)(a[e].default.rates,function(e){return t===e.service_id});return"undefined"!==typeof n?n.rate:0}(e,t,a);return Object(f.pickBy)(Object(f.mapValues)(a[e],function(e,a){var r=function(e,t,a,n){var r=Object(f.find)(a,function(t){return e===t.service_id});return"undefined"===typeof r?null:t in Ot?r.rate===n&&"Express"!==e?null:r:null}(t,a,e.rates,n);return null!==r?{rate:r,label:Ot[a],optionNetCost:r.rate-n}:null}),function(e){return null!==e})},It=function(e){var t=e.id,a=e.currency,n=e.selectedRates,s=e.availableRates,i=e.selectedPackages,c=e.allPackages,o=e.updateRate,l=e.errors,u=e.shouldShowRateNotice,d=e.translate,m=pe(i,c,!0),p=1===Object.keys(i).length;return r.a.createElement("div",null,u&&function(e){return r.a.createElement(k.a,{className:"rates-step__notice",icon:"info-outline",showDismiss:!1,text:e("The service and rate chosen by the customer at checkout is not available. Please choose another.")})}(d),Object.values(Object(f.mapValues)(i,function(e,i){if(!(i in s))return null;var c=n[i]||"",u=s[i].default.rates,g=(l[i]||[]).filter(function(e,t){return l[i].indexOf(e)===t}),b=function(e,t,a){return o(i,e,t,a)};return r.a.createElement("div",{key:i,className:"rates-step__package-container"},p?null:r.a.createElement("div",{className:"rates-step__package-container-rates-header"},d("Choose rate: %(pckg)s",{args:{pckg:m[i]}})),Object.values(Object(f.mapValues)(u,function(e){var n=e.service_id;return r.a.createElement(_t,{id:t+"_"+i,key:t+"_"+i+"_"+n,currency:a,rateObject:e,signatureRates:Ct(i,n,s),updateValue:b,isSelected:n===c.serviceId})})),g.map(function(e,t){return r.a.createElement(he.a,{type:"server-error",key:t,text:e})}))})))};It.propTypes={id:i.a.string.isRequired,selectedRates:i.a.object.isRequired,availableRates:i.a.object.isRequired,selectedPackages:i.a.object.isRequired,allPackages:i.a.object.isRequired,updateRate:i.a.func.isRequired,errors:i.a.object.isRequired};var Nt=Object(l.localize)(It);function jt(e){var t=Object(f.get)(e,"shipping_lines",[]);return Object(f.reduce)(t,function(e,t){return e+parseFloat(t.total)},0)}function wt(e){return Object(f.get)(e,"shipping_lines[0].method_title",!1)}function xt(e){return Object(f.get)(e,"currency",!1)}var Rt=a(130),St=function(e){var t=e.siteId,a=e.orderId,n=e.form,s=e.allPackages,i=e.values,c=e.available,o=e.errors,l=e.ratesTotal,u=e.translate,d=e.currency,m=function(e,t,a,n,r){if(!n)return r("Unsaved changes made to packages");if(Object(f.some)(Object(f.mapValues)(t,function(e){return Object(f.isEmpty)(e.default.rates)})))return r("No rates found");if(!a)return"";var s=Object.keys(e);if(1===s.length){var i=s[0],c=e[i],o=t[i].default.rates,l=Object(f.find)(o,["service_id",c]);return l?r("%(serviceName)s: %(rate)s",{args:{serviceName:l.title,rate:Object(ft.a)(l.rate,"USD")}}):""}return r("Total rate: %(total)s",{args:{total:Object(ft.a)(a,"USD")}})}(i,c,l,n.packages.saved,u),p=function(n,r,s,i){return e.updateRate(a,t,n,r,s,i)};return Object(f.forEach)(n.packages.selected,function(e,t){if(""===i[t]&&!Object(f.isEmpty)(c)&&t in c&&1===c[t].default.rates.length){var a=c[t].default.rates[0].service_id;p(t,a,!1)}}),r.a.createElement(se,b()({title:u("Shipping rates"),summary:m,expanded:!Object(f.isEmpty)(c),toggleStep:function(){return e.toggleStep(a,t,"rates")}},function(e){var t=e.retrievalInProgress,a=e.errors,n=e.available,r=e.form;return t?{isProgress:!0}:Object(O.a)(a)?{isError:!0}:Object(f.isEmpty)(n)?{}:r.packages.saved?{isSuccess:!0}:{isWarning:!0}}(e)),!Object(f.isEmpty)(c)&&function(e){var t=e.shippingMethod,a=e.shippingCost,n=e.translate,s=e.currency,i=document.createElement("div");i.innerHTML=t;var c,o=i.textContent,l="undefined"!=typeof s&&"USD"!==s?s:"";if(t)return c=0<a?n("Customer paid a {{shippingMethod/}} of {{shippingCost/}} for shipping",{components:{shippingMethod:r.a.createElement("span",null,o),shippingCost:r.a.createElement("span",{className:"rates-step__shipping-info-cost"},Object(ft.a)(a,s)," ",l)}}):n("Your customer selected {{shippingMethod/}}",{components:{shippingMethod:r.a.createElement("span",{className:"rates-step__shipping-info-method"},o)}}),r.a.createElement("div",{className:"rates-step__shipping-info"},r.a.createElement(W.a,{icon:"info-outline"}),r.a.createElement("div",null,c))}(e),r.a.createElement(Nt,{id:"rates",orderId:a,siteId:t,currency:d,showRateNotice:!1,selectedPackages:n.packages.selected,allPackages:s,selectedRates:i,availableRates:c,updateRate:p,errors:o}))};St.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,form:i.a.object.isRequired,values:i.a.object.isRequired,available:i.a.object.isRequired,errors:i.a.object.isRequired,toggleStep:i.a.func.isRequired,updateRate:i.a.func.isRequired};var qt=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n),i=Object(L.o)(e,a,n),c=Object(Rt.a)(e,a,n);return p()({},s.form.rates,{form:s.form,errors:r&&Object(L.f)(e,a,n).rates,ratesTotal:i?i.total:0,allPackages:Object(ge.a)(e,n),shippingCost:jt(c),shippingMethod:wt(c),currency:xt(c)})},function(e){return Object(o.b)({toggleStep:V.W,updateRate:V.ab},e)})(Object(l.localize)(St)),Pt=a(846),Tt=a(186),zt=function(e){function t(){var e,a;Y()(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=J()(this,(e=X()(t)).call.apply(e,[this].concat(s))),v()(vt()(a),"renderDiscount",function(e){var t=a.props.translate,n=t("WooCommerce Shipping gives you access to USPS Commercial Pricing, which is discounted over Retail rates.");return r.a.createElement("div",{className:"label-purchase-modal__price-item-help"},r.a.createElement(Et.a,{className:"label-purchase-modal__price-item-tooltip is-dialog-visible",position:"top center",text:n},r.a.createElement("div",{className:"label-purchase-modal__discount"},t("You save %s with WooCommerce Shipping",{args:[Object(ft.a)(e,"USD")]}),r.a.createElement(W.a,{icon:"help-outline",size:18}))))}),v()(vt()(a),"renderRow",function(e,t,a,n){var s=I()("label-purchase-modal__price-item",{"label-purchase-modal__price-item-total":n});return r.a.createElement("div",{key:a,className:s},r.a.createElement("div",{className:"label-purchase-modal__price-item-name"},e),r.a.createElement("div",{className:"label-purchase-modal__price-item-amount"},Object(ft.a)(t,"USD")))}),a}return te()(t,e),K()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.priceBreakdown,s=t.translate;if(!a)return null;var i=a.prices,c=a.discount,o=a.total;return r.a.createElement("div",{className:"label-purchase-modal__shipping-summary-section"},r.a.createElement("hr",null),i.map(function(t,a){var i=s("Package %(index)s \u2013 %(title)s",{args:{index:a+1,title:t.carrierTitle}});return r.a.createElement(n.Fragment,{key:a},e.renderRow(i,t.rateWithDiscount,a),"ups"===t.carrierId?r.a.createElement("div",{className:"label-purchase-modal__price-item-carrier-account-notice"}," ",s("Your UPS account will be charged")):r.a.createElement("div",null),t.addons.map(function(t,n){return r.a.createElement("div",{key:"addons-"+a,className:"label-purchase-modal__price-item-addons"},e.renderRow(t.title,t.rate,"addon-"+n))}))}),this.renderRow(s("Total"),o,"total",!0),0<c&&this.renderDiscount(c))}}]),t}(n.Component);zt.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired};var Dt=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId;return{priceBreakdown:Object(L.o)(e,a,n)}})(Object(l.localize)(zt)),At=function(e){var t=e.translate,a=e.normalizationStatus,n=e.form,s=e.orderId,i=e.siteId,c=n.origin,o=n.rates,l=Object.keys(o.values).length;return r.a.createElement("div",{className:"label-purchase-modal__shipping-summary-section"},r.a.createElement("div",{className:"label-purchase-modal__shipping-summary-info"},a.isSuccess?r.a.createElement("div",{className:"label-purchase-modal__shipping-summary-street"},r.a.createElement("div",null,t("Shipping from")),r.a.createElement("div",null,c.values.address,r.a.createElement("a",{href:"#",onClick:function(){return e.toggleStep(s,i,"origin",!0)}},t("Edit")))):null),r.a.createElement("div",{className:"label-purchase-modal__shipping-summarry-labels"},l+" "+t("shipping label ready","shipping labels ready",{count:l})))};At.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired};var Mt=function(e){var t=e.normalizationInProgress,a=e.errors,n=e.isNormalized,r=e.values,s=e.normalized;return t?{isProgress:!0}:Object(O.a)(a)||n&&!s||!n?{isError:!0}:n?Object(f.isEqual)(r,s)?{isSuccess:!0}:{isWarning:!0}:{}},Vt=Object(l.localize)(Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n),i=s.form.origin,c=r&&Object(L.f)(e,a,n).origin;return{orderId:a,siteId:n,errors:c,form:s.form,expanded:i.expanded,normalizationStatus:Mt(p()({},i,{errors:c}))}},function(e){return Object(o.b)({toggleStep:V.W},e)})(At)),Lt=function(e){var t=e.form,a=e.disabled,s=e.busy;return r.a.createElement(n.Fragment,null,r.a.createElement(me.a,{disabled:a,onClick:t.needsPrintConfirmation?e.confirmPrintLabel:e.purchaseLabel,isPrimary:!0,isBusy:s,className:I()("button")},function(e){var t=e.form,a=e.translate;return t.needsPrintConfirmation?a("Print"):t.isSubmitting?a("Purchasing\u2026"):a("Buy shipping label","Buy shipping labels",{count:Object.keys(t.packages.selected).length})}(e)))};Lt.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,disabled:i.a.bool,busy:i.a.bool};var Ut=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n);return{form:r&&s.form}},function(e,t){var a=t.orderId,n=t.siteId;return{confirmPrintLabel:function(){return e(Object(V.j)(a,n))},purchaseLabel:function(){return e(Object(V.B)(a,n))}}})(Object(l.localize)(Lt)),Ht=a(263),Bt=function(e){function t(){var e,a;Y()(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return a=J()(this,(e=X()(t)).call.apply(e,[this].concat(r))),v()(vt()(a),"onVisibilityChange",function(){document.hidden||a.refetchSettings(),a.creditCardWindow&&a.creditCardWindow.closed&&document.removeEventListener("visibilitychange",a.onVisibilityChange)}),v()(vt()(a),"refetchSettings",function(){a.props.fetchSettings(a.props.siteId)}),v()(vt()(a),"onChooseCard",function(){a.creditCardWindow=window.open(a.props.url),document.addEventListener("visibilitychange",a.onVisibilityChange)}),a}return te()(t,e),K()(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.buttonLabel,s=e.buttonDescription;return r.a.createElement(n.Fragment,null,r.a.createElement(me.a,{onClick:this.onChooseCard,disabled:t,isPrimary:!0,className:I()("button")},a," ",r.a.createElement(W.a,{icon:"external"})),r.a.createElement("div",{className:"purchase-section__explanation"},s(this.onChooseCard)))}}]),t}(n.Component),Ft=Object(c.b)(function(e){return e},function(e){return Object(o.b)({fetchSettings:Ht.a},e)})(Object(l.localize)(Bt)),Wt=(a(834),Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n),i=r&&Object(L.b)(e,a,n),c=r&&s.form;return{form:c,hasLabelsPaymentMethod:Boolean(Object(Re.o)(e,n)),paymentMethods:Object(Re.m)(e,n),addPaymentMethodURL:Object(Re.e)(e,n),disablePurchase:!c.needsPrintConfirmation&&(!i||c.isSubmitting)}})(Object(l.localize)(function(e){var t=e.orderId,a=e.siteId,n=e.hasLabelsPaymentMethod,s=e.paymentMethods,i=e.addPaymentMethodURL,c=e.form,o=e.disablePurchase,l=e.translate,u=c.isSubmitting&&!c.needsPrintConfirmation,d=Object(L.q)(c.rates),m=d&&Object.values(c.rates.values).some(function(e){return"ups"!==e.carrierId}),p=n&&m||!m;return r.a.createElement("div",{className:"purchase-section"},p||!d?r.a.createElement(Ut,{siteId:a,orderId:t,disabled:o,busy:u}):s.length?r.a.createElement(Ft,{disabled:o,url:"admin.php?page=wc-settings&tab=shipping&section=woocommerce-services-settings",buttonLabel:l("Choose credit card"),buttonDescription:function(e){return l("To print this shipping label, {{a}}choose a credit card to add to your account{{/a}}.",{components:{a:r.a.createElement("a",{onClick:e,href:"#",role:"button"})}})}}):r.a.createElement(Ft,{disabled:o,url:i,buttonLabel:l("Add credit card"),buttonDescription:function(e){return l("To print this shipping label, {{a}}add a credit card to your account{{/a}}.",{components:{a:r.a.createElement("a",{onClick:e,href:"#",role:"button"})}})}}))}))),Zt=a(178),Yt=a(4),Gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(Yt.a)(e);return Object(f.get)(e,["extensions","woocommerce","ui","orders",t,"edits","currentlyEditingId"],null)},Kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(Yt.a)(e),a=Gt(e,t),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(Yt.a)(e);return Object(f.get)(e,["extensions","woocommerce","ui","orders",t,"edits","changes"],{})}(e,t);if(Object(f.isObject)(a)){var r=function(){var e=Object(Zt.b)(0,"USD");return{status:"pending",currency:"USD",discount_total:e,discount_tax:e,shipping_total:e,shipping_tax:e,cart_tax:e,total:e,total_tax:e,prices_include_tax:!1,billing:{},shipping:{},payment_method:"calypso_manual",payment_method_title:Object(l.translate)("Manual Payment"),line_items:[],tax_lines:[],shipping_lines:[],fee_lines:[],coupon_lines:[],refunds:[]}}();return p()({},r,n,{id:a})}var s=Object(Rt.a)(e,a,t);return s?Object(f.merge)({},s,n):n},Qt=a(94),Jt=function(e){var t=e.orderId,a=e.siteId,n=e.form,s=e.errors,i=e.paperSize,c=e.translate,o=e.fulfillOrder,l=e.emailDetails,u=e.order,d=e.hasLabelsPaymentMethod,m=Object(L.q)(n.rates)&&Object.values(n.rates.values).some(function(e){return"ups"!==e.carrierId}),p=d&&m||!m;return r.a.createElement(Pt.a,{className:"label-purchase-modal__sidebar",title:c("Shipping summary")},r.a.createElement("div",{className:"label-purchase-modal__shipping-summary-header"},c("Shipping summary")),r.a.createElement(Vt,{siteId:a,orderId:t}),r.a.createElement(Dt,{siteId:a,orderId:t}),r.a.createElement("hr",null),r.a.createElement("div",{className:"label-purchase-modal__purchase-container"},p?r.a.createElement(_.a,{id:"paper_size",valuesMap:Object(Tt.a)(n.origin.values.country),title:c("Paper size"),value:i,updateValue:function(n){return e.updatePaperSize(t,a,n)},error:s.paperSize}):null,r.a.createElement(Wt,{siteId:a,orderId:t})),r.a.createElement(Ae.a,{className:"label-purchase-modal__option-mark-order-fulfilled",label:Object(Qt.b)(u.status)?c("Notify the customer with shipment details"):c("Mark this order as complete and notify the customer"),checked:o||l,onChange:function(n){e.setFulfillOrderOption(t,a,n&&!Object(Qt.b)(u.status)),e.setEmailDetailsOption(t,a,n&&Object(Qt.b)(u.status))}}))};Jt.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired,paperSize:i.a.string.isRequired,errors:i.a.object.isRequired,form:i.a.object.isRequired,updatePaperSize:i.a.func.isRequired,fulfillOrder:i.a.bool.isRequired,emailDetails:i.a.bool.isRequired,order:i.a.object.isRequired,hasLabelsPaymentMethod:i.a.bool.isRequired,setFulfillOrderOption:i.a.func.isRequired};var $t=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n);return{order:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(Yt.a)(e);return!!Gt(e,t)}(e)?Kt(e):Object(Rt.a)(e,a),paperSize:s.paperSize,form:s.form,hasLabelsPaymentMethod:Boolean(Object(Re.o)(e,n)),errors:r&&Object(L.f)(e,a,n).sidebar,fulfillOrder:r&&Object(L.z)(e,a,n),emailDetails:r&&Object(L.y)(e,a,n)}},function(e){return Object(o.b)({setEmailDetailsOption:V.M,setFulfillOrderOption:V.N,updatePaperSize:V.Z},e)})(Object(l.localize)(Jt)),Xt=a(422),ea=function(e){var t=e.loaded,a=e.translate,n=e.showPurchaseDialog;if(!t)return null;return n?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"woocommerce label-purchase-modal wcc-root",shouldCloseOnClickOutside:!1,onRequestClose:function(){return e.exitPrintingFlow(e.orderId,e.siteId,!1)},title:a("Create shipping label","Create shipping labels",{count:Object.keys(e.form.packages.selected).length})},r.a.createElement("div",{className:"label-purchase-modal__content"},r.a.createElement("div",{className:"label-purchase-modal__main-section"},r.a.createElement(de,{type:"origin",title:a("Origin address"),siteId:e.siteId,orderId:e.orderId}),r.a.createElement(de,{type:"destination",title:a("Destination address"),siteId:e.siteId,orderId:e.orderId}),r.a.createElement(Ke,{siteId:e.siteId,orderId:e.orderId}),e.isCustomsFormRequired&&r.a.createElement(bt,{siteId:e.siteId,orderId:e.orderId}),r.a.createElement(qt,{siteId:e.siteId,orderId:e.orderId})),r.a.createElement($t,{siteId:e.siteId,orderId:e.orderId}))),r.a.createElement(Xt.a,{siteId:e.siteId,orderId:e.orderId})):null};ea.propTypes={siteId:i.a.number.isRequired,orderId:i.a.number.isRequired};t.default=Object(c.b)(function(e,t){var a=t.orderId,n=t.siteId,r=Object(L.x)(e,a,n),s=Object(L.k)(e,a,n);return{loaded:r,form:r&&s.form,showPurchaseDialog:s.showPurchaseDialog,isCustomsFormRequired:Object(L.s)(e,a,n)}},function(e){return Object(o.b)({exitPrintingFlow:V.o},e)})(Object(l.localize)(ea))}}]);