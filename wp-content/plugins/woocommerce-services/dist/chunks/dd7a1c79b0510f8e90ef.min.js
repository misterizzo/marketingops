(window.webpackJsonp=window.webpackJsonp||[]).push([[151],{24:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return p});var a=n(69),r=n.n(a),i=n(0),s={debounce:i.debounce,isPlainObject:i.isPlainObject,uniqueId:i.uniqueId},o=(n(10),s.uniqueId);function c(e){return{noticeId:e,type:"NOTICE_REMOVE"}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.id,i=r()(n,["id"]);return{type:"NOTICE_CREATE",notice:Object.assign({showDismiss:!0},i,{noticeId:a||o(),status:e,text:t})}}var u=l.bind(null,"is-success"),m=l.bind(null,"is-error"),p=l.bind(null,"is-info");l.bind(null,"is-warning"),l.bind(null,"is-plain")},268:function(e,t,n){"use strict";var a,r=n(5),i=n.n(r),s=n(1),o=n.n(s),c=n(0),l=n(10),u=Object(l.b)({},(a={},i()(a,"NOTICE_CREATE",function(e,t){var n=t.notice;return o()({},e,i()({},n.noticeId,n))}),i()(a,"NOTICE_REMOVE",function(e,t){var n=t.noticeId;return e.hasOwnProperty(n)?Object(c.omit)(e,n):e}),i()(a,"ROUTE_SET",function(e){return Object(c.reduce)(e,function(e,t,n){if(!t.isPersistent&&!t.displayOnNextPage)return e;var a=t;return a.displayOnNextPage&&(a=o()({},a,{displayOnNextPage:!1})),e[n]=a,e},{})}),a)),m=Object(l.b)({},i()({},"NOTICE_CREATE",function(e,t){var n=t.notice;return o()({},e,i()({},n.noticeId,Date.now()))}));t.a=Object(l.a)({items:u,lastTimeShown:m})},27:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(0),r=n(267),i=n.n(r),s=(n(64),function(e){return e}),o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.join()},c=function(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return e.map(function(e){return e.apply(void 0,[t].concat(a))})}};function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,l=Object(a.memoize)(e,r);return Array.isArray(n)&&(n=c(n)),Object.assign(function(e){for(var a=arguments.length,r=new Array(a>1?a-1:0),s=1;s<a;s++)r[s-1]=arguments[s];var o=n.apply(void 0,[e].concat(r));return Array.isArray(o)||(o=[o]),t&&!i()(o,t)&&l.cache.clear(),t=o,l.apply(void 0,[e].concat(r))},{memoizedSelector:l})}},672:function(e,t,n){"use strict";var a=n(260),r=n.n(a),i=n(69),s=n.n(i),o=n(2),c=n.n(o),l=n(32),u=n.n(l);t.a=function(e){var t=e.className,n=e.children,a=s()(e,["className","children"]);return c.a.createElement("fieldset",r()({},a,{className:u()(t,"form-fieldset")}),n)}},673:function(e,t,n){"use strict";var a=n(260),r=n.n(a),i=n(69),s=n.n(i),o=n(2),c=n.n(o),l=n(19),u=n.n(l),m=n(32),p=n.n(m),d=n(8),f=function(e){var t=e.children,n=e.required,a=e.optional,i=e.translate,o=e.className,l=(e.moment,e.numberFormat,e.dangerouslySetInnerHTML),u=s()(e,["children","required","optional","translate","className","moment","numberFormat","dangerouslySetInnerHTML"]),m=l?null:c.a.createElement(c.a.Fragment,null,t,n&&c.a.createElement("small",{className:"form-label__required"},i("Required")),a&&c.a.createElement("small",{className:"form-label__optional"},i("Optional")));return c.a.createElement("label",r()({},u,{dangerouslySetInnerHTML:l,className:p()(o,"form-label")}),m)};f.propTypes={required:u.a.bool,optional:u.a.bool,children:u.a.node},t.a=Object(d.localize)(f)},675:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var a=n(260),r=n.n(a),i=n(52),s=n.n(i),o=n(78),c=n.n(o),l=n(90),u=n.n(l),m=n(84),p=n.n(m),d=n(91),f=n.n(d),h=n(5),g=n.n(h),b=n(2),v=n.n(b),E=n(19),y=n.n(E),_=n(32),N=n.n(_),w=n(0),T=function(e){function t(){return s()(this,t),u()(this,p()(t).apply(this,arguments))}return f()(t,e),c()(t,[{key:"render",value:function(){var e=N()(this.props.className,"form-setting-explanation",{"no-validate":this.props.noValidate,"is-indented":this.props.isIndented});return v.a.createElement("p",r()({},Object(w.omit)(this.props,"className","noValidate","isIndented"),{className:e}),this.props.children)}}]),t}(v.a.Component);g()(T,"displayName","FormSettingExplanation"),g()(T,"propTypes",{noValidate:y.a.bool,isIndented:y.a.bool,className:y.a.string}),g()(T,"defaultProps",{noValidate:!1,isIndented:!1})},676:function(e,t,n){"use strict";var a=n(260),r=n.n(a),i=n(69),s=n.n(i),o=n(2),c=n.n(o),l=n(32),u=n.n(l);t.a=function(e){var t=e.className,n=e.children,a=s()(e,["className","children"]);return c.a.createElement("legend",r()({},a,{className:u()(t,"form-legend")}),n)}},677:function(e,t,n){"use strict";var a=n(260),r=n.n(a),i=n(69),s=n.n(i),o=n(2),c=n.n(o),l=n(32),u=n.n(l);t.a=function(e){var t=e.className,n=e.children,a=s()(e,["className","children"]);return c.a.createElement("h3",r()({},a,{className:u()(t,"form-section-heading")}),n)}},678:function(e,t,n){"use strict";var a=n(52),r=n.n(a),i=n(78),s=n.n(i),o=n(90),c=n.n(o),l=n(84),u=n.n(l),m=n(92),p=n.n(m),d=n(91),f=n.n(d),h=n(5),g=n.n(h),b=n(19),v=n.n(b),E=n(2),y=n.n(E),_=n(32),N=n.n(_),w=n(0),T=n(8),O=n(261),k=n.n(O);n(682);function x(e){var t=e.children;return y.a.createElement("span",{className:"screen-reader-text"},t)}var C=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"dismissTimeout",null),n}return f()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){clearTimeout(this.dismissTimeout),this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"getIcon",value:function(){var e;switch(this.props.status){case"is-info":e="info";break;case"is-success":e="checkmark";break;case"is-error":case"is-warning":e="notice";break;default:e="info"}return e}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.icon,r=e.isCompact,i=e.isLoading,s=e.onDismissClick,o=e.showDismiss,c=void 0===o?!r:o,l=e.status,u=e.text,m=e.translate,p=N()("notice",l,n,{"is-compact":r,"is-loading":i,"is-dismissable":c});return y.a.createElement("div",{className:p},y.a.createElement("span",{className:"notice__icon-wrapper"},y.a.createElement(k.a,{className:"notice__icon",icon:a||this.getIcon(),size:24})),y.a.createElement("span",{className:"notice__content"},y.a.createElement("span",{className:"notice__text"},u||t)),u?t:null,c&&y.a.createElement("span",{tabIndex:"0",className:"notice__dismiss",onClick:s,onKeyDown:s,role:"button","aria-label":m("Dismiss")},y.a.createElement(k.a,{icon:"cross",size:24}),y.a.createElement(x,null,m("Dismiss"))))}}]),t}(E.Component);g()(C,"defaultProps",{className:"",duration:0,icon:null,isCompact:!1,isLoading:!1,onDismissClick:w.noop,status:null,text:null}),g()(C,"propTypes",{className:v.a.string,duration:v.a.number,icon:v.a.string,isCompact:v.a.bool,isLoading:v.a.bool,onDismissClick:v.a.func,showDismiss:v.a.bool,status:v.a.oneOf(["is-error","is-info","is-success","is-warning","is-plain"]),text:v.a.oneOfType([v.a.arrayOf(v.a.oneOfType([v.a.string,v.a.node])),v.a.oneOfType([v.a.string,v.a.node])]),translate:v.a.func.isRequired});t.a=Object(T.localize)(C)},681:function(e,t,n){"use strict";var a=n(41),r=n.n(a),i=n(0),s=n(129),o=r()("calypso:notices");o("initializing notices");var c,l={containerNames:{}};c=l,Object(i.assign)(c,s.EventEmitter.prototype),c.emitChange=function(){this.emit("change")},c.off=c.removeListener;var u=[],m={new:function(e,t,n){var a=t.overlay?"overlay-notices":"notices";l.containerNames[a]=a,o("creating notice",e,t,n),l[a]=[];var r={type:t.type||"message",status:n,text:e,duration:t.duration,container:a,button:t.button,href:t.href,onClick:function(e){if("function"===typeof t.onClick){var n=m.removeNotice.bind(m,r);return t.onClick(e,n)}},onRemoveCallback:t.onRemoveCallback||function(){},arrow:t.arrow,isCompact:t.isCompact,showDismiss:t.showDismiss,persistent:t.persistent};return t.displayOnNextPage?u.push(r):l[a].push(r),l.emit("change"),r},success:function(e,t){return t=t||{},this.new(e,t,"is-success")},error:function(e,t){return t=t||{},this.new(e,t,"is-error")},info:function(e,t){return t=t||{},this.new(e,t,"is-info")},warning:function(e,t){return t=t||{},this.new(e,t,"is-warning")},list:l,removeNotice:function(e){if(e.container){var t=l[e.container],n=t.indexOf(e);-1!==n&&(t.splice(n,1),l.emit("change"))}},clearNoticesOnNavigation:function(e,t){o("clearNoticesOnNavigation");var n=!1,a=function(e){return e.persistent};for(var r in l.containerNames){var i=l[r].length;l[r]=l[r].filter(a),i!==l[r].length&&(n=!0)}u.length&&(u.forEach(function(e){l[e.container]=[],l[e.container].push(e)}),u=[]),n&&l.emit("change"),t()},clearNotices:function(e){l[e]=[],l.emit("change")},getStatusHelper:function(e){return e.error?"is-error":e.warning?"is-warning":e.info?"is-info":e.success?"is-success":void 0}};t.a=m},682:function(e,t,n){},687:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var a=n(52),r=n.n(a),i=n(78),s=n.n(i),o=n(90),c=n.n(o),l=n(84),u=n.n(l),m=n(91),p=n.n(m),d=n(5),f=n.n(d),h=n(19),g=n.n(h),b=n(2),v=n.n(b),E=n(261),y=n.n(E),_=function(e){function t(){return r()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),s()(t,[{key:"render",value:function(){var e={className:"notice__action",href:this.props.href,onClick:this.props.onClick};return this.props.external&&(e.target="_blank",e.rel="noopener noreferrer"),v.a.createElement("a",e,v.a.createElement("span",null,this.props.children),this.props.icon&&v.a.createElement(y.a,{icon:this.props.icon,size:24}),this.props.external&&v.a.createElement(y.a,{icon:"external",size:24}))}}]),t}(v.a.Component);f()(_,"displayName","NoticeAction"),f()(_,"propTypes",{href:g.a.string,onClick:g.a.func,external:g.a.bool,icon:g.a.string}),f()(_,"defaultProps",{external:!1})},691:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(19),s=n.n(i),o=n(32),c=n.n(o),l=n(846),u=n(677),m=function(e){var t=e.heading,n=e.children;return r.a.createElement(l.a,{className:c()("settings-group-card","card","is-compact")},t&&r.a.createElement(u.a,{className:"settings-group-card__heading"},t),r.a.createElement("div",{className:c()("settings-group-card__content",{"is-full-width":!t})},n))};m.propTypes={heading:s.a.node},t.a=m},694:function(e,t,n){},695:function(e,t,n){"use strict";var a=n(713),r=["a","strong","em","u","tt","s"],i=["target","href"];t.a=function(e){return{__html:Object(a.sanitize)(e,{ALLOWED_TAGS:r,ALLOWED_ATTR:i})}}},702:function(e,t,n){"use strict";var a=n(260),r=n.n(a),i=n(69),s=n.n(i),o=n(184),c=n.n(o),l=n(19),u=n.n(l),m=n(2),p=n.n(m),d=n(678),f=n(687),h=n(32),g=n.n(h);n(694);function b(e){var t=e.id,n=e.className,a=e.children;return p.a.createElement("div",{id:t,className:g()("global-notices",n)},a)}var v=n(681),E=n(41),y=n.n(E)()("calypso:data-observe"),_=n(61),N=n(0),w=n(27),T=Object(w.a)(function(e){return Object(N.values)(e.notices.items)},function(e){return e.notices.items}),O=(Object(w.a)(function(e,t){return e.notices.lastTimeShown[t]||0},function(e){return e.notices.lastTimeShown}),n(24)),k=c()({displayName:"GlobalNotices",mixins:[function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{componentDidMount:function(){t.forEach(function(e){this.props[e]?this.props[e].on("change",this.update):y(e+" is not set.")},this)},componentWillUnmount:function(){t.forEach(function(e){this.props[e]&&this.props[e].off("change",this.update)},this)},componentWillReceiveProps:function(e){t.forEach(function(t){this.props[t]!==e[t]&&(this.props[t]&&this.props[t].off("change",this.update),e[t]&&e[t].on("change",this.update))},this)},update:function(){y("Re-rendering "+this.constructor.displayName+" component."),this.forceUpdate()}}}("notices")],propTypes:{id:u.a.string,notices:u.a.oneOfType([u.a.object,u.a.array]),removeNotice:u.a.func.isRequired,storeNotices:u.a.array.isRequired},getDefaultProps:function(){return{id:"overlay-notices",notices:Object.freeze([])}},removeNoticeStoreNotice:function(e){return function(){e&&v.a.removeNotice(e)}},removeReduxNotice:function(e,t){var n=this;return function(a){t&&t(a),n.props.removeNotice(e)}},render:function(){var e=(this.props.notices[this.props.id]||[]).map(function(e,t){return p.a.createElement(d.a,{key:"notice-old-"+t,status:e.status,duration:e.duration||null,text:e.text,isCompact:e.isCompact,onDismissClick:this.removeNoticeStoreNotice(e),showDismiss:e.showDismiss},e.button&&p.a.createElement(f.a,{href:e.href,onClick:e.onClick},e.button))},this);return(e=e.concat(this.props.storeNotices.map(function(e){var t=e.button,n=e.href,a=e.noticeId,i=e.onClick,o=e.onDismissClick,c=s()(e,["button","href","noticeId","onClick","onDismissClick"]);return p.a.createElement(d.a,r()({},c,{key:"notice-".concat(a),onDismissClick:this.removeReduxNotice(a,o)}),t&&p.a.createElement(f.a,{href:n,onClick:i},t))},this))).length?p.a.createElement(b,{id:this.props.id},e):null}});t.a=Object(_.b)(function(e){return{storeNotices:T(e)}},{removeNotice:O.c})(k)},704:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(19),s=n.n(i),o=n(675),c=n(695),l=function(e){var t=e.text;return t?r.a.createElement(o.a,{dangerouslySetInnerHTML:Object(c.a)(t)}):null};l.propTypes={text:s.a.string},t.a=l},717:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var a=n(260),r=n.n(a),i=n(69),s=n.n(i),o=n(52),c=n.n(o),l=n(78),u=n.n(l),m=n(90),p=n.n(m),d=n(84),f=n.n(d),h=n(91),g=n.n(h),b=n(5),v=n.n(b),E=n(2),y=n.n(E),_=n(19),N=n.n(_),w=n(32),T=n.n(w),O=function(e){function t(){return c()(this,t),p()(this,f()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=T()("button",this.props.className,{"is-compact":this.props.compact,"is-primary":this.props.primary,"is-scary":this.props.scary,"is-busy":this.props.busy,"is-borderless":this.props.borderless});if(this.props.href){var t=this.props,n=(t.compact,t.primary,t.scary,t.busy,t.borderless,t.type,s()(t,["compact","primary","scary","busy","borderless","type"])),a=n.target?(n.rel||"").replace(/noopener|noreferrer/g,"")+" noopener noreferrer":n.rel;return y.a.createElement("a",r()({},n,{rel:a,className:e}))}var i=this.props,o=(i.compact,i.primary,i.scary,i.busy,i.borderless,i.target,i.rel,s()(i,["compact","primary","scary","busy","borderless","target","rel"]));return y.a.createElement("button",r()({},o,{className:e}))}}]),t}(E.PureComponent);v()(O,"propTypes",{compact:N.a.bool,primary:N.a.bool,scary:N.a.bool,busy:N.a.bool,type:N.a.string,href:N.a.string,borderless:N.a.bool,target:N.a.string,rel:N.a.string}),v()(O,"defaultProps",{type:"button"})},738:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return p});var a={};n.r(a),n.d(a,"labelsPrint",function(){return s}),n.d(a,"labelTestPrint",function(){return o}),n.d(a,"selfHelp",function(){return c}),n.d(a,"refreshServiceData",function(){return l});var r=n(35),i="wc/v1/connect/",s=function(){return"".concat(i,"label/print")},o=function(){return"".concat(i,"label/preview")},c=function(){return"".concat(i,"self-help")},l=function(){return"".concat(i,"service-data-refresh")},u=function(e){if(e.data.message)throw e.data.message;throw JSON.stringify(e)},m=function(e,t){return Object(r.a)().post(e,t).catch(u)},p=function(e,t){return Object(r.a)().createGetUrlWithNonce(e,t)}},807:function(e,t,n){},810:function(e,t,n){},844:function(e,t,n){"use strict";n.r(t);var a,r=n(2),i=n.n(r),s=(n(807),n(5)),o=n.n(s),c=n(1),l=n.n(c),u=(a={},o()(a,"PLUGIN_STATUS_DEBUG_TOGGLE",function(e,t){var n=t.value;return l()({},e,{debug_enabled:n})}),o()(a,"PLUGIN_STATUS_LOGGING_TOGGLE",function(e,t){var n=t.value;return l()({},e,{logging_enabled:n})}),o()(a,"SERVICE_DATA_REFRESH",function(e,t){var n=t.value;return l()({},e,{health_items:l()({},e.health_items,{woocommerce_services:l()({},e.health_items.woocommerce_services,n)})})}),a),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return u[t.type]?u[t.type](e,t):e},p=n(61),d=n(8),f=n(672),h=n(676),g=n(702),b=n(836),v=n(19),E=n.n(v),y=n(261),_=n.n(y),N=n(32),w=n.n(N),T=function(e){var t,n,a=e.title,r=e.subtitle,s=e.state,o=e.message,c=e.children;switch(s){case"fetching":n="is-fetching",t="sync";break;case"success":n="is-success",t="checkmark-circle";break;case"warning":n="is-warning",t="notice";break;case"error":default:n="is-error",t="notice"}return i.a.createElement(f.a,null,i.a.createElement(h.a,null,i.a.createElement("span",null,a),r&&i.a.createElement("span",{className:"plugin-status__indicator-subtitle"},r)),i.a.createElement("div",{className:w()("plugin-status__indicator",n)},i.a.createElement("div",{className:"plugin-status__indicator-icon-and-message"},i.a.createElement("div",{className:"plugin-status__indicator-icon"},i.a.createElement(_.a,{icon:t})),i.a.createElement("div",{className:"plugin-status__indicator-message"},o)),c))};T.propTypes={title:E.a.string,subtitle:E.a.string,state:E.a.string,message:E.a.string,children:E.a.node};var O=T,k=n(53),x=n.n(k),C=n(675),S=n(69),j=n.n(S),D=n(0),A=n.n(D),L=n(738),R=n(24),I=function(){return function(e,t){var n=t().status,a={wcc_debug_on:n.debug_enabled,wcc_logging_on:n.logging_enabled};L.b(L.c.selfHelp(),a).then(function(){return e(Object(R.d)(Object(d.translate)("Your changes have been saved."),{duration:5e3}))}).catch(function(t){A.a.isString(t)&&e(Object(R.a)(t)),A.a.isObject(t)&&e(Object(R.a)(Object(d.translate)("There was a problem when saving your preferences. Please try again.")))})}},G={onRefreshClick:function(){return function(e){return L.b(L.c.refreshServiceData()).then(function(t){t.success;var n=j()(t,["success"]);e({type:"SERVICE_DATA_REFRESH",value:n}),e(Object(R.d)(Object(d.translate)("Service data refreshed.")))}).catch(function(){e(Object(R.a)(Object(d.translate)("An error occurred while refreshing service data.")))})}}},P=Object(p.b)(function(e){return{status:e.status.health_items.woocommerce_services}},G)(Object(d.localize)(function(e){var t,n,a=e.translate,s=e.moment,o=e.status,c=e.onRefreshClick,l=Object(r.useState)(!1),u=x()(l,2),m=u[0],p=u[1],d=Object(r.useCallback)(function(e){e.preventDefault(),p(!0),c().finally(function(){return p(!1)})},[c,p]),f=Date.now()/1e3;return o.has_service_schemas?o.timestamp?o.timestamp<f-o.error_threshold?(t="error",n=a("Service data was found, but is more than three days old")):o.timestamp<f-o.warning_threshold?(t="warning",n=a("Service data was found, but is more than one day old")):(t="success",n=a("Service data is up-to-date")):(t="warning",n=a("Service data found, but may be out of date")):(t="error",n=a("No service data available")),m&&(t="fetching"),i.a.createElement(O,{title:a("WooCommerce Shipping & Tax Data"),state:t,message:n},i.a.createElement(C.a,null,o.timestamp&&o.has_service_schemas?a("Last updated %s.",{args:s(1e3*o.timestamp).fromNow()}):null," ",i.a.createElement("a",{onClick:d,href:"#"},a("Refresh"))))})),U=n(691),z=Object(p.b)(function(e){return{healthItems:e.status.health_items,isShippingLoaded:e.status.is_shipping_loaded}})(Object(d.localize)(function(e){var t=e.translate,n=e.healthItems,a=e.isShippingLoaded;return i.a.createElement(U.a,{heading:t("Health",{context:"This section displays the overall health of WooCommerce Shipping & Tax and the things it depends on"})},i.a.createElement(O,{title:t("WooCommerce"),message:n.woocommerce.message,state:n.woocommerce.state}),i.a.createElement(O,{title:t("WordPress.com Connection"),state:n.wpcom_connection.state,message:n.wpcom_connection.message}),i.a.createElement(O,{title:t("Automated Taxes"),state:n.automated_taxes.state,message:n.automated_taxes.message},i.a.createElement(C.a,null,"tax"===n.automated_taxes.settings_link_type&&i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{href:"admin.php?page=wc-settings&tab=tax"},t("Go to the Tax settings")),i.a.createElement("br",null)),"general"===n.automated_taxes.settings_link_type&&i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{href:"admin.php?page=wc-settings"},t("Go to General settings")),i.a.createElement("br",null)),i.a.createElement(b.a,{href:"https://docs.woocommerce.com/document/woocommerce-shipping-and-tax/woocommerce-tax/"},t("Automated taxes documentation")))),a&&i.a.createElement(P,null))})),q=n(52),H=n.n(q),W=n(78),V=n.n(W),F=n(90),M=n.n(F),B=n(84),K=n.n(B),J=n(92),Y=n.n(J),Q=n(91),X=n.n(Q),Z=n(260),$=n.n(Z),ee=n(112),te=n.n(ee),ne=n(809),ae=n.n(ne),re=n(717);function ie(e){var t=e.className,n=e.text,a=e.onCopy,r=void 0===a?D.noop:a,s=j()(e,["className","text","onCopy"]),o=i.a.useRef(),c=i.a.useRef(),l=i.a.useRef();return i.a.useEffect(function(){c.current=function(){return n},l.current=r},[n,r]),i.a.useEffect(function(){var e=te.a.findDOMNode(o.current),t=new ae.a(e,{text:function(){return c.current()}});return t.on("success",function(){return l.current()}),function(){return t.destroy()}},[]),i.a.createElement(re.a,$()({},s,{ref:o,className:w()("clipboard-button",t)}))}ie.propTypes={className:E.a.string,text:E.a.string,onCopy:E.a.func};var se=ie,oe=n(673),ce=function(e){var t=e.className,n=e.isError,a=e.isValid,r=e.children,s=j()(e,["className","isError","isValid","children"]);return i.a.createElement("textarea",$()({},s,{className:w()(t,"form-textarea",{"is-error":n,"is-valid":a})}),r)},le=n(681),ue=function(e){function t(){var e,n;H()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=M()(this,(e=K()(t)).call.apply(e,[this].concat(r))),o()(Y()(n),"onCopy",function(){var e=n.props.translate;le.a.success(e("Log tail copied to clipboard"),{duration:2e3})}),n}return X()(t,e),V()(t,[{key:"render",value:function(){var e=this.props,t=e.key,n=e.title,a=e.tail,r=e.url,s=e.count,o=e.translate,c="wcs-log-".concat(t);return i.a.createElement(f.a,null,i.a.createElement(oe.a,{htmlFor:c},n),i.a.createElement(ce,{id:c,name:c,readOnly:!0,value:a}),i.a.createElement(C.a,{className:"plugin-status__log-explanation"},i.a.createElement("span",{className:"plugin-status__log-explanation-span"},o("Last %s entry. {{a}}Show full log{{/a}}","Last %s entries. {{a}}Show full log{{/a}}",{args:[s],count:s,components:{a:i.a.createElement("a",{href:r})}})),i.a.createElement(se,{text:a,onCopy:this.onCopy,compact:!0},o("Copy for support"))))}}]),t}(r.Component);ue.propTypes={title:E.a.string,logKey:E.a.string};var me=Object(p.b)(function(e,t){var n=t.logKey;return e.status.logs[n]})(Object(d.localize)(ue)),pe=Object(p.b)(function(e){return{services:e.status.services}})(Object(d.localize)(function(e){var t=e.translate,n=e.moment,a=e.services;if(!1===a)return null;var r=function(e,a){return i.a.createElement(O,{key:a,title:e.title,subtitle:e.subtitle,state:e.state,message:e.message},function(e){var a=e.timestamp,r=e.url;return a>0?i.a.createElement(C.a,null,t("Request was made %s - check logs below or {{a}}edit service settings{{/a}}",{args:n(1e3*a).fromNow(),components:{a:i.a.createElement("a",{href:r})}})):i.a.createElement(C.a,null,i.a.createElement("a",{href:r},t("Edit service settings")))}(e))};return i.a.createElement(U.a,{heading:t("Services")},a.length?a.map(r):i.a.createElement(C.a,null,t("No services configured. {{a}}Add a shipping service{{/a}}",{components:{a:i.a.createElement("a",{href:"admin.php?page=wc-settings&tab=shipping"})}})))})),de=n(811),fe=(n(810),n(704)),he=n(713),ge=function(e){return{__html:Object(he.sanitize)(e,{ALLOWED_TAGS:["a","strong","em","u","tt","s"],ALLOWED_ATTR:["target","href"]})}},be=function(e){function t(){var e,n;H()(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=M()(this,(e=K()(t)).call.apply(e,[this].concat(r))),o()(Y()(n),"renderToggleText",function(e){return e?i.a.createElement("span",{className:"toggle__text",dangerouslySetInnerHTML:ge(e)}):null}),o()(Y()(n),"handleChangeEvent",function(){var e=n.props;(0,e.onUpdate)(!e.checked)}),n}return X()(t,e),V()(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.title,a=e.description,r=e.trueText,s=e.falseText,o=e.checked,c=e.placeholder,l=e.className;return i.a.createElement(f.a,{className:l},i.a.createElement(oe.a,{htmlFor:t,dangerouslySetInnerHTML:ge(n)}),i.a.createElement(de.a,{id:t,name:t,placeholder:c,checked:o,onChange:this.handleChangeEvent}),this.renderToggleText(o?r:s),i.a.createElement(fe.a,{text:a}))}}]),t}(r.Component);o()(be,"propTypes",{id:E.a.string.isRequired,title:E.a.string,description:E.a.string,trueText:E.a.string.isRequired,falseText:E.a.string.isRequired,checked:E.a.bool,onUpdate:E.a.func,className:E.a.string}),o()(be,"defaultProps",{checked:!1});var ve=be,Ee={onLoggingToggle:function(e){return function(t){t({type:"PLUGIN_STATUS_LOGGING_TOGGLE",value:e}),t(I())}},onDebuggingToggle:function(e){return function(t){t({type:"PLUGIN_STATUS_DEBUG_TOGGLE",value:e}),t(I())}}},ye=Object(p.b)(function(e){return{isLoggingEnabled:Boolean(e.status.logging_enabled),isDebuggingEnabled:Boolean(e.status.debug_enabled),taxRateBackups:e.status.tax_rate_backups,isShippingLoaded:e.status.is_shipping_loaded}},Ee)(Object(d.localize)(function(e){var t=e.onLoggingToggle,n=e.onDebuggingToggle,a=e.isLoggingEnabled,r=e.isDebuggingEnabled,s=e.taxRateBackups,o=e.translate,c=e.isShippingLoaded;return i.a.createElement("div",null,i.a.createElement(g.a,{id:"notices",notices:le.a.list}),i.a.createElement(z,null),i.a.createElement(pe,null),i.a.createElement(U.a,{heading:o("Debug")},i.a.createElement(ve,{id:"wcs-toggle-debug",checked:r,title:o("Debug"),description:o("Display troubleshooting information on the Cart and Checkout pages."),trueText:o("Enabled"),falseText:o("Disabled"),onUpdate:n}),i.a.createElement(ve,{id:"wcs-toggle-logging",checked:a,title:o("Logging"),description:o("Write diagnostic messages to log files. Helpful when contacting support."),trueText:o("Enabled"),falseText:o("Disabled"),onUpdate:t}),c&&i.a.createElement(me,{logKey:"shipping",title:o("Shipping Log")}),i.a.createElement(me,{logKey:"taxes",title:o("Taxes Log")}),i.a.createElement(me,{logKey:"other",title:o("Other Log")})),s?i.a.createElement(U.a,{heading:o("Tax Rates")},i.a.createElement(f.a,null,i.a.createElement(h.a,{id:"tax-rate-backups"},o("Download Backed-up Tax Rates")),i.a.createElement("p",{className:"plugin-status__help-description"},o("Click a file below to download it, then import it into the {{taxRatesA}}tax rates table{{/taxRatesA}}.",{components:{taxRatesA:i.a.createElement("a",{href:"/wp-admin/admin.php?page=wc-settings&tab=tax&section=standard"})}}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("ul",null,Object.keys(s).map(function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("a",{href:s[e]},e))}))))):"",i.a.createElement(U.a,{heading:o("Support")},i.a.createElement(f.a,null,i.a.createElement(h.a,null,o("Need help?")),i.a.createElement("p",{className:"plugin-status__help-description"},o("Our team is here for you. View our {{docsA}}support docs{{/docsA}} or {{ticketA}}open a support ticket{{/ticketA}}.",{components:{docsA:i.a.createElement("a",{href:"https://docs.woocommerce.com/document/woocommerce-shipping-and-tax/",target:"_blank",rel:"noopener noreferrer"}),ticketA:i.a.createElement("a",{href:"https://woocommerce.com/my-account/create-a-ticket/",target:"_blank",rel:"noopener noreferrer"})}})))))})),_e=n(268),Ne=n(10);t.default=function(e){var t=e.formData;return{getReducer:function(){return Object(Ne.a)({status:m,notices:_e.a})},getInitialState:function(){return{status:t}},getStateForPersisting:function(){return null},getStateKey:function(){return"wcs-admin-status"},View:function(){return i.a.createElement(ye,null)}}}}}]);